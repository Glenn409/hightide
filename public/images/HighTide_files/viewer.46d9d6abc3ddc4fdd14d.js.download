!function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);p.length;)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={5:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([684,0,4]),n()}([,function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){for(var a=t.split("."),i=e;null!=i&&0!==a.length;)i=i[a.shift()];return void 0!==i?i:n}n.r(t),n.d(t,"doNothing",(function(){return d})),n.d(t,"Config",(function(){return u}));var r=window.tkf.runMode,o=window.tkf.prefix||"",s=(s=location.origin)||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),l={shared:{prefix:o,config:{}},development:{host:location.host,root:s,rootPath:s+o+"/",publicAPIBase:"http://localhost",embedScript:"browser/embed.js",stripeKey:"pk_test_ZfNimf8SEv2V3C5nMpWVfMrm",showTestControls:!0},staging:{host:location.host,root:s,rootPath:s+o+"/",publicAPIBase:"http://localhost",embedScript:"browser/embed.js",stripeKey:"pk_test_ZfNimf8SEv2V3C5nMpWVfMrm",showTestControls:!1},production:{host:location.host,root:s,rootPath:s+o+"/",embedScript:"browser/embed.js",publicAPIBase:"https://tockify.com",stripeKey:"pk_live_veCQgDI94U10RwqTfKPHReyn",showTestControls:!1}},c=[l[r],l.shared,window.tkf||{}],d=1,u=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"BUILT_IN_OWNER_ID","579b3bb57a784dd2d6494bb2"),a(this,"getEnvProperty",(function(e,t){return(c.find((function(t){return void 0!==t[e]}))||{})[e]||t})),a(this,"get",this.getEnvProperty),a(this,"isHosted",(function(){return!!i(window,"_tkf.hostInfo")})),a(this,"getBootProperty",(function(e,t){return i(window,"tkf.bootdata."+e,t)})),a(this,"getHostProperty",(function(e,t){return i(window,"_tkf.hostInfo."+e,t)})),a(this,"setHostProperty",(function(e,n){t.isHosted()&&(window._tkf.hostInfo[e]=n)})),a(this,"getUserMeta",(function(){return i(window,"tkf.user")})),a(this,"getSubStatus",(function(){return i(window,"tkf.subscriptionStatus")}))}},,function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return m}));var a=n(18);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e){return Array.isArray(e)?e:[e]}var c=n(33),d=function(){return function e(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(1===n.length)return l(n[0]);if(2<n.length){var o=n[0],s=n.slice(1);return e(o,e.apply(void 0,r(s)))}for(var c=[],d=i(n.map(l),2),u=d[0],p=d[1],f=0;f<u.length;f++)for(var v=0;v<p.length;v++)c.push(u[f]+p[v]);return c}.apply(void 0,arguments).join(", ")},u=function(e,t,n){return c.interpolate(c(e),c(t),1-n,"hsl")},p=function(e,t){var n=a.a.familyToMeta(t.family);return{selector:e,properties:{"font-family":(n&&n.stack?n.stack:[t.family]).join(","),"font-weight":""+(t.weight||400),"font-style":""+(t.style||"normal")}}},f=[":active",":hover",":visited"],v=[""].concat(f),g=[].concat(r(v),[".active"]),h=["a","a:active","a:hover","a:visited"],m={cross:d,mix:u,makeFontRule:p}},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return g})),n(8);var r=/^[\+-_a-z0-9]+(\.[\+-_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,7})$/,o=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},s=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},l=function(e,t){var n=null;return function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];var o=this;clearTimeout(n),n=setTimeout((function(){e.call.apply(e,[o].concat(i)),n=null}),t)}},c=function(e,t){var n=null,a=0;return function(){a++;var i=this;clearTimeout(n),n=setTimeout((function(){e.call(i,a),a=0,n=null}),t)}},d=function(e,t,n){if(null===t||0===t.length)return e;for(var a=t.split("."),i=e;null!=i&&0!==a.length;)i=i[a.shift()];return i||n},u=function(e){return setTimeout((function(){var t={pageX:e.pageX,pageY:e.pageY,clientX:e.pageX,clientY:e.pageY},n=3===(n=document.elementFromPoint(t.pageX,t.pageY)).nodeType?n.parentNode:n,a=new MouseEvent("click",t);n.dispatchEvent(a)}),0)},p=function(e,t,n,a){var i=0;return e((function(e,r){!function o(){var s=document.querySelector(t);s?e(s):a<i?r():setTimeout(o,n),i+=n}()}))},f=function(e,t){var n=1<arguments.length&&void 0!==t?t:2e4;return new Promise((function(t,a){var i,r=!1;r&&(i=setTimeout((function(){r=!0,a("timed out")}),n));var o=document.createElement("script");o.type="application/javascript",o.src=e,o.async=!0,o.defer=!0,document.body.appendChild(o),o.onload=function(){i&&clearTimeout(i),r||t()}}))},v=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"queue",[]),i(this,"running",!1),i(this,"isEmpty",(function(){return 0===n.queue.length})),i(this,"runAfterPromise",(function(){return n.$q.when(0)})),i(this,"add",(function(e){n.queue.push(e),n.trigger()})),this.$q=t}var t,n;return t=e,(n=[{key:"afterPromise",value:function(e){this.runAfterPromise=e}},{key:"trigger",value:function(){var e,t=this;!this.running&&1<=this.queue.length&&(e=this.queue.shift(),this.running=!0,e().then((function(){return t.runAfterPromise()})).finally((function(){t.running=!1,t.trigger()})))}}])&&a(t.prototype,n),e}(),g=function(e,t){var n,a,i,r=(n=e,a=t,"function"==typeof Event?i=new CustomEvent(n):(i=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,a),i);document.dispatchEvent(r)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return w}));var a=n(43),i=n.n(a);function r(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)),a}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){var e=i.a.get("token");if(e){var t={Authorization:"Bearer "+e};return o(o({},p),{},{bearerHeader:t})}return p}function c(e){return e.then((function(e){if(401===e.status)throw i.a.remove("token"),window.location.assign("/i/site/login"),"not logged in";return e.text().then((function(t){var n={text:t};try{n=JSON.parse(t)}catch(t){}return Promise.resolve({jsonObject:n,fetchResponse:e})}))})).then((function(e){var t=e.jsonObject,n=e.fetchResponse;if(400<=+n.status){var a=t.errors||{},i=n.headers;throw{data:t,status:n.status,errors:a,headers:i,fetchResponse:n}}return t}))}function d(e,t){var n=1<arguments.length&&void 0!==t?t:{},a=Object.keys(n);if(0===a.length)return e;var i=a.filter((function(e){return void 0!==n[e]})).map((function(e){var t=n[e];return(Array.isArray(t)?t:[t]).map((function(e){return encodeURIComponent(e)})).map((function(t){return"".concat(e,"=").concat(t)})).join("&")})).join("&"),r=-1!==e.indexOf("?"),o=e[e.length-1],s="";return r?"&"!==o&&"?"!==o&&(s="&"):s="?",e+s+i}function u(e){var t=v.defer(),n=t.promise,a=t.resolve,i=t.reject;return e.then((function(e){return a(e)})).catch((function(e){return i(e)})),n}var p={Accept:"application/json","Content-Type":"application/json"},f="same-origin",v=null,g=function(e){return v=e},h=function(e){return v.resolve(e)},m=function(e,t,n){return u(function(e,t,n){var a=d(e,2<arguments.length&&void 0!==n?n:{});return c(fetch(a,{method:"POST",headers:l(),credentials:f,body:JSON.stringify(t)}))}(e,t,n))},b=function(e,t,n){return u(function(e,t,n){var a=1<arguments.length&&void 0!==t?t:{},i=d(e,2<arguments.length&&void 0!==n?n:{});return c(fetch(i,{method:"PUT",headers:l(),credentials:f,body:JSON.stringify(a)}))}(e,t,n))},_=function(e,t){return u(function(e,t){var n=d(e,1<arguments.length&&void 0!==t?t:{});return c(fetch(n,{headers:l(),credentials:f}))}(e,t))},w=function(e,t){return u(function(e,t){var n=d(e,1<arguments.length&&void 0!==t?t:{});return c(fetch(n,{method:"DELETE",headers:l(),credentials:f}))}(e,t))}},,,function(e,t,n){"use strict";var a={partition:function(e,t){for(var n=[],a=[],i=0,r=e.length;i<r;i++)(t.call(e,e[i],i)?n:a).push(e[i]);return[n,a]},groupBy:function(e,t){return e.reduce((function(e,n){var a=t(n);return(e[a]=e[a]||[]).push(n),e}),{})},uniq:function(e){return e.filter((function(e,t,n){return n.indexOf(e)==t}))},uniqBy:function(e,t){var n={},a=[];return Object.keys(e).forEach((function(e){var i=t(e);n[i]||(n[i]=e,a.push(e))})),a},each:function(e,t){return e.isArray?e.forEach(t):Object.keys(e).forEach((function(n){t(e[n],n,e)}))},map:function(e,t){return e.isArray?e.map(t):Object.keys(e).map((function(n){return t(e[n],n,e)}))},filter:function(e,t){return e.isArray?e.filter(t):Object.keys(e).filter((function(n){return t(e[n],n)})).map((function(t){return e[t]}))}};t.a=a},function(e,t,n){"use strict";function a(e){return(e=e||"en-us").toLowerCase().replace(/_/g,"-")}function i(e){return"EST"===e&&(e="America/New_York"),e}function r(e){var t=e.split(/[-_]/),n=t[t.length-1].toUpperCase();return o.a.codeToCountryMap[n]||(n="US"),n}n.d(t,"a",(function(){return f}));var o=n(34),s=i(n(22).tz.guess()),l=(navigator.language||navigator.browserLanguage||navigator.userLanguage||"en-us").toLowerCase(),c=a("en-us"===l&&"Europe/London"===s?"en-gb":l),d=r(c),u=!0;try{var p=new Date(Date.UTC(2012,11,12,3,0,0));u=!(!p.toLocaleTimeString().match(/am|pm/i)&&!p.toString().match(/am|pm/i))}catch(e){}var f={toCanonicalLocale:a,locale:c,timezone:s,userTimezone:function(){return s},guessCountryCodeFromLocale:r,fixTZ:i,countryCode:d,hour12:u}},function(e,t,n){"use strict";var a=n(8);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r={},o=[];function s(e){e.tkf=!0,parent.postMessage(e,"*")}var l=function(){s({type:"fullscreen",open:!1}),window.removeEventListener("click",l),l=null};-1!==window.name.indexOf("fullscreen")&&window.addEventListener("click",l),window.addEventListener("message",(function(e){var t;try{if("string"==typeof e.data&&0===e.data.indexOf("{"))t=JSON.parse(e.data);else{if("object"!==i(e.data))return;t=e.data}}catch(e){}t.type=t.type||t.action;var n=r[t.type];n?(l&&window.removeEventListener("click",l),n(t,e)):o.push({msg:t,e:e})}),!1),t.a={postMessage:s,addHandler:function(e,t){var n,i,s,l,c;r[e]=t,n=e,i=t,l=(s=a.a.partition(o,(function(e){return e.msg.type===n})))[0],c=s[1],o=c,l.forEach((function(e){i(e.msg,e.e)}))},removeHandler:function(e){delete r[e]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(8);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"nameToStyler",{}),r(this,"styleSheetCtr",0),r(this,"sectionStart",void 0),r(this,"sectionEnd",void 0),r(this,"jsonToCSS",(function(e){var t={};return a.a.each(e,(function(e,n){e=(e+="").replace(/,/g,"€"),"content"===n&&(e="£"+e+"£"),t[n]=e})),JSON.stringify(t,null,0).replace(/"/g,"").replace(/\('/g,'("').replace(/'\)/g,'")').replace(/,/g,";").replace(/€/g,",").replace(/£/g,'"')})),r(this,"insertAfter",(function(e,t){return document.head.insertBefore(e,t.nextSibling)})),r(this,"removeStyler",(function(e){"string"==typeof e&&(e=t.nameToStyler[e]),e&&(e.remove(),delete t.nameToStyler[e.name])})),r(this,"getStyler",(function(e,n){return n&&t.removeStyler(e),t.nameToStyler[e]||(t.nameToStyler[e]=t.makeStyler(e)),t.nameToStyler[e]})),r(this,"getSectionStart",(function(){return t.sectionStart})),r(this,"getSectionEnd",(function(){return t.sectionEnd})),this.ensureTKFBoundary()}var t,n;return t=e,(n=[{key:"ensureTKFBoundary",value:function(){var e;this.sectionStart||(this.sectionStart=document.createElement("meta"),this.sectionStart.setAttribute("item-prop","tkf-stylesheets-start"),this.sectionEnd=document.createElement("meta"),this.sectionEnd.setAttribute("item-prop","tkf-stylesheets-end"),(e=document.createElement("style")).setAttribute("tkf-empty-defensive-stylesheet",""),[this.sectionStart,this.sectionEnd,e].forEach((function(e){return document.head.appendChild(e)})))}},{key:"makeStyler",value:function(e){var t=this;this.ensureTKFBoundary();var n=document.createElement("style");function a(e){var n=e.mediaQuery,a=e.selector,i=e.properties,o=(o=e.index)||0,s=a+" "+t.jsonToCSS(i);n&&(s=n+" { "+s+" }");try{r.insertRule(s,o)}catch(e){}}function i(e){return e.forEach(a)}n.setAttribute("tkf-stylesheet",e+"_"+this.styleSheetCtr++),n.appendChild(document.createTextNode("")),this.insertAfter(n,this.sectionStart);var r=n.sheet,o=!1,s=[];return{name:e,remove:function(){if(!o)try{document.head.removeChild(n),o=!0}catch(e){}},addMediaRules:i,queueRule:function(e,t){return s.push({selector:e,properties:t})},queueMediaRule:function(e,t,n){return s.push({mediaQuery:e,selector:t,properties:n})},applyRules:function(){i(s),s=[]},addMediaRule:a,addRule:function(e,t,n){return a({selector:e,properties:t,index:n})}}}}])&&i(t.prototype,n),e}())},function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)),a}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,a){return 3<arguments.length&&void 0!==a&&!a?function(){}:function(a,i,r){return e(t,n,a,i,r)}}n.d(t,"a",(function(){return v}));var c=n(1).Config.get("prefix",""),d=["","/i/docs","/i/docs/install","/i/docs/faq","/i/docs/api","/i/docs/howto","/i/docs/company"],u=window.tkf,p=u&&u.gaid,f=u&&u.useClientTracker,v=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"trackQueue",[]),s(this,"analyticsLoading",!1),s(this,"trackEvent",(function(e,n,a){t.trackTockifyEvent(e,n,a),t.trackClientEvent(e,n,a)})),s(this,"registrationError",(function(e,n){return t.trackTockifyEvent("registration-error",e,n)})),s(this,"timezoneChange",(function(e){return t.trackTockifyEvent("timezone-guess-wrong",e)})),s(this,"localeChange",(function(e){return t.trackTockifyEvent("locale-guess-wrong",e)})),s(this,"notFound",(function(e){return t.trackTockifyEvent("not-found",e)})),s(this,"trackButtonClick",(function(e,n){return t.trackEvent("button.click",e,n)})),s(this,"trackOutboundClick",(function(e){return e&&t.trackEvent("outbound","click",e)})),s(this,"trackPage",(function(e){e&&(document.title=e);var n=window.location.pathname||"/",a=t.canonicalise(n),i="/"===n||0===n.indexOf("/i/")||0===n.indexOf("/e/"),r={page:a};t.trackTockifyPageView(r),i||t.trackClientPageView(r)})),s(this,"canonicalise",(function(e){return e=e||"/i/emptyPath",-1!==d.indexOf(e)&&"/"!==e.charAt(e.length-1)&&(e+="/"),c+e})),this.vga=this.vga.bind(this),this.trackTockifyPageView=l(this.vga,"send","pageview"),this.trackClientPageView=l(this.vga,"clientTracker.send","pageview",f),this.trackTockifyEvent=l(this.vga,"send","event"),this.trackClientEvent=l(this.vga,"clientTracker.send","event",f)}var t,n;return t=e,(n=[{key:"loadAnalytics",value:function(e){var t,n=this,a=0<arguments.length&&void 0!==e?e:100;this.analyticsLoading||(t={storage:"none",anonymizeIp:this.analyticsLoading=!0,forceSSL:!0},setTimeout((function(){var e,i,o,l;e=window,i=document,e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,o=i.createElement("script"),l=i.getElementsByTagName("script")[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",l.parentNode.insertBefore(o,l),ga("create","UA-22922522-1","auto",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sampleRate:a},t)),p&&ga("create",p,"auto","clientTracker",t),ga("set","transport","beacon"),n.flushVGAQueue()}),2500))}},{key:"flushVGAQueue",value:function(){if(window.ga){var e=this.trackQueue;for(this.trackQueue=[];0!==e.length;){var t,n=e.pop();(t=window).ga.apply(t,a(n))}}else this.loadAnalytics()}},{key:"vga",value:function(){this.trackQueue.push(Array.prototype.slice.call(arguments)),this.flushVGAQueue()}}])&&o(t.prototype,n),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(1);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return e.test(t)}var o=navigator.userAgent,s=/iPhone/i,l=/iPod/i,c=/iPad/i,d=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/Android/i,p=/IEMobile/i,f=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,g=/BB10/i,h=/Opera Mini/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),_=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"apple",{phone:r(s,o),ipod:r(l,o),tablet:r(c,o),device:r(s,o)||r(l,o)||r(c,o)}),i(this,"isIOS",this.apple),i(this,"android",{phone:r(d,o),tablet:!r(d,o)&&r(u,o),device:r(d,o)||r(u,o)}),i(this,"windows",{phone:r(p,o),tablet:r(f,o),device:r(p,o)||r(f,o)}),i(this,"other",{blackberry:r(v,o),blackberry10:r(g,o),opera:r(h,o),firefox:r(m,o),device:r(v,o)||r(g,o)||r(h,o)||r(m,o)}),i(this,"seven_inch",r(b,o)),i(this,"any",this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch),i(this,"phone",this.apple.phone||this.android.phone||this.windows.phone),i(this,"tablet",this.apple.tablet||this.android.tablet||this.windows.tablet),i(this,"host",{size:function(){return a.Config.isHosted()?{width:a.Config.getHostProperty("width"),height:a.Config.getHostProperty("height")}:{width:1,height:1}}}),i(this,"isMobile",this),i(this,"logicalWidth",(function(){return t.any?window.screen.width:document.body.clientWidth})),i(this,"getIEVersion",(function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return 0<t?parseInt(e.substring(t+5,e.indexOf(".",t))):0})),i(this,"supportsThirdPartyCookies",(function(){var e="ThirdPartyCookieTest=";document.cookie=e+"yes";var t=-1!==document.cookie.indexOf(e);return document.cookie=e+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;",t}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(1),i=n(19),r=n(5),o=n(10);function s(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)),a}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d="/api/ngevent",u=a.Config.getBootProperty("query"),p=!1,f=0,v=!0,g={},h=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};c(h,"reportState",(function(e){o.a.postMessage(l(l({type:"report-view-state"},e),{},{guid:window.name}))})),c(h,"invalidateBootQuery",(function(){return p=!0})),c(h,"getOneDirect",(function(e){var t=Object.assign({},e,{max:1}),n=t.id;return delete t.id,Object(r.b)("".concat(d,"/").concat(n),t).then((function(e){var t=e.events,n=e.metaData;return{events:t,isEmptyCalendar:n&&n.isEmptyCalendar}}))})),c(h,"getOne",(function(e){if(!p){p=!0;var t=e.view;if(u&&u[t]){var n=u[t];return n.passback="boot",Object(r.f)(n)}}return h.getOneDirect(e)})),c(h,"next",(function(e){var t=Object.assign({},e,{max:12});return Object(r.b)("".concat(d),t).then((function(t){var n=t.events,a=t.metaData;v=a.hasNext,f+=n.length;var i={view:e.view,eventCount:f,isEmptyCalendar:!!a.isEmptyCalendar,hasNext:v,hasPrev:a.hasPrev};return h.reportState(i),{events:n,passback:a.passback}}))})),c(h,"query",(function(e){var t=Object.assign({max:12},e);return Object(r.b)("".concat(d),t).then((function(t){var n=t.events,a=t.metaData;v=a.hasNext,f+=n.length;var i={view:e.view,eventCount:f,isEmptyCalendar:!!a.isEmptyCalendar,hasNext:v,hasPrev:a.hasPrev};return h.reportState(i),{events:n,passback:a.passback,isEmptyCalendar:a.isEmptyCalendar}}))})),c(h,"getMore",(function(e){return e=e||{},Object.assign(g,e,{offset:f}),h.next(g)})),c(h,"queryAndSave",(function(e,t){if(v=!(f=0),g=l({},e),!p){p=!0;var n=e.view;if(u&&u[n]){var a=u[n];a.passback="boot";var i=a.events,o=a.metaData;if(v=o.hasNext,f+=i.length,0<i.length||!t){var s={view:n,eventCount:f,isEmptyCalendar:!!o.isEmptyCalendar,hasNext:v,hasPrev:o.hasPrev};return h.reportState(s),Object(r.f)(a)}}}return h.query(e)})),c(h,"getFeaturedImageSet",(function(e){var t=e.content.imageIdNg,n=e.content.imageSets||[],a=n.find((function(e){return e.id===t}));return!!(a=a||n.find((function(e){return e.oldId===t})))&&(a.setData?a:new i.a(a))})),c(h,"hasMore",(function(){return v}))},function(e,t,n){"use strict";n.r(t),n.d(t,"isPrinting",(function(){return i})),n.d(t,"Printer",(function(){return s}));var a=!1,i=function(){return a},r=window.onbeforeprint,o=window.onafterprint;window.onbeforeprint=function(e){a=!0,r&&r(e),s.beforePrint&&s.beforePrint(e)};var s={beforePrint:null,afterPrint:null};window.onafterprint=function(e){a=!1,o&&o(e),s.afterPrint&&s.afterPrint(e)}},function(e,t,n){"use strict";function a(e){return o.find((function(t){return t.family.toLowerCase()===e.toLowerCase()}))}n.d(t,"a",(function(){return s}));var i=n(8),r=n(4),o=[],s={availableFonts:o,bulkAdd:function(e){Array.prototype.push.apply(o,e),Object(r.e)("fontsloaded")},familyToMeta:a,addFont:function(e,t,n,s){var l=a(e),c=!l;c&&(l={family:e,stack:[e],variants:[],weights:[],provider:n,args:s}),l.variants=i.a.uniq(l.variants.concat(t));var d=l.variants.map((function(e){return 100*e[1]})).sort((function(e,t){return e-t}));l.weights=i.a.uniq(d),c&&(o.push(l),Object(r.e)("fontsloaded"))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(8),i=n(1),r=n(5);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return e-t}var l="api/imageset",c=i.Config.get("imageCdnRoots"),d=i.Config.BUILT_IN_OWNER_ID,u=[256],p=[64,136],f=[32,48,64,96,128,256,384,512,640,768,896,1024,1152,1280,1440].sort(s),v=[32,48,64,128,136].sort(s),g=f.map((function(e){return 2*e})),h=v.map((function(e){return 2*e})),m=a.a.uniq(u.concat(f).concat(g)).sort(s),b=m.filter((function(e){return-1===u.indexOf(e)})),_=a.a.uniq(p.concat(v).concat(h)).sort(s),w=_.filter((function(e){return-1===p.indexOf(e)})),y=i.Config.get("imageCdnRoot",""),k=i.Config.get("imageCdnRoots",[y]);window._tkf.images={IMAGE_CDN_ROOT:k[0],imageCdnOk:Array.from(k,(function(e){return 1}))},window._tkf.imagefn={onFailOver:function(e){var t=window._tkf.imagefn.failOver(e.src);t&&(e.src=t)},failOver:function(e){var t=window._tkf.images.imageCdnOk,n=c.findIndex((function(t){return e.toLowerCase().includes(t.toLowerCase())}));if(-1!==n){t[n]=0;var a=t.findIndex((function(e){return 0<e}));if(-1!==a){var i=c[n],r=c[a];return e.replace(i,r)}}},failOk:function(e){var t=window._tkf.images.imageCdnOk,n=c.findIndex((function(t){return e.toLowerCase().includes(t.toLowerCase())}));if(0<=n&&(t[n]+=1,5<t[n])){window._tkf.images.IMAGE_CDN_ROOT=c[n];for(var a=0;a<t.length;a++)t[a]=1}}};var x=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"setData",null),o(this,"variants",[]),o(this,"hasSquare",(function(e){var t=n.setData;return t.width>=e&&t.height>=e})),o(this,"loadDefaultVariants",(function(){var e=n.setData;u.forEach((function(e){return n.variants.push({kind:"scaled",width:e})})),p.forEach((function(e){return n.variants.push({kind:"square",width:e})})),b.filter((function(t){return t<=e.width})).forEach((function(e){return n.variants.push({kind:"scaled",width:e})})),w.filter((function(t){return t<=e.width})).forEach((function(e){return n.variants.push({kind:"square",width:e})}))})),o(this,"getVariantKey",(function(e){var t,a=e.kind,i=e.width,r=n.setData,o="master"===e.kind?r.masterFormat:r.variantFormat;"scaled"===a?t=i:"square"===a?t=i+"x"+i:"master"===a&&(t="");var s=[a,t].join("_")+"."+o;return[r.ownerId,r.id,s].join("/")})),o(this,"getVariantUrl",(function(e){return window._tkf.images.IMAGE_CDN_ROOT+"/"+n.getVariantKey(e)})),o(this,"findVariant",(function(e,t){return 0===n.variants.length&&n.loadDefaultVariants(),n.variants.find((function(n){return n.kind===e&&n.width===t}))})),o(this,"findBestVariant",(function(e,t){var a,i,r,o,s,l,c,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,u=n.setData,p=(a=e,i=t*d,r=u.width,0!==(c=("scaled"===a?m:_).filter((function(e){return e<=r}))).length&&(o=c[0],s=c[c.length-1],l=i<=o?o:s<=i?s:c.find((function(e){return i<=e}))),l||("scaled"===a?l=256:"square"===a&&(l=136)),l);return n.findVariant(e,p)})),o(this,"getThumbUrl",(function(){var e=n.hasSquare(272)?272:136,t=n.findVariant("square",e);return n.getVariantUrl(t)})),o(this,"getBestScaledUrl",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:256,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,a=n.findBestVariant("scaled",e,t);return n.getVariantUrl(a)})),o(this,"getPinUrl",(function(){return n.getBestScaledUrl(256)})),o(this,"getPinInfo",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:256,t=n.setData,a=n.findBestVariant("scaled",e),i=256*t.height/t.width;return{kind:a.kind,width:a.width,height:i,ratio:t.width/t.height,url:n.getVariantUrl(a)}})),o(this,"getMasterUrl",(function(){var e=n.setData,t=n.findVariant("master",e);return n.getVariantUrl(t)})),this.setData=t,this.name=t.name,this.id=t.id,this.oldId=t.oldId};o(x,"failOver",(function(e){return window._tkf.imagefn.failOver(e)})),o(x,"failOk",(function(e){return window._tkf.imagefn.failOk(e)})),o(x,"getImageSet",(function(e){return Object(r.b)("".concat(l,"/").concat(e)).then((function(e){return new x(e)}))})),o(x,"deleteImageSet",(function(e){return Object(r.a)("".concat(l,"/").concat(e))})),o(x,"updateImageSet",(function(e){var t=e.setData?e.setData:e,n=t.id;return Object(r.e)("".concat(l,"/").concat(n),t).then((function(e){return new x(e)}))})),o(x,"addImageSet",(function(e){return Object(r.d)("".concat(l),e).then((function(e){return new x(e)}))})),o(x,"queryImageSets",(function(e){return Object(r.b)("".concat(l).concat((t=e,n=[],Object.keys(t).forEach((function(e){var a=t[e];n.push(e+"="+a)})),"?"+n.join("&")))).then((function(e){return e.map((function(e){return new x(e)}))}));var t,n})),o(x,"queryBuiltInImageSets",(function(e){var t=Object.assign({},e,{ownerId:d});return x.queryImageSets(t)})),o(x,"updateDefaultImage",(function(e,t){return Object(r.e)("".concat("/api/calupdate/").concat(e),{calid:e,defaultImageId:t})})),o(x,"removeDefaultImage",(function(e){return x.updateDefaultImage(e,"")}))},function(e,t,n){"use strict";function a(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function i(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}t.a={getWindowScrollY:a,getWindowScrollX:i,windowScrollY:function(e){return"number"==typeof e&&window.scrollTo(i(),e),a()},windowScrollX:function(e){return"number"==typeof e&&window.scrollTo(e,a()),i()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1).Config.getUserMeta(),i=!!a,r=a||{},o=r.calendars||[],s=o.map((function(e){return e.name})),l=o.filter((function(e){return"online"===e.status})),c=l.map((function(e){return e.name})),d={isDefined:i,calmetas:o,onlineCalmetas:l,calnames:s,onlineCalnames:c,alerts:r.alerts||[],usermeta:r}},,,,function(e,t,n){"use strict";function a(e){var t=e.projectId,n=e.version;return t+(n?"@"+n:"")}function i(e){o.a.uniqBy(a).filter((function(e){return-1===d.indexOf(a(e))})).map((function(e){var t,n,i;d.push(a(e)),i={projectId:(t=e).projectId},(n=t.version)&&(i.version=n),l.load({fontactive:function(e,t){s.a.addFont(e,t,c,args)},monotype:i})}))}function r(e,t){"string"==typeof e&&(e=[e]),e=o.a.uniq(e).filter((function(e){return-1===m.indexOf(e)})),t&&e.map((function(e){e=e.trim();var t=g+"/ffcheck?css="+e.replace("&","%26");v(t,(function(t,n){for(var a=t.cssRules,i=0;i<a.length;i++){var r,o,l,c,d,u=a[i];u.type===CSSRule.FONT_FACE_RULE&&(o=(r=u.style).getPropertyValue("font-family").replace(/'/g,"").replace(/"/g,""),l=r.getPropertyValue("font-weight"),c=+(isNaN(+l)?b[l]||400:l),d=({normal:"n",oblique:"o",italic:"i"}[r.getPropertyValue("font-style")||"normal"||"normal"]||"normal")+(c||400)/100,s.a.addFont(o,d,h,{url:e}))}n.parentNode.removeChild(n)}))})),e.map((function(e){return t=(t=e).trim(),void v(t,(function(){return m.push(t)}));var t}))}n.d(t,"a",(function(){return V}));var o=n(8),s=n(18),l=n(54),c="fontsdotcom",d=[],u={name:"fontsdotcom",loadFromArgs:function(e){return i()},loadTockifyFonts:function(e){e&&e.length&&(e.map((function(e){return e.args})),i())}},p=n(1),f=n(11),v=function(e,t){var n,a,i,r=function(e,t,n){var a,i,r=document,o=r.createElement("link");i=t||(a=(r.body||r.getElementsByTagName("head")[0]).childNodes)[a.length-1];var s=r.styleSheets;function l(){o.addEventListener&&o.removeEventListener("load",l),o.media=n||"all"}return o.rel="stylesheet",o.href=e,o.media="only x",function e(t){if(r.body)return t();setTimeout((function(){e(t)}))}((function(){i.parentNode.insertBefore(o,t?i:i.nextSibling)})),o.addEventListener&&o.addEventListener("load",l),(o.onloadcssdefined=function e(t){for(var n=o.href,a=s.length;a--;)if(s[a].href===n)return t();setTimeout((function(){e(t)}))})(l),o}(e,f.a.getSectionEnd(),null);function o(){!i&&a&&(i=!0,a.call(n))}a=function(){t(function(e){for(var t=e.href,n=document.styleSheets,a=n.length;a--;)if(n[a].href===t)return n[a];return null}(r),r)},(n=r).addEventListener&&n.addEventListener("load",o),n.attachEvent&&n.attachEvent("onload",o),"isApplicationInstalled"in navigator&&"onloadcssdefined"in n&&n.onloadcssdefined(o)},g=p.Config.get("rootPath"),h="fontface",m=[],b={thin:100,"extra-light":200,light:300,normal:400,medium:500,"demi-bold":600,bold:700,heavy:800,black:900},_={name:"fontface",loadFromArgs:function(e){return r([e.url],!0)},loadTockifyFonts:function(e){r((e=e||[]).map((function(e){return e.args.url})))}};function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e){return-1!==x.indexOf(e)}var k=n(54),x=["Open Sans","Roboto","Lato","Oswald","Lora","Roboto Condensed","Source Sans Pro","Karla","Cinzel Decorative","PT Sans","Open Sans Condensed","Droid Sans","Raleway","Ubuntu","Droid Serif","Montserrat","Roboto Slab","Nunito","Nunito Sans","Arima Madurai","PT Sans Narrow","Merriweather","Lobster","Bitter","Cabin Sketch","Lobster Two","Luckiest Guy","Varela Round","Quicksand","Josefin Sans","Spectral","Zilla Slab","Titillium Web","Alegreya Sans"].sort();function S(e){var t=e.family;return T(t)}function C(e){"string"==typeof e&&(e=e.trim().split(/\s*,\s*/)),o.a.uniq(e).filter((function(e){return-1===B.indexOf(e)})).map((function(e){var t;B.push(e),t=e,M.load({timeout:2e4,loading:function(){},active:function(){},inactive:function(){},fontactive:function(e,n){s.a.addFont(e,n,P,{id:t})},fontloading:function(){},fontinactive:function(){},typekit:{id:t}})}))}var T=function(e){if("string"==typeof e&&(e=s.a.familyToMeta(e)),!e)return null;var t,n=("string"==typeof(t=e)&&(t=s.a.familyToMeta(t)),t?t.variants.map((function(e){var t=e[0],n=+e.substring(1);switch(t){case"i":return n+"00italic";case"o":return n+"00oblique";case"n":default:return n+"00"}})):null);return e.family+":"+n.join(",")},E=[],A={name:"google",loadFromArgs:function(){},isGoogle:y,loadBuiltIn:function(){var e=s.a.availableFonts.map(T);k.load({google:{families:e}})},loadBuiltInMeta:function(){var e=function(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p.Config.get("fontMeta"));s.a.bulkAdd(e.map((function(e){return n=(t=e).n||[],a=t.i||[],i=n.map((function(e){return"n"+e})),r=a.map((function(e){return"i"+e})),l=(s=i.concat(r)).map((function(e){return 100*e[1]})).sort((function(e,t){return e-t})),c=o.a.uniq(l),d=[t.f].concat(t.s),{family:t.f,stack:d,variants:s,weights:c,provider:y(t.f)?"google":"system",args:{}};var t,n,a,i,r,s,l,c,d})))},loadTockifyFonts:function(e){var t,n=(e=e||[]).map(S).filter((function(e){return!!e})).filter((function(e){return-1===E.indexOf(e)}));0!==n.length&&(t=o.a.uniq(n),E.push.apply(E,t),k.load({google:{families:t},fontactive:function(e,t){s.a.addFont(e,t,"google",{})}}))}},M=n(54),B=[],P="typekit",D={name:"typekit",loadFromArgs:function(e){return C([e.id])},loadTockifyFonts:function(e){e&&e.length&&C(e.map((function(e){return e.args.id})))}},L={};function I(e){return L[e.name]=e}function O(e){return L[e]||F}A.loadBuiltInMeta(),I(A),I(_),I(D),I(u);var F={loadTockifyFonts:function(e){e.forEach((function(e){}))}},z=function(e){var t;window.location.search&&-1!==window.location.search.indexOf("tkfnofonts")||(Array.isArray(e)||(e=[e]),e.map((function(e){e.source&&!e.provider&&(e.provider=e.source),delete e.source,e.provider||(e.provider=A.isGoogle(e.family)?"google":"system")})),t=o.a.groupBy(e,(function(e){return e.provider})),o.a.each(t,(function(e,t){O(t).loadTockifyFonts(e)})))},V={loadFontsByName:function(e){"string"==typeof e&&(e=e.trim().split(/\s*,\s*/));var t=e.map(s.a.familyToMeta);z(t)},loadFonts:z,loadCustomFont:function(e){O(e.provider).loadFromArgs(e.args)},loadBuiltIn:function(){return A.loadBuiltIn()}}},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"User",(function(){return o}));var a=n(5);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="api2/users",o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};i(o,"register",(function(e){return Object(a.d)("api/user2",e)})),i(o,"save",(function(e){return Object(a.d)("".concat(r,"/").concat(e._id),e)})),i(o,"getUser",(function(e){return Object(a.b)("".concat(r,"/").concat(e))}))},,,function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}));var i=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"codeToCountry",[{c:"AD",n:"Andorra"},{c:"AE",n:"United Arab Emirates"},{c:"AF",n:"Afghanistan"},{c:"AG",n:"Antigua and Barbuda"},{c:"AI",n:"Anguilla"},{c:"AL",n:"Albania"},{c:"AM",n:"Armenia"},{c:"AO",n:"Angola"},{c:"AP",n:"Asia/Pacific Region"},{c:"AQ",n:"Antarctica"},{c:"AR",n:"Argentina"},{c:"AS",n:"American Samoa"},{c:"AT",n:"Austria"},{c:"AU",n:"Australia"},{c:"AW",n:"Aruba"},{c:"AX",n:"Aland Islands"},{c:"AZ",n:"Azerbaijan"},{c:"BA",n:"Bosnia and Herzegovina"},{c:"BB",n:"Barbados"},{c:"BD",n:"Bangladesh"},{c:"BE",n:"Belgium"},{c:"BF",n:"Burkina Faso"},{c:"BG",n:"Bulgaria"},{c:"BH",n:"Bahrain"},{c:"BI",n:"Burundi"},{c:"BJ",n:"Benin"},{c:"BL",n:"Saint Bartelemey"},{c:"BM",n:"Bermuda"},{c:"BN",n:"Brunei Darussalam"},{c:"BO",n:"Bolivia"},{c:"BQ",n:"Bonaire: Saint Eustatius and Saba"},{c:"BR",n:"Brazil"},{c:"BS",n:"Bahamas"},{c:"BT",n:"Bhutan"},{c:"BV",n:"Bouvet Island"},{c:"BW",n:"Botswana"},{c:"BY",n:"Belarus"},{c:"BZ",n:"Belize"},{c:"CA",n:"Canada"},{c:"CC",n:"Cocos (Keeling) Islands"},{c:"CD",n:"Congo: The Democratic Republic of the"},{c:"CF",n:"Central African Republic"},{c:"CG",n:"Congo"},{c:"CH",n:"Switzerland"},{c:"CI",n:"Cote d'Ivoire"},{c:"CK",n:"Cook Islands"},{c:"CL",n:"Chile"},{c:"CM",n:"Cameroon"},{c:"CN",n:"China"},{c:"CO",n:"Colombia"},{c:"CR",n:"Costa Rica"},{c:"CU",n:"Cuba"},{c:"CV",n:"Cape Verde"},{c:"CW",n:"Curacao"},{c:"CX",n:"Christmas Island"},{c:"CY",n:"Cyprus"},{c:"CZ",n:"Czech Republic"},{c:"DE",n:"Germany"},{c:"DJ",n:"Djibouti"},{c:"DK",n:"Denmark"},{c:"DM",n:"Dominica"},{c:"DO",n:"Dominican Republic"},{c:"DZ",n:"Algeria"},{c:"EC",n:"Ecuador"},{c:"EE",n:"Estonia"},{c:"EG",n:"Egypt"},{c:"EH",n:"Western Sahara"},{c:"ER",n:"Eritrea"},{c:"ES",n:"Spain"},{c:"ET",n:"Ethiopia"},{c:"EU",n:"Europe"},{c:"FI",n:"Finland"},{c:"FJ",n:"Fiji"},{c:"FK",n:"Falkland Islands (Malvinas)"},{c:"FM",n:"Micronesia: Federated States of"},{c:"FO",n:"Faroe Islands"},{c:"FR",n:"France"},{c:"GA",n:"Gabon"},{c:"GB",n:"United Kingdom"},{c:"GD",n:"Grenada"},{c:"GE",n:"Georgia"},{c:"GF",n:"French Guiana"},{c:"GG",n:"Guernsey"},{c:"GH",n:"Ghana"},{c:"GI",n:"Gibraltar"},{c:"GL",n:"Greenland"},{c:"GM",n:"Gambia"},{c:"GN",n:"Guinea"},{c:"GP",n:"Guadeloupe"},{c:"GQ",n:"Equatorial Guinea"},{c:"GR",n:"Greece"},{c:"GS",n:"South Georgia and the South Sandwich Islands"},{c:"GT",n:"Guatemala"},{c:"GU",n:"Guam"},{c:"GW",n:"Guinea-Bissau"},{c:"GY",n:"Guyana"},{c:"HK",n:"Hong Kong"},{c:"HM",n:"Heard Island and McDonald Islands"},{c:"HN",n:"Honduras"},{c:"HR",n:"Croatia"},{c:"HT",n:"Haiti"},{c:"HU",n:"Hungary"},{c:"ID",n:"Indonesia"},{c:"IE",n:"Ireland"},{c:"IL",n:"Israel"},{c:"IM",n:"Isle of Man"},{c:"IN",n:"India"},{c:"IO",n:"British Indian Ocean Territory"},{c:"IQ",n:"Iraq"},{c:"IR",n:"Iran: Islamic Republic of"},{c:"IS",n:"Iceland"},{c:"IT",n:"Italy"},{c:"JE",n:"Jersey"},{c:"JM",n:"Jamaica"},{c:"JO",n:"Jordan"},{c:"JP",n:"Japan"},{c:"KE",n:"Kenya"},{c:"KG",n:"Kyrgyzstan"},{c:"KH",n:"Cambodia"},{c:"KI",n:"Kiribati"},{c:"KM",n:"Comoros"},{c:"KN",n:"Saint Kitts and Nevis"},{c:"KP",n:"Korea: Democratic People's Republic of"},{c:"KR",n:"Korea: Republic of"},{c:"KW",n:"Kuwait"},{c:"KY",n:"Cayman Islands"},{c:"KZ",n:"Kazakhstan"},{c:"LA",n:"Lao People's Democratic Republic"},{c:"LB",n:"Lebanon"},{c:"LC",n:"Saint Lucia"},{c:"LI",n:"Liechtenstein"},{c:"LK",n:"Sri Lanka"},{c:"LR",n:"Liberia"},{c:"LS",n:"Lesotho"},{c:"LT",n:"Lithuania"},{c:"LU",n:"Luxembourg"},{c:"LV",n:"Latvia"},{c:"LY",n:"Libyan Arab Jamahiriya"},{c:"MA",n:"Morocco"},{c:"MC",n:"Monaco"},{c:"MD",n:"Moldova: Republic of"},{c:"ME",n:"Montenegro"},{c:"MF",n:"Saint Martin"},{c:"MG",n:"Madagascar"},{c:"MH",n:"Marshall Islands"},{c:"MK",n:"Macedonia"},{c:"ML",n:"Mali"},{c:"MM",n:"Myanmar"},{c:"MN",n:"Mongolia"},{c:"MO",n:"Macao"},{c:"MP",n:"Northern Mariana Islands"},{c:"MQ",n:"Martinique"},{c:"MR",n:"Mauritania"},{c:"MS",n:"Montserrat"},{c:"MT",n:"Malta"},{c:"MU",n:"Mauritius"},{c:"MV",n:"Maldives"},{c:"MW",n:"Malawi"},{c:"MX",n:"Mexico"},{c:"MY",n:"Malaysia"},{c:"MZ",n:"Mozambique"},{c:"NA",n:"Namibia"},{c:"NC",n:"New Caledonia"},{c:"NE",n:"Niger"},{c:"NF",n:"Norfolk Island"},{c:"NG",n:"Nigeria"},{c:"NI",n:"Nicaragua"},{c:"NL",n:"Netherlands"},{c:"NO",n:"Norway"},{c:"NP",n:"Nepal"},{c:"NR",n:"Nauru"},{c:"NU",n:"Niue"},{c:"NZ",n:"New Zealand"},{c:"OM",n:"Oman"},{c:"PA",n:"Panama"},{c:"PE",n:"Peru"},{c:"PF",n:"French Polynesia"},{c:"PG",n:"Papua New Guinea"},{c:"PH",n:"Philippines"},{c:"PK",n:"Pakistan"},{c:"PL",n:"Poland"},{c:"PM",n:"Saint Pierre and Miquelon"},{c:"PN",n:"Pitcairn"},{c:"PR",n:"Puerto Rico"},{c:"PS",n:"Palestinian Territory"},{c:"PT",n:"Portugal"},{c:"PW",n:"Palau"},{c:"PY",n:"Paraguay"},{c:"QA",n:"Qatar"},{c:"RE",n:"Reunion"},{c:"RO",n:"Romania"},{c:"RS",n:"Serbia"},{c:"RU",n:"Russian Federation"},{c:"RW",n:"Rwanda"},{c:"SA",n:"Saudi Arabia"},{c:"SB",n:"Solomon Islands"},{c:"SC",n:"Seychelles"},{c:"SD",n:"Sudan"},{c:"SE",n:"Sweden"},{c:"SG",n:"Singapore"},{c:"SH",n:"Saint Helena"},{c:"SI",n:"Slovenia"},{c:"SJ",n:"Svalbard and Jan Mayen"},{c:"SK",n:"Slovakia"},{c:"SL",n:"Sierra Leone"},{c:"SM",n:"San Marino"},{c:"SN",n:"Senegal"},{c:"SO",n:"Somalia"},{c:"SR",n:"Suriname"},{c:"SS",n:"South Sudan"},{c:"ST",n:"Sao Tome and Principe"},{c:"SV",n:"El Salvador"},{c:"SX",n:"Sint Maarten"},{c:"SY",n:"Syrian Arab Republic"},{c:"SZ",n:"Swaziland"},{c:"TC",n:"Turks and Caicos Islands"},{c:"TD",n:"Chad"},{c:"TF",n:"French Southern Territories"},{c:"TG",n:"Togo"},{c:"TH",n:"Thailand"},{c:"TJ",n:"Tajikistan"},{c:"TK",n:"Tokelau"},{c:"TL",n:"Timor-Leste"},{c:"TM",n:"Turkmenistan"},{c:"TN",n:"Tunisia"},{c:"TO",n:"Tonga"},{c:"TR",n:"Turkey"},{c:"TT",n:"Trinidad and Tobago"},{c:"TV",n:"Tuvalu"},{c:"TW",n:"Taiwan"},{c:"TZ",n:"Tanzania: United Republic of"},{c:"UA",n:"Ukraine"},{c:"UG",n:"Uganda"},{c:"UM",n:"United States Minor Outlying Islands"},{c:"US",n:"United States"},{c:"UY",n:"Uruguay"},{c:"UZ",n:"Uzbekistan"},{c:"VA",n:"Holy See (Vatican City State)"},{c:"VC",n:"Saint Vincent and the Grenadines"},{c:"VE",n:"Venezuela"},{c:"VG",n:"Virgin Islands: British"},{c:"VI",n:"Virgin Islands: U.S."},{c:"VN",n:"Vietnam"},{c:"VU",n:"Vanuatu"},{c:"WF",n:"Wallis and Futuna"},{c:"WS",n:"Samoa"},{c:"YE",n:"Yemen"},{c:"YT",n:"Mayotte"},{c:"ZA",n:"South Africa"},{c:"ZM",n:"Zambia"},{c:"ZW",n:"Zimbabwe"}]),a(this,"codeToCountryMap",{}),a(this,"countryToCodeMap",{}),this.codeToCountry.sort((function(e,t){return e.n<t.n?-1:e.n>t.n?1:0})),this.codeToCountry.forEach((function(e){t.codeToCountryMap[e.c]=e.n,t.countryToCodeMap[e.n]=e.c}))}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5),i="/api/userfile",r={findByIds:function(e){return 0<e.length?Object(a.b)("".concat(i),{ids:e}):Object(a.f)([])},findByCriteria:function(e,t,n,r,o){var s=0<arguments.length&&void 0!==e?e:0,l=1<arguments.length&&void 0!==t?t:20,c=2<arguments.length&&void 0!==n?n:{},d=3<arguments.length&&void 0!==r?r:"created",u=4<arguments.length&&void 0!==o&&o,p=Object.assign({},c,{offset:s,limit:l,sortBy:d,forwards:u});return Object(a.b)("".concat(i),p)},save:function(e){return Object(a.d)(i,e)},remove:function(e){return Object(a.a)("".concat(i,"/").concat(e))}}},,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return o.a.isElement(e)?e:o.a.element(e)}function i(e){var t=o.a.isElement(e);return t&&0===e.length?"":t?e[0].outerHTML:e}n.r(t),n.d(t,"annotateWithEmbedAttrs",(function(){return d}));var r=n(0),o=n.n(r),s=n(11),l=n(19),c=["image","youtube","facebook","vimeo","html"],d=function(e,t){var n=o.a.isElement(e),r=a(e);return r.attr("data-tkf-mediatype",t.type),r.attr("data-tkf-id",t.id),r.attr("data-tkf-code",t.code),r.attr("data-tkf-ism",t.ism),r.attr("data-tkf-style",t.style),r.attr("data-tkf-width",t.width),t.featured&&r.attr("data-tkf-featured","true"),n?r:i(r)};o.a.module("tkfngViewer").service("ViewerEmbedTools",(function(){function e(e,t,n){t=t||{};var a=n&&-1!==n.indexOf("editor"),i=t.align||"left";return a?'<div class="tkf-video mceNonEditable tkf__align__'.concat(i,'" ><span class="tkf-video__container">\n            <span class="tkf-video__preview"></span>\n            <iframe src="').concat(e,'" class="tkf-video__content"\n            frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n            </span></div>'):'<div class="tkf-video mceNonEditable tkf__align__'.concat(i,'" ><span class="tkf-video__container">\n            <iframe src="').concat(e,'" class="tkf-video__content"\n            frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n            </span></div>')}function t(e,t,n){e=e||{};var a,i=n&&-1!==n.indexOf("editor"),r=t.align||"left",o=e.width||"60%",s=(e.code||"empty").trim(),l=e.id=e.id||"em-"+Math.random(),c=(a=a?"&#13;":"\n",(""+"<html><head><style>".concat("*{padding:0;margin:0}","</style><script>!(function(id){").concat(v,"})('").concat(l,"')<\/script></head><body>").concat(s,"</body></html>")).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,a).replace(/[\r\n]/g,a)),d='javascript: setTimeout(function(){document.write(window.frameElement.getAttribute("srcdoc"))},0)';if(i){var u=window.chrome?"sandbox":"";return'<div class="tkf-custom-embed l-edit-mode tkf__align__'.concat(r,' mceNonEditable" style="width:').concat(o,';max-width:99%" >\n        <div class="tkf-custom-embed-clickBlocker"><span class="l-info">Embed Will Appear Here</span></div>\n        <iframe tabindex="-1" frameborder="0" id="').concat(l,'" ').concat(u,"\n                        src='").concat(d,"'\n                        srcdoc='").concat(c,"'></iframe>     \n        </div>")}return'<div class="tkf-custom-embed tkf__align__'.concat(r,'" style="width:').concat(o,'"><iframe style="height:0" frameborder="0" id="').concat(l,"\"  \n                src='").concat(d,"'\n                srcdoc='").concat(c,"'></iframe></div>")}function n(e){if("string"==typeof e&&(e=e.trim()),!e)return!1;var t=e.split(";"),n={};return t.forEach((function(e){var t=e.split(":");n[t[0]]=t[1]})),n}var r=this,u=this,p=s.a.getStyler("vet",!0),f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=0;setInterval((function(){var e,n,i;(i=(n=document.documentElement).getBoundingClientRect().height||n.scrollHeight)&&0<i&&i!==a&&(e={iframeId:t[0],newHeight:i,type:"custom-html-resize"},window.parent.postMessage(e,"*"),a=i)}),200)}.toString(),v=(f.match(/\([a-zA-Z,]*\)\s*=>\s*(\{[^}]*\})$/)||f.match(/function[^{]+\{([\s\S]*)\}$/))[1];this.readStyle=n,this.toEmbedTagStyle=function(e){if("TKFMEDIA"!==e[0].nodeName){var t,n,a,i=[];e.hasClass("tkf__align__left")?t="left":e.hasClass("tkf__align__right")?t="right":e.hasClass("tkf__align__center")?t="center":e.hasClass("tkf__align__none")&&(t="none"),i.push("align:".concat(t)),e.attr("style")&&("0px"===(n=e.css("width")||"")&&(n=""),"0px"===(a=e.css("height")||"")&&(a=""),n&&i.push("width:".concat(n)),a&&i.push("height:".concat(a)));var r=!1;return 0<i.length&&(r=i.join(";")),r}},this.readEmbedAttrs=function(e){var t=(window.$tag=e).attr("data-tkf-mediatype"),n=e.attr("data-tkf-width"),a=e.attr("data-tkf-code"),i=e.attr("data-tkf-featured"),o=e.attr("data-tkf-id"),s=r.toEmbedTagStyle(e),l=e.attr("data-tkf-style"),d=s||l;if(-1===c.indexOf(t)||!o||0===o.trim().length)return!1;var u,p={type:t,featured:i,code:a,width:n,style:d,id:o};return d&&(p.style=d),!(!(u=p).type||-1===c.indexOf(u.type)||!u.id||0===u.id.trim().length)&&p},this.styleToCSS=function(e){var t=[];return e.width&&t.push("width:".concat(e.width)),e.height&&t.push("height:".concat(e.height)),t.join(";")},this.makeImageEmbedCode=function(e,t,a){var i,o,c,d=document.querySelector(".tkfSizeDetector"),u=d?Math.floor(d.clientWidth):0,f=e.id,v=e.style,g=(i=f,!!(c=(c=(o=a.imageSets).find((function(e){return e.id===i})))||o.find((function(e){return e.oldId===i})))&&(c.setData?c:new l.a(c)));if(!g)return'<span tkf-error="no imageset for '.concat(f,'></span>"');var h=n(v)||{},m=h.align||"left",b=h.width?+h.width.replace("px",""):256,_=("subscription.viewer"===t||"free.viewer"===t)&&0<u,w=_?200+b:void 0,y=_?200+b:b,k=g.findBestVariant("scaled",y);h.width=h.width||y+"px";var x=g.getVariantUrl(k),S=g.name||"",C=g.findBestVariant("scaled",768),T=g.getVariantUrl(C),E=window.location.href,A=a.description||"";switch(t){case"free.editor":case"subscription.editor":var M=r.styleToCSS(h),B=M?'style="'.concat(M,'"'):"";return'<img class="tkf__align__'.concat(m,' mceNonEditable" data-pin-url="').concat(E,'"\n                  data-pin-description="').concat(A,'" alt="').concat(S,'"\n                  onerror="_tkf.imagefn.onFailOver(this)"\n                  data-pin-media="').concat(T,'" src="').concat(x,'" ').concat(B,">");case"subscription.viewer":var P=b?function(e,t,n){var a="tkf-embed__width-"+(e=""+e),i=+e.replace("px",""),r=n||Math.floor(Math.max(414,1.5*i));return p=s.a.getStyler("vet"),t?p.queueRule("."+a,{width:i+"px"}):(p.queueMediaRule("@media (min-width : ".concat(r,"px)"),"."+a,{width:i+"px"}),p.queueMediaRule("@media (max-width : ".concat(r-1,"px)"),"."+a,{width:"100%"})),p.applyRules(),a}(b,"none"===m,w):"";return'<img  class="tkf__align__'.concat(m," ").concat(P,'" data-pin-url="').concat(E,'"\n            data-pin-description="').concat(A,'" alt="').concat(S,'"\n            onerror="_tkf.imagefn.onFailOver(this)"\n            data-pin-media="').concat(T,'" src="').concat(x,'">');case"free.viewer":return'<span tkf-image="'.concat(e.id,'"></span>');default:return'<span tkf-error-mode="'.concat(t,'"></span>')}},this.makeYouTubeEmbedCode=function(t,a){var i,r=t.id,o=n(t.style);switch(a){case"free.editor":case"subscription.editor":return e(i="https://www.youtube.com/embed/".concat(r),o,a);case"free.viewer":return i="https://youtu.be/".concat(r),'<p><a href="'.concat(i,'" target="_blank">').concat(i,"</a></p>");case"subscription.viewer":return e(i="https://www.youtube.com/embed/".concat(r),o);default:return'<div mode="'.concat(a,'"></div>')}},this.makeFacebookEmbedCode=function(t,a){var i,r=t.id,o=n(t.style);switch(a){case"free.editor":case"subscription.editor":return e(i="https://www.facebook.com/video/embed?video_id=".concat(r),o,a);case"free.viewer":return i="https://www.facebook.com/video/embed?video_id=".concat(r),'<p><a href="'.concat(i,'" target="_blank">').concat(i,"</a></p>");case"subscription.viewer":return e(i="https://www.facebook.com/video/embed?video_id=".concat(r),o);default:return'<div mode="'.concat(a,'"></div>')}},this.makeVimeoEmbedCode=function(t,a){var i,r=t.id,o=n(t.style);switch(a){case"free.editor":case"subscription.editor":return e(i="https://player.vimeo.com/video/".concat(r),o,a);case"free.viewer":return i="https://vimeo.com/".concat(r),'<a href="'.concat(i,'" target="_blank">').concat(i,"</a>");case"subscription.viewer":return e(i="https://player.vimeo.com/video/".concat(r),o);default:return'<div mode="'.concat(a,'"></div>')}},this.makeCustomHTMLEmbedCode=function(e,a){var i=n(e.style)||{};switch(a){case"free.editor":case"subscription.editor":return t(e,i,a);case"free.viewer":return'<div  mode="'.concat(a,"></div>");case"subscription.viewer":return t(e,i);default:return'<div mode="'.concat(a,'"></div>')}},this.makeEmbedCode=function(e,t,n){var a,i=e.type;switch(i){case"image":a=r.makeImageEmbedCode(e,t,n);break;case"youtube":a=r.makeYouTubeEmbedCode(e,t);break;case"facebook":a=r.makeFacebookEmbedCode(e,t);break;case"vimeo":a=r.makeVimeoEmbedCode(e,t);break;case"html":a=r.makeCustomHTMLEmbedCode(e,t)}return a=a||'<span note="embed type error '.concat(i,'"></span>'),d(a,e)},this.toEmbedCode=function(e,t,n){var i=o.a.isElement(e),s=a(e),l=r.readEmbedAttrs(s);if(!l)return e;var c=r.makeEmbedCode(l,t,n);return i?a(c):c},this.toEmbedCodeFilter=function(e,t,n){if(void 0===e)return e;var a,r=o.a.isElement(e),l=(a=e,o.a.isElement(a)?a:o.a.element("<div>"+a+"</div>")),c=l[0].querySelectorAll("tkfmedia"),d=Array.prototype.slice.call(c,0);return"subscription.viewer"!==t&&"free.viewer"!==t||(p=s.a.getStyler("vet",!0)),d.forEach((function(e){var a=o.a.element(e),r=u.toEmbedCode(a,t,n);e.outerHTML=i(r)})),r?l:l.html()}}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getRSVPInfo",(function(){return i}));var a=n(5),i=function(e,t,n,i){var r=3<arguments.length&&void 0!==i?i:0;return Object(a.b)(["/api/eventresponseinfo",e,t,n,r].join("/"))}},,,,,,,,,,,,,,function(e,t){e.exports='<div class="tkf-body container-fluid tkf-popup message-popup">\n  <div class="popup-content {{popup.kind}}" ng-click="$event.stopPropagation()">\n    <h3>{{popup.tparams.title}}</h3>\n\n    <div class="popup-body">\n      <div class="popup-body-content" ng-bind-html="popup.tparams.main"></div>\n      <div class="popup-buttons">\n        <button ng-click="popup.closeIfCloseable()" type="button">OK</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(4),i=[{hidden:"hidden",visibilityChange:"visibilitychange",visibilityState:"visibilityState"},{hidden:"mozHidden",visibilityChange:"mozvisibilitychange",visibilityState:"mozVisibilityState"},{hidden:"msHidden",visibilityChange:"msvisibilitychange",visibilityState:"msVisibilityState"},{hidden:"webkitHidden",visibilityChange:"webkitvisibilitychange",visibilityState:"webkitVisibilityState"}],r={init:function(){var e,t,n,r=document,o=i.find((function(e){return void 0!==r[e.hidden]}));o&&(e=o.hidden,t=o.visibilityState,n=o.visibilityChange,r.addEventListener(n,(function(){var n=r[t]===e?"pageBlurred":"pageFocused";Object(a.e)(n)})))}}},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(4),o=n(5),s="/api/eventresponse2";i.a.module("tkfngViewer").directive("validateEmail",(function(){return{require:"ngModel",link:function(e,t,n,a){a&&(a.$validators.email=function(e){return a.$isEmpty(e)||r.a.test(e)})}}})),i.a.module("tkfngViewer").directive("rsvpFiller",["$translate","tkfNotify","FormDef",function(e,t,a){return{template:n(220),restrict:"EA",scope:{formId:"@",formDef:"<",rsvpLink:"<",rsvpStatus:"<",calid:"@",isPreview:"@",uid:"@",tid:"@",rid:"@",doClose:"&",mode:"@"},link:function(){},controller:["$scope",function(n){n.isPopup="popup"===n.mode,n.hideInvisble=function(e){return!e.flags.deleted&&!e.flags.hidden};var r,l,c=n.rsvpLink,d=(d=n.rsvpStatus)||{count:0,attendeeCount:0};function u(){return n.forms.formCtrl.$submitted=!0}c&&(n.formId=n.rsvpLink.formId),c&&d&&(r=!1,c.markedAsFull?(n.attendeeStatus="No places left",r=!0):c.maxAttendees?(l=c.maxAttendees-d.attendeeCount)<=0?(n.attendeeStatus="No places left",r=!0):n.attendeeStatus=1==l?"1 place left":"".concat(l," places left"):n.attendeeStatus=!1,n.isFull=r),n.viewState={},n.forms={},n.answers={},n.formDef||(t.spinner.open(),a.get({formId:n.formId}).$promise.then((function(e){n.formDef=e})).catch((function(){t.status.open("Unable to load formDef","error",3e3)})).finally((function(){t.spinner.close()}))),n.sendResponse=function(){var a,r,l,c,d,p,f,v,g,h,m,b,_=+(n.formDef.fields.find((function(e){return e.flags.attendeeCount}))||{id:-1}).id,w=+(n.formDef.fields.find((function(e){return e.flags.contactAddress}))||{id:-1}).id;n.forms.formCtrl.$valid?n.isPreview?t.status.open("In preview mode submissions are ignored","warning",3e3):(t.spinner.open(),a=n.formId,r=n.calid,l=n.uid,c=n.tid,d=n.rid,p=[],i.a.forEach(n.answers,(function(e,t){var n={id:t=+t,value:e};t===w?n.tag="contactAddress":t===_&&(n.tag="attendeeCount"),p.push(n)})),g=(v=(f={formId:a,eventPath:{calid:r,uid:+l,tid:+c,rid:+d},fieldValues:p}).eventPath).calid,h=v.uid,m=v.tid,b=v.rid,Object(o.d)([s,g,h,m,b].join("/"),f).then((function(){e("thankYou").then((function(e){t.status.open(e,"success",3e3),n.doClose()}))})).catch((function(e){var n=(e.data||{}).info||{};u(),n.full?t.status.open(n.full,"error",3e3):t.status.open("Oops there was a problem. Please try again","error",3e3)})).finally((function(){t.spinner.close()}))):(u(),t.status.open("Please check the values you entered","error",3e3))}}]}}])},,,,,,,,,,,,function(e,t,n){var a=n(6),i=n(90);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,"",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(92);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var a=n(7),i=n(45),r=n(93),o=n(94),s=n(95),l=n(96),c=n(97),d=n(98),u=n(99),p=n(100),f=n(101),v=n(102),g=n(103),h=n(104);t=a(!1);var m=i(r),b=i(r,{hash:"?#iefix"}),_=i(o),w=i(s),y=i(l,{hash:"#harlequinextraboldflfregular"}),k=i(c),x=i(c,{hash:"?#iefix"}),S=i(d),C=i(u),T=i(p,{hash:"#harlequinflfbold"}),E=i(f),A=i(f,{hash:"?#iefix"}),M=i(v),B=i(g),P=i(h,{hash:"#harlequinflfregular"});t.push([e.i,"/* Generated by Font Squirrel (http://www.fontsquirrel.com) on December 28, 2012 */\n\n@font-face {\n    font-family: 'harlequinextraboldflfregular';\n    src: url("+m+");\n    src: url("+b+") format('embedded-opentype'),\n         url("+_+") format('woff'),\n         url("+w+") format('truetype'),\n         url("+y+") format('svg');\n    font-weight: normal;\n    font-style: normal;\n\n}\n\n\n\n\n@font-face {\n    font-family: 'harlequinflfbold';\n    src: url("+k+");\n    src: url("+x+") format('embedded-opentype'),\n         url("+S+") format('woff'),\n         url("+C+") format('truetype'),\n         url("+T+") format('svg');\n    font-weight: normal;\n    font-style: normal;\n\n}\n\n\n\n\n@font-face {\n    font-family: 'harlequinflfregular';\n    src: url("+E+");\n    src: url("+A+") format('embedded-opentype'),\n         url("+M+") format('woff'),\n         url("+B+") format('truetype'),\n         url("+P+") format('svg');\n    font-weight: normal;\n    font-style: normal;\n\n}",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinextraboldflf-webfont-f0f7e97d1775ede52be1a8c8f7955cba.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinextraboldflf-webfont-bf0507f65b08cb090c1bf4cc05b8600a.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinextraboldflf-webfont-77fa7a40c2d6c81889883728ef093b44.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/harlequinflf/harlequinextraboldflf-webfont-1a3aacb0cc1422e0bed38318c6adc166.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinflf-bold-webfont-23c8d1bfcd11007788cbdbbcfc82e3f7.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinflf-bold-webfont-4f5a61041162a886c9b8eef2892752cb.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinflf-bold-webfont-93d86f48a4b188c97fb4da5f9edfdc47.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/harlequinflf/harlequinflf-bold-webfont-ca370107838df4adae965d5188202730.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinflf-webfont-0a52cae8940172009332c12fb208de68.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinflf-webfont-26e53e64ee8e295e3c54f4cb05ab6454.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/harlequinflf/harlequinflf-webfont-a78b5c3aaa9e23196b4aec4606b61833.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/harlequinflf/harlequinflf-webfont-f4846c8511f0483981b1c73b5a0011a4.svg"},function(e,t,n){var a=n(6),i=n(106);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var a=n(7),i=n(45),r=n(107),o=n(108),s=n(109),l=n(110);t=a(!1);var c=i(r),d=i(r,{hash:"?#iefix"}),u=i(o),p=i(s),f=i(l,{hash:"#Flaticon"});t.push([e.i,'\t/*\n  \tFlaticon icon font: Flaticon\n  \tCreation date: 28/01/2018 14:22\n  \t*/\n\n@font-face {\n  font-family: "Flaticon13";\n  src: url('+c+");\n  src: url("+d+') format("embedded-opentype"),\n       url('+u+') format("woff"),\n       url('+p+') format("truetype"),\n       url('+f+') format("svg");\n  font-weight: normal;\n  font-style: normal;\n}\n\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: "Flaticon13";\n    src: url('+f+') format("svg");\n  }\n}\n\n[class^="flaticon13-"]:before, [class*=" flaticon13-"]:before,\n[class^="flaticon13-"]:after, [class*=" flaticon13-"]:after {   \n  font-family: Flaticon13;\n        font-size: 20px;\nfont-style: normal;\nmargin-left: 20px;\n}\n\n.flaticon13-circle-3:before { content: "\\f100"; }\n.flaticon13-arrows-3:before { content: "\\f101"; }\n.flaticon13-credit-card:before { content: "\\f102"; }\n.flaticon13-back:before { content: "\\f103"; }\n.flaticon13-next:before { content: "\\f104"; }\n.flaticon13-people:before { content: "\\f105"; }\n.flaticon13-linkedin20:before { content: "\\f106"; }\n.flaticon13-pinterest11:before { content: "\\f107"; }\n.flaticon13-link23:before { content: "\\f108"; }\n.flaticon13-cross97:before { content: "\\f109"; }\n.flaticon13-facebook31:before { content: "\\f10a"; }\n.flaticon13-cross93:before { content: "\\f10b"; }\n.flaticon13-clock148:before { content: "\\f10c"; }\n.flaticon13-event5:before { content: "\\f10d"; }\n.flaticon13-printer70:before { content: "\\f10e"; }\n.flaticon13-7-1:before { content: "\\f10f"; }\n.flaticon13-check52:before { content: "\\f110"; }\n.flaticon13-7:before { content: "\\f111"; }\n.flaticon13-arrow486:before { content: "\\f112"; }\n.flaticon13-arrow483:before { content: "\\f113"; }\n.flaticon13-30:before { content: "\\f114"; }\n.flaticon13-40:before { content: "\\f115"; }\n.flaticon13-close13:before { content: "\\f116"; }\n.flaticon13-fullscreen3:before { content: "\\f117"; }\n.flaticon13-floppy1:before { content: "\\f118"; }\n.flaticon13-cross:before { content: "\\f119"; }\n.flaticon13-circle-2:before { content: "\\f11a"; }\n.flaticon13-tool:before { content: "\\f11b"; }\n.flaticon13-delete-1:before { content: "\\f11c"; }\n.flaticon13-magnifying47:before { content: "\\f11d"; }\n.flaticon13-circle-1:before { content: "\\f11e"; }\n.flaticon13-font:before { content: "\\f11f"; }\n.flaticon13-draw:before { content: "\\f120"; }\n.flaticon13-pen:before { content: "\\f121"; }\n.flaticon13-locked-padlock:before { content: "\\f122"; }\n.flaticon13-alarm54:before { content: "\\f123"; }\n.flaticon13-delete:before { content: "\\f124"; }\n.flaticon13-round-1:before { content: "\\f125"; }\n.flaticon13-close47:before { content: "\\f126"; }\n.flaticon13-round:before { content: "\\f127"; }\n.flaticon13-search100:before { content: "\\f128"; }\n.flaticon13-arrows-2:before { content: "\\f129"; }\n.flaticon13-expand38:before { content: "\\f12a"; }\n.flaticon13-arrows-1:before { content: "\\f12b"; }\n.flaticon13-google116:before { content: "\\f12c"; }\n.flaticon13-circle:before { content: "\\f12d"; }\n.flaticon13-arrows:before { content: "\\f12e"; }\n.flaticon13-settings20:before { content: "\\f12f"; }',""]),e.exports=t},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/tockify13/Flaticon-fc3e8eb5d3bb6b4769e0f8cd5810f789.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/tockify13/Flaticon-89c8dfac1c172ce25c201b9d37c9cda8.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/tockify13/Flaticon-001f912fee2bb61efbe456efcb89326c.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/tockify13/Flaticon-b4ad1015fcebb2ca22708a2b1e623730.svg"},function(e,t,n){var a=n(6),i=n(112);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var a=n(7),i=n(45),r=n(113),o=n(114),s=n(115),l=n(116),c=n(117);t=a(!1);var d=i(r),u=i(r,{hash:"?#iefix"}),p=i(o),f=i(s),v=i(l),g=i(c,{hash:"#Flaticon"});t.push([e.i,'\t/*\n  \tFlaticon icon font: Flaticon\n  \tCreation date: 05/12/2019 13:48\n  \t*/\n\n@font-face {\n  font-family: "Flaticon";\n  src: url('+d+");\n  src: url("+u+') format("embedded-opentype"),\n       url('+p+') format("woff2"),\n       url('+f+') format("woff"),\n       url('+v+') format("truetype"),\n       url('+g+') format("svg");\n  font-weight: normal;\n  font-style: normal;\n}\n\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: "Flaticon";\n    src: url('+g+') format("svg");\n  }\n}\n\n[class^="flaticon-"]:before, [class*=" flaticon-"]:before,\n[class^="flaticon-"]:after, [class*=" flaticon-"]:after {   \n  font-family: Flaticon;\n        font-size: 20px;\nfont-style: normal;\nmargin-left: 20px;\n}\n\n.flaticon-settings20:before { content: "\\f100"; }\n.flaticon-arrows:before { content: "\\f101"; }\n.flaticon-expand38:before { content: "\\f102"; }\n.flaticon-search100:before { content: "\\f103"; }\n.flaticon-round:before { content: "\\f104"; }\n.flaticon-close47:before { content: "\\f105"; }\n.flaticon-round-1:before { content: "\\f106"; }\n.flaticon-draw:before { content: "\\f107"; }\n.flaticon-magnifying47:before { content: "\\f108"; }\n.flaticon-delete:before { content: "\\f109"; }\n.flaticon-cross:before { content: "\\f10a"; }\n.flaticon-arrow483:before { content: "\\f10b"; }\n.flaticon-clock148:before { content: "\\f10c"; }\n.flaticon-cross93:before { content: "\\f10d"; }\n.flaticon-linkedin20:before { content: "\\f10e"; }\n.flaticon-people:before { content: "\\f10f"; }\n.flaticon-next:before { content: "\\f110"; }\n.flaticon-back:before { content: "\\f111"; }\n.flaticon-credit-card:before { content: "\\f112"; }\n.flaticon-arrows-1:before { content: "\\f113"; }\n.flaticon-clip-1:before { content: "\\f114"; }\n.flaticon-twitter:before { content: "\\f115"; }\n.flaticon-facebook-logo:before { content: "\\f116"; }\n.flaticon-floppy-disc:before { content: "\\f117"; }\n.flaticon-link:before { content: "\\f118"; }\n.flaticon-email:before { content: "\\f119"; }\n.flaticon-expand:before { content: "\\f11a"; }\n.flaticon-email-1:before { content: "\\f11b"; }\n.flaticon-like:before { content: "\\f11c"; }\n.flaticon-user:before { content: "\\f11d"; }\n.flaticon-calendar:before { content: "\\f11e"; }\n.flaticon-lowercase:before { content: "\\f11f"; }\n.flaticon-plus-sign-button:before { content: "\\f120"; }\n.flaticon-clip:before { content: "\\f121"; }\n.flaticon-month:before { content: "\\f122"; }',""]),e.exports=t},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/tockify14/Flaticon-0832d08b865ba5c323a1e950ddf76e21.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/tockify14/Flaticon-8baedb6764f04dd3129b3fe8041b985b.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/tockify14/Flaticon-ec43ee7c61ee33f3693cc0b6a192632a.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/fonts/tockify14/Flaticon-f8ac12db46fadff6aa280edc95590c79.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/tockify14/Flaticon-18218e977d6ccddeeb0377a9795b6eef.svg"},function(e,t,n){var a=n(6),i=n(119);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var a=n(7),i=n(45),r=n(120);t=a(!1);var o=i(r);t.push([e.i,'/*\nIcon classes can be used entirely standalone. They are named after their original file names.\n\nExample usage in HTML:\n\n`display: block` sprite:\n<div class="icon-home"></div>\n\nTo change `display` (e.g. `display: inline-block;`), we suggest using a common CSS class:\n\n// CSS\n.icon {\n  display: inline-block;\n}\n\n// HTML\n<i class="icon icon-home"></i>\n*/\n.icon-google {\n  background-image: url('+o+");\n  background-position: 0px 0px;\n  width: 32px;\n  height: 32px;\n}\n.icon-ical {\n  background-image: url("+o+");\n  background-position: -32px 0px;\n  width: 32px;\n  height: 32px;\n}\n.icon-live {\n  background-image: url("+o+");\n  background-position: 0px -32px;\n  width: 32px;\n  height: 32px;\n}\n.icon-othercal {\n  background-image: url("+o+");\n  background-position: -32px -32px;\n  width: 32px;\n  height: 32px;\n}\n.icon-outlook {\n  background-image: url("+o+");\n  background-position: -64px 0px;\n  width: 32px;\n  height: 32px;\n}\n.icon-yahoo {\n  background-image: url("+o+");\n  background-position: -64px -32px;\n  width: 32px;\n  height: 32px;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/sprites/miscsprite-f5f3a6898b5f5107537dec7f20d99281.png"},function(e,t,n){var a=n(6),i=n(122);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.btn,.btn.active.focus,.btn.active:focus,.btn.focus,.btn.focus:active,.btn:active:focus,.btn:focus{outline:none;box-shadow:none}.btn,.form-control:focus,button,input[type=password],input[type=text],textarea{-webkit-appearance:none}.btn:active,.btn:focus,.btn:hover,.form-control:focus:active,.form-control:focus:focus,.form-control:focus:hover,button:active,button:focus,button:hover,input[type=password]:active,input[type=password]:focus,input[type=password]:hover,input[type=text]:active,input[type=text]:focus,input[type=text]:hover,textarea:active,textarea:focus,textarea:hover{outline:0;box-shadow:none;border-color:#ccc}.glyphicon.form-control-feedback.glyphicon-ok{color:#00d30c}.form-control{box-shadow:none;-webkit-appearance:none}select.form-control{box-shadow:none;-webkit-appearance:menulist}input{outline:none}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background:#fff}.uploadcare--tab.uploadcare--tab_current:after{content:"It is illegal to upload or use copyrighted files or images without an appropriate license or permission and strictly forbidden by Tockify\'s terms of service.";position:relative;font-size:12px;color:#999;padding:0 10% 20px}.label-danger{background-color:#f23949}.btn-default-focus{outline:none;box-shadow:none}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(124);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".datepicker.dropdown-menu{padding:4px 8px;width:250px}.datepicker.dropdown-menu button{outline:none;border:0}.datepicker.dropdown-menu tbody{height:180px}.datepicker.dropdown-menu tbody button{padding:6px}.datepicker.dropdown-menu table.l-footer{width:100%;height:5%;position:relative}.datepicker.dropdown-menu table.l-footer tbody{height:100%}.datepicker.dropdown-menu table.l-footer tbody tr td{width:100%}.datepicker.dropdown-menu table.l-footer tbody tr td a{font-weight:700;color:#000}.datepicker.dropdown-menu table.l-footer tbody tr td a:active,.datepicker.dropdown-menu table.l-footer tbody tr td a:hover{color:#000}.datepicker.dropdown-menu table.l-footer button.l-plainButton{background:none;font-weight:700;padding:.5em 0}.datepicker.dropdown-menu table.l-footer button.l-plainButton:hover{text-decoration:underline}.datepicker.dropdown-menu.datepicker-mode-1 tbody button,.datepicker.dropdown-menu.datepicker-mode-2 tbody button{height:65px}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(126);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".tkf-message-bar{position:fixed;width:100%;height:0;background:transparent;text-align:center;opacity:1;top:0;transition:all .2s linear;z-index:100000}.tkf-message-bar.ng-hide{opacity:0;transition:all .2s linear}.tkf-message-bar-centered{display:inline-block;padding:.5em 1.2em .3em 1.3em;border:0;color:#fff;background:#5a8fd4;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.tkf-message-bar-centered span{display:inline-block;position:relative}.tkf-message-bar-centered .message-text{font-size:1.2em;top:-.2em}.tkf-message-bar-centered.success{background:#00ca00}.tkf-message-bar-centered.error{background:red}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(128);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".status__pinboard{width:100%;padding:.4em 1em .3em;font-size:1em;font-weight:400;letter-spacing:.2px;text-transform:uppercase;display:inline-block;line-height:1.4;text-align:center;vertical-align:middle;border-radius:4px;margin-bottom:.5em}.status__agenda{margin-bottom:.5em}.status__agenda,.status__detail{padding:.4em 1em .3em;max-width:100%;min-width:160px;font-size:1em;font-weight:400;letter-spacing:.2px;text-transform:uppercase;display:inline-block;line-height:1.4;text-align:center;vertical-align:middle;border-radius:4px}.status__detail{margin-top:.5em}.status__detail.l-mini{padding:7px 1em}.status__monthly{padding:2px .8em;max-width:100%;margin:0 0 .5em;font-size:1em;font-weight:400;letter-spacing:.2px;text-transform:uppercase;display:inline-block;line-height:1.4;text-align:center;vertical-align:middle;border-radius:2px}.status__monthly.status__cancelled{font-size:1em}.status__hidden{color:#000;background:#fff;border:1px solid #000}.status__cancelled,.status__movedOnline,.status__postponed,.status__rescheduled{color:#fff}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(130);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".tkf-popup-wrapper{position:fixed;left:0;right:0;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;height:100%;z-index:2000;opacity:1}.tkf-popup-wrapper.ng-hide{opacity:0}.tkf-popup-wrapper{background:rgba(0,0,0,.6)}.tkf-popup-wrapper.ng-hide-add{animation:bgFade .4s linear reverse}.tkf-popup-wrapper.ng-hide-add .tkf-popup{animation:rotateIn .4s linear reverse}.tkf-popup-wrapper.ng-hide-remove{animation:bgFade .4s linear normal}.tkf-popup-wrapper.ng-hide-remove .tkf-popup{animation:rotateIn .4s linear normal}.tkf-popup-wrapper.message{background:rgba(0,0,0,.3)}.tkf-popup-wrapper.message.ng-hide-add{animation:bgFade .3s linear reverse}.tkf-popup-wrapper.message.ng-hide-add .tkf-popup{animation:bulgeIn .3s linear reverse}.tkf-popup-wrapper.message.ng-hide-remove{animation:bgFade .3s linear normal}.tkf-popup-wrapper.message.ng-hide-remove .tkf-popup{animation:bulgeIn .3s linear normal}.tkf-popup-wrapper .tkf-popup{position:absolute;left:0;right:0;width:100%;margin:0 auto}.tkf-popup-wrapper .tkf-popup .close-bar{text-align:right;height:30px;color:#fff;font-size:24px;background:transparent;width:100%}.tkf-popup-wrapper .tkf-popup .close-bar span:hover{color:#ccc}.tkf-popup-wrapper .tkf-popup .close-bar i.flaticon-cross{position:relative;top:-3px;cursor:pointer}.tkf-popup-wrapper .tkf-popup .close-bar i.flaticon-cross:after,.tkf-popup-wrapper .tkf-popup .close-bar i.flaticon-cross:before{font-size:18px;line-height:18px;margin-left:0;margin-right:3px}.tkf-popup-wrapper .tkf-popup .popup-content{position:absolute;width:100%}.tkf-popup-wrapper .tkf-popup .popup-content h3{text-align:center;margin:0;padding:10px}.tkf-popup-wrapper .tkf-popup .popup-content .popup-body{padding:10px}.tkf-popup-wrapper .tkf-popup .popup-content .popup-body-content{margin:10px 25px;font-size:15px}.tkf-popup-wrapper .tkf-popup .popup-content .popup-body-content.l-centered{text-align:center}.tkf-popup-wrapper .tkf-popup .popup-content .popup-buttons{padding-top:10px;text-align:center}@media only screen and (max-width:520px){.tkf-popup-wrapper .tkf-popup .popup-content .popup-buttons .btn{width:100%}}.tkf-popup-wrapper .tkf-popup .popup-content button{outline:none}.tkf-popup-wrapper .tkf-popup .popup-content button.safety{background:#fff;color:#000}.tkf-popup-wrapper .tkf-popup .popup-content.error{background:#e74c3c}.tkf-popup-wrapper .tkf-popup .popup-content.info{background:#459ff8}.tkf-popup-wrapper .tkf-popup .popup-content.newerror{color:#333;background:#fff}.tkf-popup-wrapper .tkf-popup .popup-content.newerror .popup-body{padding-bottom:20px}.tkf-popup-wrapper .tkf-popup .popup-content.newerror button{transition:color .2s,background-color .2s;border:1px solid #aaa;color:#666;background:#fff}.tkf-popup-wrapper .tkf-popup .popup-content.newerror button:active,.tkf-popup-wrapper .tkf-popup .popup-content.newerror button:focus,.tkf-popup-wrapper .tkf-popup .popup-content.newerror button:hover{background:#00ca00;border-color:transparent;color:#fff}.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-danger{border:1px solid #aaa;color:red;background:#fff}.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-danger:active,.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-danger:focus,.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-danger:hover{background:red;border-color:transparent;color:#fff}.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-safety{border:1px solid #00ca00;color:#fff;background:#00ca00}.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-safety:active,.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-safety:focus,.tkf-popup-wrapper .tkf-popup .popup-content.newerror button.l-safety:hover{background:#019401;border-color:#019401;color:#fff}.tkf-popup-wrapper .tkf-popup .popup-content.newerror h3{background:none;font-weight:400;font-size:22px;border-bottom:2px solid red}.tkf-popup-wrapper .tkf-popup.ng-leave{display:none}.tkf-popup-wrapper .tkf-popup .pop-up-link-section{text-align:center;padding-top:20px}.tkf-popup-wrapper .tkf-popup .pop-up-link-section a{color:grey}.tkf-popup-wrapper .tkf-popup.big-popup{top:20px;bottom:50px;width:500px}.tkf-popup-wrapper .tkf-popup.big-popup .popup-content{padding:10px 20px 20px;border-radius:2px;background:#fff}@media only screen and (max-width:520px){.tkf-popup-wrapper .tkf-popup.big-popup{width:100%;top:0}.tkf-popup-wrapper .tkf-popup.big-popup .popup-content{border-radius:0;padding:10px 10px 20px}}.tkf-popup-wrapper .tkf-popup.big2-popup{top:20px;bottom:50px;width:600px;max-width:100vw}.tkf-popup-wrapper .tkf-popup.big2-popup .popup-content{padding:10px 20px 20px;border-radius:2px;background:#fff}.tkf-popup-wrapper .tkf-popup.message-popup{color:#fff;top:50px;width:400px;border:1px;border-radius:0}.tkf-popup-wrapper .tkf-popup.message-popup h3{background:rgba(0,0,0,.1)}.tkf-popup-wrapper .tkf-popup.message-popup button{background:rgba(0,0,0,.2)}.tkf-popup-wrapper .tkf-popup.message-popup button:hover{background:rgba(0,0,0,.3)}.tkf-popup-wrapper .tkf-popup.message-popup .popup-content{border-radius:3px}.tkf-popup-wrapper .tkf-popup.message-popup .popup-content button{min-width:80px}.tkf-popup-wrapper .tkf-popup.message-popup button{margin:0 .5em;font-size:.8em;border:none;padding:.6em 1.2em;color:#fff;font-family:Lato,Calibri,Arial,sans-serif;letter-spacing:1px;text-transform:uppercase;cursor:pointer;border-radius:2px;outline:none}.tkf-popup-wrapper .tkf-popup.message-popup.l-big{width:600px}.tkf-popup-wrapper .tkf-popup.message-popup.l-big .popup-body{padding:10px 20px;font-size:16px;line-height:25px;text-align:center}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(132);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'@media print{a:link:after,a:visited:after{content:""}body{width:800px;margin:0;padding:0}}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(134);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.siteform-background{overflow:auto;min-height:100vh;background:#03a4f9;background:linear-gradient(0deg,#48b1e8,#0096e5)}.siteform__buttons{margin-top:28px}.siteform__buttons a,.siteform__buttons button{border-radius:3px;font-size:16px}.siteform__buttons .siteform__buttons__fill{width:100%}.siteform__footerlink{margin-top:20px;text-align:center}.siteform__footerlink a,.siteform__footerlink a:hover,.siteform__footerlink a:visited{color:#aaa}.siteform input[type=password] .input--tlg,.siteform input[type=text] .input--tlg{height:40px;padding:10px 16px;font-size:16px;line-height:1.33333;border-radius:3px;box-shadow:none}.help-block--bright{width:100%;border-radius:3px;color:#fff;background:#f23949;margin-top:12px;font-size:14px;padding:15px 20px}.help-block--bright.l-lg{font-size:16px}.help-block--header{border-radius:3px 3px 0 0}.help-block--large{font-size:24px}.help-block--suggest{width:100%;border-radius:3px;color:#fff;background:#ff821c;margin-top:12px;font-size:14px;padding:15px 20px}a:active .tockify-logo,a:hover .tockify-logo{text-decoration:underline}.tockify-logo{font-family:harlequinflfbold;display:inline-block}.tockify-logo:first-letter{margin-right:-.15em}.tockify-logo--siteform{font-size:43px;color:#fff}.tockify-logo--siteform:active,.tockify-logo--siteform:focus,.tockify-logo--siteform:hover{color:#fff;text-decoration:none}.site__focusbox{z-index:100;position:relative;border-radius:3px;padding:30px 40px;margin:100px auto;background:#fff}.site__focusbox [class*=" flaticon-"]:after,.site__focusbox [class*=" flaticon-"]:before,.site__focusbox [class^=flaticon-]:after,.site__focusbox [class^=flaticon-]:before{margin-left:0;position:absolute}.site__focusbox .r4:before{font-size:300px;transform:rotate(-20deg);top:-100px;left:-200px}.site__focusbox .r4:before,.site__focusbox .r8:before{z-index:-100;position:absolute;color:hsla(0,0%,100%,.1)}.site__focusbox .r8:before{font-size:200px;top:-130px;right:-140px}.site__focusbox .tockify-logo__wrap{color:#fff;position:absolute;top:-60px;left:0;width:100%;text-align:center}.site__focusbox .tockify-logo__wrap:active,.site__focusbox .tockify-logo__wrap:focus,.site__focusbox .tockify-logo__wrap:hover{color:#fff;text-decoration:none}.siteform__legend__link{font-size:16px;font-weight:400}@media print{.site__focusbox{margin:0;padding:0}.site__focusbox .r4:before,.site__focusbox .r8:before,.site__focusbox .tockify-logo__wrap{display:none}}.label-siteform{background-color:#0aa9ff}.label-siteform--red{background-color:#ff5656}.label-siteform--light{font-weight:400}.label-newFeature{background:#00ca00}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(136);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".spinner-wrap{z-index:100000;position:fixed;width:100%;height:0;top:0;left:0}.spinner.spinner__double-circles{position:relative;width:40px;height:40px;margin:100px auto;z-index:4000}.spinner.spinner__double-circles .circle{position:absolute;border-radius:50%;border:3px solid rgba(255,60,60,.25)}.spinner.spinner__double-circles .circle1{width:40px;height:40px;animation:spinnerCircle .9s linear infinite;border-bottom-color:#ff3c3c}@media only screen and (max-width:600px){.spinner.spinner__double-circles{width:30px;height:30px}.spinner.spinner__double-circles .circle1{border-width:2px;width:30px;height:30px}}@keyframes spinnerCircle{25%{transform:scale(1.225) rotate(90deg)}50%{transform:scale(1.5) rotate(180deg)}75%{transform:scale(1.225) rotate(270deg)}to{transform:rotate(1turn)}}@keyframes tkfIconSpin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.tkf-icon-spin{animation:tkfIconSpin 2s linear infinite;display:inline-block}.tkf-icon-spin.flaticon-circle-3{position:relative;top:2px;left:3px}.tkf-icon-spin.flaticon-circle-3:before{margin-left:0}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(138);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".embedded404{padding:20px;font-size:16px}.embedded404 h1{font-size:20px}.siteform .site-notice{width:800px}.siteform .site-notice h1,.siteform .site-notice h2,.siteform .site-notice h3,.siteform .site-notice h4,.siteform .site-notice h5,.siteform .site-notice p{color:#333}.siteform .site-notice h1{font-weight:200;margin-top:0;margin-bottom:20px}.siteform .site-notice p{font-size:20px}.siteform .site-notice p.site-notice__footnote{font-size:16px;margin-top:30px;color:#666}.site-notice__email{color:#0096e5}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(140);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".d-title{overflow:hidden;word-break:break-word}.d-text{font-size:1.2em;line-height:1.5em}.ad-text{font-size:1.5rem;line-height:2.2rem}.sd-text{font-size:1em;line-height:1.3em}.d-text--preview{overflow:hidden;word-break:break-word;font-size:1em;line-height:1.4em}.d-headerText,.d-headerText h1{font-size:32px;margin:0;line-height:1.1em;font-weight:inherit}.d-headerText a,.d-headerText a:active,.d-headerText a:focus,.d-headerText a:hover,.d-headerText a:visited,.d-headerText h1 a,.d-headerText h1 a:active,.d-headerText h1 a:focus,.d-headerText h1 a:hover,.d-headerText h1 a:visited{text-decoration:none}.d-where{font-size:1.2em;line-height:1.5em}.d-when:first-letter{text-transform:capitalize}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(142);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.eventTags{letter-spacing:.04em;word-break:break-word;font-family:sans-serif;border-width:0}.eventTags .eventTags__tag,.eventTags .eventTags__tag a{font-size:12px;line-height:14px}.eventTags .eventTags__tag a{display:inline-block}.eventTags .eventTags__tag a .eventTags__text{display:inline-block;padding-top:1px;padding-bottom:1px}.eventTags a{color:#777}.eventTags--minimal .eventTags__tag a{font-size:1.1em}.eventTags--minimal .eventTags__tag a .eventTags__text:active,.eventTags--minimal .eventTags__tag a .eventTags__text:focus,.eventTags--minimal .eventTags__tag a .eventTags__text:hover{text-decoration:underline}.eventTags--minimal .eventTags__tag:before{content:" ● "}.eventTags--minimal .eventTags__tag:first-child:before{content:none}.eventTags--hashtag .eventTags__tag a{font-size:1.1em}.eventTags--hashtag .eventTags__tag a .eventTags__text:active,.eventTags--hashtag .eventTags__tag a .eventTags__text:focus,.eventTags--hashtag .eventTags__tag a .eventTags__text:hover{text-decoration:underline}.eventTags--hashtag .eventTags__tag:before{content:" #"}.eventTags--full .l-tag-span,.eventTags--full a{padding:0 4px;border:1px solid #00b9ff;border-radius:2px;background-color:#00b9ff;color:#fff}.eventTags--full a:active,.eventTags--full a:focus,.eventTags--full a:hover{background-color:#fff;color:#00b9ff}.eventTags--hollow a{padding:0 4px;border:1px solid #ff473a;border-radius:2px;background-color:transparent;color:#ff473a}.eventTags--hollow a:active,.eventTags--hollow a:focus,.eventTags--hollow a:hover{background-color:#ff473a;color:#fff}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(144);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.viewerArea{position:relative;top:0;overflow:hidden}.viewerArea .close-popup{position:fixed;top:16px}.viewerArea .close-popup a{text-decoration:none}.viewerArea .close-popup a i.flaticon-cross{position:relative}.viewerArea .close-popup a i.flaticon-cross:after,.viewerArea .close-popup a i.flaticon-cross:before{font-size:40px;line-height:40px;margin-left:5px;margin-right:5px}.viewerArea__calendarTitleSection{position:relative;margin:0 0 10px}.viewerArea__displayName,h1.viewerArea__displayName{margin:0 1em 0 0;text-align:left;font-size:36px;line-height:1em}.viewerArea__displayName a:active,.viewerArea__displayName a:focus,.viewerArea__displayName a:hover,.viewerArea__displayName a:visited,h1.viewerArea__displayName a:active,h1.viewerArea__displayName a:focus,h1.viewerArea__displayName a:hover,h1.viewerArea__displayName a:visited{text-decoration:none}.u-rtl .viewerArea__displayName,.u-rtl h1.viewerArea__displayName{margin:0 0 0 1em}.viewerArea__siteLink{float:right;margin-top:0;margin-right:10px;text-align:center}@media print{.viewerArea__siteLink{display:none}}.u-rtl{margin-right:0;margin-left:10px}@media (max-width:800px){.viewerArea__displayName,h1.viewerArea__displayName{margin-top:0;margin-left:0;font-size:28px;line-height:34px}.viewerArea__siteLink{float:right;margin-top:0;text-align:right;height:40px}}.subscribe-to-calendar-popup{word-wrap:break-word}.subscribe-to-calendar-popup .default-calendar-subscribe{margin-bottom:10px}.subscribe-to-calendar-popup .icon-subscribe{margin:0 auto}.subscribe-to-calendar-popup .tab-pane{margin-top:10px}.viewer__navbar{color:inherit;font-size:14px}.viewer__navbar .btn.active,.viewer__navbar .btn:active{box-shadow:none}.viewer__navbar .viewer__navbar__right{position:absolute;right:10px}.viewer__navbar .navbar-default .navbar-nav>li>a,.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__link{cursor:pointer;color:inherit;display:inline-block}.viewer__navbar .navbar-default .navbar-nav>li>a:active,.viewer__navbar .navbar-default .navbar-nav>li>a:focus,.viewer__navbar .navbar-default .navbar-nav>li>a:hover,.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__link:active,.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__link:focus,.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__link:hover{color:inherit;text-decoration:underline}.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__linkbutton{padding:6px 12px;height:33px;line-height:20px;margin-right:7px;top:-3px;position:relative}.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__linkbutton:active,.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__linkbutton:hover{color:#fff}.viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__linkbutton:focus{border-color:#4cae4c}.viewer__navbar .navbar-default .navbar-nav a.btn-attachment{max-width:120px;padding-left:4px}.viewer__navbar .navbar-default .navbar-nav a.btn-attachment:active,.viewer__navbar .navbar-default .navbar-nav a.btn-attachment:focus,.viewer__navbar .navbar-default .navbar-nav a.btn-attachment:hover{background:#fff;border:1px solid #999;text-decoration:underline;color:#000}.viewer__navbar a.l-underline:active,.viewer__navbar a.l-underline:hover{text-decoration:underline}.viewer__navbar a.l-toggle{display:none;color:inherit;cursor:pointer;padding:10px 1px 0 0}.viewer__navbar a.l-toggle i{display:none;padding:2px}.viewer__navbar a.l-toggle i:before{margin-left:0;font-size:22px}.viewer__navbar a.l-toggle i.l-is-on{display:inline}.viewer__navbar a.l-toggle:active,.viewer__navbar a.l-toggle:hover,.viewer__navbar a.l-toggle:visited{text-decoration:none}.viewer__navbar a.l-toggle.l-left{float:left;margin-left:8px;margin-right:0}.viewer__navbar a.l-toggle.l-right{float:right;margin-left:0;margin-right:8px}.viewer__navbar a.btn-attachment{background:#fff;overflow:hidden;text-overflow:ellipsis;border:1px solid #ccc;color:#000}.viewer__navbar a.btn-attachment:active,.viewer__navbar a.btn-attachment:focus,.viewer__navbar a.btn-attachment:hover{background:#fff;border:1px solid #999;text-decoration:underline;color:#000}.viewer__navbar input{outline:none}.viewer__navbar input.form-control[disabled],.viewer__navbar input.form-control[readonly]{background:#fff}.viewer__navbar input.main-search-box::-ms-clear{width:0;height:0}.viewer__navbar input.main-search-box{max-width:180px;box-shadow:none;-webkit-appearance:none}.viewer__navbar .viewer__rsvp__button{margin-right:7px;position:relative}.viewer__navbar .navbar{margin-bottom:0}.viewer__navbar .nav li.extra-space{margin-right:5px}.viewer__navbar .navbar-form{margin-top:7px;margin-bottom:7px}.viewer__navbar .nav>li>a{padding-left:10px;padding-right:10px}.viewer__navbar .nav>li>a.fullscreen-icon{padding-right:0}.viewer__navbar .viewer__navbar__text{line-height:36px;padding-right:10px}.viewer__navbar .navbar-left{margin-left:-15px}.viewer__navbar .navbar-form{padding:0}.viewer__navbar .date-navigator{display:inline-block;margin-left:5px}.viewer__navbar .date-navigator .btn{padding:7px 3px 0;height:34px;vertical-align:top}.viewer__navbar .date-navigator i.flaticon-71{position:relative}.viewer__navbar .date-navigator i.flaticon-71:after,.viewer__navbar .date-navigator i.flaticon-71:before{font-size:20px;line-height:20px;margin-left:0;margin-right:0}.viewer__navbar .date-navigator i.flaticon-7{position:relative}.viewer__navbar .date-navigator i.flaticon-7:after,.viewer__navbar .date-navigator i.flaticon-7:before{font-size:20px;line-height:20px;margin-left:0;margin-right:0}.viewer__navbar .date-navigator i.flaticon-back{position:relative}.viewer__navbar .date-navigator i.flaticon-back:after,.viewer__navbar .date-navigator i.flaticon-back:before{font-size:18px;line-height:18px;margin-left:0;margin-right:0}.viewer__navbar .date-navigator i.flaticon-next{position:relative}.viewer__navbar .date-navigator i.flaticon-next:after,.viewer__navbar .date-navigator i.flaticon-next:before{font-size:18px;line-height:18px;margin-left:0;margin-right:0}.viewer__navbar .date-navigator input{width:90px;margin:0 3px;text-align:center;box-shadow:none}.viewer__navbar .input-group-btn .btn{height:34px;padding:6px 6px 6px 5px}.viewer__navbar .fullscreen-icon{padding-top:0;padding-bottom:0;padding-right:0;cursor:pointer;color:inherit}.viewer__navbar a i.flaticon13-fullscreen3{position:relative;top:1px}.viewer__navbar a i.flaticon13-fullscreen3:after,.viewer__navbar a i.flaticon13-fullscreen3:before{font-size:26px;line-height:30px;margin-left:0;margin-right:0}.viewer__navbar a i.flaticon13-fullscreen3.collapsed{top:10px}.viewer__navbar i.flaticon-cross.l-search{position:relative}.viewer__navbar i.flaticon-cross.l-search:after,.viewer__navbar i.flaticon-cross.l-search:before{font-size:18px;line-height:21px;margin-left:0}.listStatus{text-align:center}.listStatus--searchAgenda{margin-top:20px}.listStatus--hasMore{padding:24px}.listStatus--noEvents,.listStatus--noMore{padding:24px;font-size:24px;font-weight:400}.listStatus.listStatus--emptyEditor{padding:32px;font-size:28px;font-weight:200;font-family:Helvetica;color:#0aa9ff}.listStatus.listStatus--emptyEditor h1{font-weight:200}.listStatus.listStatus--emptyEditor h2{font-weight:200;margin-top:30px}.viewer__info{font-size:32px}.viewer__mode{text-transform:capitalize}.datepicker.dropdown-menu{color:#333}.datepicker.dropdown-menu .text-muted{color:#aaa}.dropdown-menu a{cursor:pointer}.branding-subtle{z-index:10;cursor:pointer;border-width:0;border-style:solid;font-size:15px;font-weight:200;letter-spacing:.3px;font-feature-settings:"kern";-webkit-font-kerning:normal;font-kerning:normal;white-space:nowrap}.branding-subtle.is-embedded{position:absolute;bottom:10px;right:12px}.branding-subtle.is-fullscreen,.branding-subtle.is-standalone{position:fixed;padding:6px 12px;right:0;bottom:0;border-width:1px 0 0 1px;border-top-left-radius:2px}.d-headerText a.tockify__branding--incal{position:relative;display:block;margin-right:4px;border-left:3px solid #ff6055;font-feature-settings:"kern";-webkit-font-kerning:normal;font-kerning:normal;font-size:14px;padding:0 18px;letter-spacing:.3px;border-right:1px solid #e4e4e4}.d-headerText a.tockify__branding--incal,.d-headerText a.tockify__branding--incal:focus{color:#ff6055;background-color:#f7f4ef;transition:all .3s ease}.d-headerText a.tockify__branding--incal:active,.d-headerText a.tockify__branding--incal:hover{text-decoration:none;color:#fff;background-color:#ff6055;transition:all .3s ease}.d-headerText a.tockify__branding--incal .tockify-logo{position:relative;top:1px;font-size:16px;text-decoration:none}.d-headerText a.tockify__branding--incal .tockify-logo:active,.d-headerText a.tockify__branding--incal .tockify-logo:focus,.d-headerText a.tockify__branding--incal .tockify-logo:hover{text-decoration:none}.viewers__different-year-label{padding:2px 6px;border-radius:2px}.l-mobile-only,.l-mobile-responder,.viewer__navbar .fullscreen-icon--collapsed,.viewer__navbar .mobile-collapsed-switcher,.viewer__navbar .mobile-navbar-switcher,.viewer__navbar .mobile-navmenu-hide,.viewer__navbar .mobile-navmenu-view{display:none}@media only screen and (max-width:539px){.viewer__navbar input.main-search-box{max-width:none}.viewer__navbar__detail ul.navbar-right{display:none}.viewer__navbar__detail span.navbar-left{display:block}.viewer__navbar__detail .navbar-default .navbar-collapse,.viewer__navbar__detail .navbar-default .navbar-form{border-width:0;box-shadow:none;-webkit-appearance:none}.nav>li>a.l-mobile-hide{display:none}.l-mobile-responder{display:block;margin:10px 0;padding:0 10px}.l-mobile-responder .btn{width:100%}.l-mobile-responder.l-noPadding{padding:0}.viewerArea__nav{margin-left:-11px;margin-right:-11px}.tkf-main-embedded .viewerArea__nav{margin-left:0;margin-right:0;border-radius:3px}.tkf-main-embedded .viewerArea__nav .navbar{border-radius:3px}.viewer__navbar a.fullscreen-icon--collapsed{float:right;display:inline-block;margin-right:8px;color:inherit;cursor:pointer}.viewer__navbar a.fullscreen-icon--collapsed:active,.viewer__navbar a.fullscreen-icon--collapsed:hover,.viewer__navbar a.fullscreen-icon--collapsed:visited{text-decoration:none}.viewer__navbar .fullscreen-icon{display:none}.viewer__navbar .navbar-form{border:none}.viewer__navbar .viewer__nav--dropdown{display:none}.viewer__navbar .navbar-header{width:100%}.viewer__navbar a.l-toggle.l-right{display:block}.viewer__navbar .mobile-navbar-switcher{display:block;overflow:hidden;text-align:center;position:relative}.viewer__navbar .mobile-navbar-switcher .btn-group{width:96%}.viewer__navbar .mobile-navbar-switcher .viewer__navbar__button{width:33.3%;height:34px}.viewer__navbar .date-navigator{margin-left:0;margin-right:0;width:100%}.viewer__navbar .date-navigator input{display:inline-block;box-shadow:none;width:78%;margin:0 1%}.viewer__navbar .date-navigator .form-control[readonly]{background:#fff;color:#555;box-shadow:none}.viewer__navbar .date-navigator .btn.btn-default.viewer__navbar__button{width:10%}}@media only screen and (max-width:380px){.viewer__navbar input.main-search-box{max-width:none}.l-mobile-only,.viewer__navbar .navbar-default .navbar-nav .mobile-navmenu-view{display:block}.viewer__navbar .navbar-default .navbar-nav .mobile-navmenu-view a{color:#333}.viewer__navbar .mobile-navbar-switcher,.viewer__navbar .mobile-navmenu-hide{display:none}.viewer__navbar a.l-toggle.l-left{display:block}}.viewerArea__about{font-size:18px;margin:15px 35px}.viewerArea__demoMessage{text-align:center;padding:3px 0;background:#fff;color:#000}.editor__navbar--spacer{height:60px}.viewerArea__clickPane{background:transparent;position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.viewer__mobile__buttons a,.viewer__mobile__buttons button{margin-bottom:12px}.viewer__navbar__detailopts{margin-top:0;margin-bottom:0}.viewer__navbar .navbar-default .navbar-nav>li>a.viewer__navbar__wide-button{display:block}.ex-viewer__background{position:absolute;width:100%;height:400px;background:#fef8be}.viewer__secondarySubmit,.viewer__secondarySubscribe{display:none}a.viewer__secondarySubscribe{vertical-align:middle;color:inherit}a.viewer__secondarySubscribe:active,a.viewer__secondarySubscribe:hover{text-decoration:underline}.viewer__navbar__submit,.viewer__navbar__subscribe{visibility:hidden}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(146);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.agenda{clear:both}.agendaItemWrap{border:solid #ddd;border-width:0 0 1px;page-break-inside:avoid}.agendaDivider{position:relative;display:inline-block;margin:0 auto;font-size:32px;padding:.5em 0}.agendaDivider:after,.agendaDivider:before{border-top:1px solid #000;display:block;height:1px;content:" ";width:40%;position:absolute;left:0;top:1.2em}.agendaDivider:after{right:0;left:auto}.agendaItem{position:relative;overflow:hidden;cursor:pointer}.agendaItem:active,.agendaItem:focus,.agendaItem:hover{text-decoration:none}.agendaItem__title{line-height:1.3;margin-bottom:.8em}.agendaItem__image{float:left;width:30%;max-width:180px}.agendaItem__summary{overflow:hidden;margin:0 20px}.agendaItem__image__wrap{margin:20px 11%}.agendaItem__image__img{width:100%}.agendaItem__image__img--placeholder{background:#eee;padding-bottom:100%}@media (max-width:320px){.agendaItem__image{display:none}}.agendaItem__when{font-weight:700;margin-bottom:10px}.agendaItem__when .l-previousWhen{font-weight:300;margin-top:.2em;letter-spacing:.2px;font-size:.9em;opacity:.7}.agendaItem__when.l-gone{text-decoration:line-through}.d-text.agendaItem__where{font-weight:600;margin-top:10px;margin-bottom:10px;font-size:1em}.agendaItem__buttons,.agendaItem__what{margin-bottom:10px}.agendaItem__what{max-height:4.2em}.agendaItem__what.l-custom{max-height:none;white-space:pre-line}.agendaItem__tags{margin-bottom:.3em}.agendaItem__tags a{margin:0 0 .6em}.agendaItem__image__wrap{padding:2px}a.agendaItem__editLink{font-size:14px;line-height:1em;vertical-align:text-bottom}a.agendaItem__editLink.editor__link{cursor:pointer;color:#0fa0ef;border-bottom:2px solid transparent;text-decoration:none}a.agendaItem__editLink.editor__link:active,a.agendaItem__editLink.editor__link:hover,a.agendaItem__editLink.editor__link:visited{text-decoration:none;border-bottom:2px solid #0fa0ef}.agendaItem__rsvpSection{margin-top:10px}.agenda__editBlock{margin-bottom:10px}.agendaItem__tagColorBar{width:6px;background:transparent;top:10px;bottom:10px;position:absolute;left:0}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(148);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".cardBoard{display:block;position:relative}.cardBoard__column{position:absolute}.cardBoard__card{position:relative;display:inline-block;opacity:1;width:100%}.cardBoard__card--slideIn{transform:translateY(0)}.cardBoard__card--slideIn.l-animFadeTransitions.l-rnd0,.cardBoard__card--slideIn.l-animFadeTransitions.l-rnd1,.cardBoard__card--slideIn.l-animFadeTransitions.l-rnd2{transition:all .1s ease}.cardBoard__card--slideIn.l-animFadeStart{opacity:0}.cardBoard__card--slideIn.l-animSlideTransitions.l-rnd0{transition:all .65s ease}.cardBoard__card--slideIn.l-animSlideTransitions.l-rnd1{transition:all .75s ease}.cardBoard__card--slideIn.l-animSlideTransitions.l-rnd2{transition:all .85s ease}.cardBoard__card--slideIn.l-animSlideStart{opacity:0;transform:translateY(300px)}.testCard{border:1px solid #ccc;background:#eee}.cardBoardTest{margin:20px}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(150);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.eventDetail{word-wrap:break-word}.eventDetail__tag{margin:2px 0}.eventDetail__title{margin:14px 0 8px;font-size:2.4em;line-height:1.3em}.eventDetail__what{margin-top:20px}.eventDetail__when{font-weight:700;font-size:1.2em;margin-top:6px}.eventDetail__when.l-gone{text-decoration:line-through}.eventDetail__where{font-size:1em;margin-top:3px}.eventDetail__vloc{margin-top:2px}.eventDetail__where a{vertical-align:top;line-height:1.7em;padding-top:0;padding-bottom:0}.eventDetail__where a.l-vloc{line-height:inherit}.eventDetail__where__directions{font-size:.9em;white-space:pre-line;padding:.5em;border:solid transparent;border-width:0 0 0 5px;margin-top:.2em}.eventDetail__what__image{margin-bottom:12px}@media (max-width:414px){.eventDetail__what__image img{width:100%}}.eventDetail__what__image__img.l-is-free{width:256px}.eventDetail__editButton,.eventDetail__tags{margin-top:6px}.eventDetail__what__description ol,.eventDetail__what__description ul{display:inline-block;padding:0;margin:0 0 15px;list-style-position:inside}.eventDetail__what__description ol li,.eventDetail__what__description ul li{line-height:28px}.eventDetail__what__description ul{list-style-type:disc}.eventDetail__what__description ol{list-style-type:decimal}.eventDetail__what__description h2{font-size:1.8em;line-height:1.5em;font-weight:400}.eventDetail__what__description h3{font-size:1.5em;line-height:1.5em;font-weight:400}.eventDetail__what__description h1:first-child,.eventDetail__what__description h2:first-child,.eventDetail__what__description h3:first-child,.eventDetail__what__description h4:first-child,.eventDetail__what__description h5:first-child{margin-top:0}.eventDetail__what__description p{margin-bottom:1em}.eventDetail__what__description div{margin:0}.eventDetail__what__description a:active,.eventDetail__what__description a:hover{text-decoration:underline}.eventDetail__what__description .tkf-embed{height:0;width:100%;padding-bottom:56.25%;overflow:hidden;position:relative}.eventDetail__what__description .tkf-embed iframe,.eventDetail__what__description .tkf-embed object{position:absolute;top:0;left:0;width:100%;height:100%}.eventDetail__what__description .tkf-video{padding:0;display:inline-block}.eventDetail__what__description .tkf-video__container{position:relative;width:100%;height:0;padding-bottom:56.25%;display:block}.eventDetail__what__description .tkf-video__content,.eventDetail__what__description .tkf-video__preview{display:block;position:absolute;top:0;left:0;width:100%;height:100%}.eventDetail__what__description .tkf-video__preview{opacity:0;background:#000;z-index:100}.eventDetail__what__description .tkf-video.tkf__align__left,.eventDetail__what__description .tkf-video.tkf__align__right{width:50%}.eventDetail__what__description .tkf-video.tkf__align__center{width:80%}@media only screen and (max-width:767px){.eventDetail__what__description .tkf-video.tkf__align__left,.eventDetail__what__description .tkf-video.tkf__align__right{width:90%;float:none;margin:0 auto .5em;display:block}.eventDetail__what__description .tkf-video.tkf__align__center{width:90%}}@media only screen and (max-width:540px){.eventDetail__what__description .tkf-video.tkf__align__left,.eventDetail__what__description .tkf-video.tkf__align__right{width:100%;float:none;margin:0 auto .5em;display:block}.eventDetail__what__description .tkf-video.tkf__align__center{width:100%}}.eventDetail__what__description .tkf-custom-embed{padding:0;display:inline-block;position:relative;width:auto}.eventDetail__what__description .tkf-custom-embed iframe{width:100%}.eventDetail__what__description .tkf__align__left{margin:0 1em .5em 0;float:left}.eventDetail__what__description .tkf__align__right{margin:0 0 .5em 1em;float:right}.eventDetail__what__description .tkf__align__none{vertical-align:middle;max-width:100%}.eventDetail__what__description .tkf__align__center{clear:both;margin:0 auto .5em;display:block}.viewer__navbar__detail .navbar-left{display:block}.eventDetail--editButtonTopSpace{margin-top:10px}.eventDetail--editButtons{font-size:16px;margin-bottom:10px}.eventDetail--editButtons a.editor__link{cursor:pointer;color:#0fa0ef;border-bottom:2px solid transparent;text-decoration:none}.eventDetail--editButtons a.editor__link:active,.eventDetail--editButtons a.editor__link:hover,.eventDetail--editButtons a.editor__link:visited{text-decoration:none;border-bottom:2px solid #0fa0ef}.navbar-nav>li>a.viewer__attachments__toggle{display:block;padding-left:10px;padding-right:10px;position:relative}.viewer__nav_buttons p{margin-left:10px}.tkf-clear-float{clear:both}.detail-hdr__image-sizer{position:relative;width:100%}.detail-hdr__image-sizer:before{content:"";display:block;padding-top:50%}.detail-hdr__image-wrap{position:absolute;top:0;left:0;bottom:0;right:0;padding:20px 0}.detail-hdr__image{width:100%;height:100%;background:#d3d3d3}.detail-hdr__fields{padding:20px 0;font-size:20px}.detail__rsvpSection{margin-top:10px}.rsvp__betaNotice .label{font-size:14px}.viewer__info.viewer__info--detail{margin:12px 0}.flaticon-clip:after,.flaticon-clip:before{font-family:Flaticon;font-size:15px;font-style:normal;margin-left:0}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(152);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.saveShareBar{margin-top:0;line-height:36px;vertical-align:middle;display:inline-block}.saveShareBar a{cursor:pointer;color:transparent;position:relative;display:block;float:left;width:32px;height:32px;background:transparent;margin-right:4px;border-radius:32px;line-height:32px;text-align:center;font-size:20px}.saveShareBar a,.saveShareBar a:active,.saveShareBar a:focus,.saveShareBar a:hover{text-decoration:none}.saveShareBar a [class*=" flaticon13-"]:after,.saveShareBar a [class*=" flaticon13-"]:before,.saveShareBar a [class*=" flaticon-"]:after,.saveShareBar a [class*=" flaticon-"]:before,.saveShareBar a [class^=flaticon13-]:after,.saveShareBar a [class^=flaticon13-]:before,.saveShareBar a [class^=flaticon-]:after,.saveShareBar a [class^=flaticon-]:before{margin-left:0}.saveShareBar a.linkedin-icon i.flaticon-linkedin20{top:-2px;position:relative}.saveShareBar a.linkedin-icon i.flaticon-linkedin20:after,.saveShareBar a.linkedin-icon i.flaticon-linkedin20:before{font-size:15px}.saveShareBar a.twitter-icon i.flaticon-twitter{top:0;position:relative}.saveShareBar a.twitter-icon i.flaticon-twitter:after,.saveShareBar a.twitter-icon i.flaticon-twitter:before{font-size:17px}.saveShareBar a.pinterest-icon i.flaticon13-pinterest11{top:0;position:relative}.saveShareBar a.pinterest-icon i.flaticon13-pinterest11:after,.saveShareBar a.pinterest-icon i.flaticon13-pinterest11:before{font-size:17px}.saveShareBar a.facebook-icon i.flaticon-facebook-logo{top:-1px;position:relative}.saveShareBar a.facebook-icon i.flaticon-facebook-logo:after,.saveShareBar a.facebook-icon i.flaticon-facebook-logo:before{font-size:17px}.saveShareBar a.save-icon i.flaticon-floppy-disc{top:-2px;position:relative}.saveShareBar a.save-icon i.flaticon-floppy-disc:after,.saveShareBar a.save-icon i.flaticon-floppy-disc:before{font-size:14px}.saveShareBar a.copy-icon i.flaticon-link{top:-2px;position:relative}.saveShareBar a.copy-icon i.flaticon-link:after,.saveShareBar a.copy-icon i.flaticon-link:before{font-size:15px}.saveShareBar a.email-icon i.flaticon-email{top:-1px;position:relative}.saveShareBar a.email-icon i.flaticon-email:after,.saveShareBar a.email-icon i.flaticon-email:before{font-size:17px}.saveShareBar--circles a{color:#fff}.saveShareBar--circles a.twitter-icon{background-color:#55acee}.saveShareBar--circles a.facebook-icon{background-color:#3b5998}.saveShareBar--circles a.linkedin-icon{background-color:#007bb6}.saveShareBar--circles a.pinterest-icon{background-color:#bd081c}.saveShareBar--circles a.save-icon{background-color:#27d84b}.saveShareBar--circles a.copy-icon{background-color:#ff52fd}.saveShareBar--circles a.email-icon{background-color:#ff5730}.saveShareBar--colorful a{width:26px}.saveShareBar--colorful a.copy-icon,.saveShareBar--colorful a.email-icon,.saveShareBar--colorful a.facebook-icon,.saveShareBar--colorful a.linkedin-icon,.saveShareBar--colorful a.pinterest-icon,.saveShareBar--colorful a.save-icon,.saveShareBar--colorful a.twitter-icon{background-color:transparent;margin-right:0}.saveShareBar--colorful a:active,.saveShareBar--colorful a:focus,.saveShareBar--colorful a:hover{transform:scale(1.2)}.saveShareBar--colorful a [class*=" flaticon-"]:after,.saveShareBar--colorful a [class*=" flaticon-"]:before,.saveShareBar--colorful a [class^=flaticon-]:after,.saveShareBar--colorful a [class^=flaticon-]:before{margin-left:0}.saveShareBar--colorful a.twitter-icon i:after,.saveShareBar--colorful a.twitter-icon i:before{color:#55acee}.saveShareBar--colorful a.facebook-icon i:after,.saveShareBar--colorful a.facebook-icon i:before{color:#3b5998}.saveShareBar--colorful a.linkedin-icon i:after,.saveShareBar--colorful a.linkedin-icon i:before{color:#007bb6}.saveShareBar--colorful a.pinterest-icon i:after,.saveShareBar--colorful a.pinterest-icon i:before{color:#bd081c}.saveShareBar--colorful a.save-icon i:after,.saveShareBar--colorful a.save-icon i:before{color:#27d84b}.saveShareBar--colorful a.copy-icon i:after,.saveShareBar--colorful a.copy-icon i:before{color:#ff52fd}.saveShareBar--colorful a.email-icon{top:0}.saveShareBar--colorful a.email-icon i:after,.saveShareBar--colorful a.email-icon i:before{color:#ff5730}.saveShareBar--subtle a{width:26px;color:inherit}.saveShareBar--subtle a.copy-icon,.saveShareBar--subtle a.email-icon,.saveShareBar--subtle a.facebook-icon,.saveShareBar--subtle a.linkedin-icon,.saveShareBar--subtle a.pinterest-icon,.saveShareBar--subtle a.save-icon,.saveShareBar--subtle a.twitter-icon{background-color:transparent;margin-right:0}.saveShareBar--subtle a:active,.saveShareBar--subtle a:focus,.saveShareBar--subtle a:hover{transform:scale(1.2)}.saveShareBar--subtle a [class*=" flaticon-"]:after,.saveShareBar--subtle a [class*=" flaticon-"]:before,.saveShareBar--subtle a [class^=flaticon-]:after,.saveShareBar--subtle a [class^=flaticon-]:before{margin-left:0}.saveShareBar--subtle a.twitter-icon:active i:after,.saveShareBar--subtle a.twitter-icon:active i:before,.saveShareBar--subtle a.twitter-icon:focus i:after,.saveShareBar--subtle a.twitter-icon:focus i:before,.saveShareBar--subtle a.twitter-icon:hover i:after,.saveShareBar--subtle a.twitter-icon:hover i:before{color:#55acee}.saveShareBar--subtle a.facebook-icon:active i:after,.saveShareBar--subtle a.facebook-icon:active i:before,.saveShareBar--subtle a.facebook-icon:focus i:after,.saveShareBar--subtle a.facebook-icon:focus i:before,.saveShareBar--subtle a.facebook-icon:hover i:after,.saveShareBar--subtle a.facebook-icon:hover i:before{color:#3b5998}.saveShareBar--subtle a.linkedin-icon:active i:after,.saveShareBar--subtle a.linkedin-icon:active i:before,.saveShareBar--subtle a.linkedin-icon:focus i:after,.saveShareBar--subtle a.linkedin-icon:focus i:before,.saveShareBar--subtle a.linkedin-icon:hover i:after,.saveShareBar--subtle a.linkedin-icon:hover i:before{color:#007bb6}.saveShareBar--subtle a.pinterest-icon:active i:after,.saveShareBar--subtle a.pinterest-icon:active i:before,.saveShareBar--subtle a.pinterest-icon:focus i:after,.saveShareBar--subtle a.pinterest-icon:focus i:before,.saveShareBar--subtle a.pinterest-icon:hover i:after,.saveShareBar--subtle a.pinterest-icon:hover i:before{color:#bd081c}.saveShareBar--subtle a.save-icon:active i:after,.saveShareBar--subtle a.save-icon:active i:before,.saveShareBar--subtle a.save-icon:focus i:after,.saveShareBar--subtle a.save-icon:focus i:before,.saveShareBar--subtle a.save-icon:hover i:after,.saveShareBar--subtle a.save-icon:hover i:before{color:#27d84b}.saveShareBar--subtle a.copy-icon:active i:after,.saveShareBar--subtle a.copy-icon:active i:before,.saveShareBar--subtle a.copy-icon:focus i:after,.saveShareBar--subtle a.copy-icon:focus i:before,.saveShareBar--subtle a.copy-icon:hover i:after,.saveShareBar--subtle a.copy-icon:hover i:before{color:#ff52fd}.saveShareBar--subtle a.email-icon:active i:after,.saveShareBar--subtle a.email-icon:active i:before,.saveShareBar--subtle a.email-icon:focus i:after,.saveShareBar--subtle a.email-icon:focus i:before,.saveShareBar--subtle a.email-icon:hover i:after,.saveShareBar--subtle a.email-icon:hover i:before{color:#ff5730}.saveShareBar__savePopup table{width:100%}.saveShareBar__savePopup table a.addTo{text-align:center;display:inline-block;margin:16px 40px}.saveShareBar__savePopup table a.addTo div{margin:4px auto 0}.saveShareBar__copyPopup input{width:100%}.rsvp__standalone__wrap{margin:0 .5em}.rsvp__standalone{max-width:600px;margin:0 auto}.rsvp__buttons{margin-bottom:25px;text-align:center}.rsvp__sendbtn{text-transform:capitalize;padding:8px 30px}.rsvp__thankYou{width:80%;padding-top:100px;margin:0 auto;text-align:center;font-size:8vw;font-weight:300;text-transform:capitalize}.rsvp__thankYou__box{background:#f7f4ef;color:#331e17;border:1px solid #dddad5;margin-bottom:5vh;padding:10vh 1vw}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(154);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".viewer__info.viewer__info--month{margin:12px 0 9px}.week-part{height:100%}.monthView{display:inline-block;padding-top:5px;position:relative}.monthView__dayBar{visibility:hidden}.monthView__dayBar__day{float:left;overflow:hidden;text-overflow:ellipsis;line-height:1.5em}.monthView__week{width:100%;position:relative;min-height:80px;visibility:hidden}.monthView__dayWrap{position:relative;height:100%;float:left}.monthView__dayWrap .monthView__dayCell{width:100%;height:100%;position:relative}.monthView__dayFooter,.monthView__dayHeader{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.monthView__dayFooter{position:absolute;z-index:10;bottom:0;font-size:.7em;text-align:right;text-transform:uppercase}.monthView__dayFooter:active,.monthView__dayFooter:hover{text-decoration:underline;cursor:pointer}.monthView__dayFooter .c-showHide{display:none;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.monthView__dayFooter .c-showHide.is-closed,.monthView__dayFooter .c-showHide.is-open{display:inline}.monthView__dayFooter .c-showHide:active,.monthView__dayFooter .c-showHide:focus,.monthView__dayFooter .c-showHide:hover{text-decoration:underline}.monthView__strip{position:absolute;z-index:10;visibility:hidden;text-overflow:ellipsis;word-break:break-word;overflow:hidden;vertical-align:text-top;padding:.5em;line-height:1.3em}.monthView__strip.is-overflow{display:none}.monthView__strip.is-overflow.is-open{display:block}.monthView__strip_text{font-weight:bolder;vertical-align:inherit}.monthView__strip__time{vertical-align:inherit}.monthView__strip__time.l-gone{text-decoration:line-through}.monthView__dayBar__day,.monthView__dayFooter,.monthView__dayHeader{padding:0 4px}.monthView__preview{opacity:1;position:absolute;border:2px solid;overflow:hidden;border-radius:3px;width:400px;background:#000;z-index:1000;cursor:pointer;padding:6px;transition:opacity .1s ease-in-out}.monthView__preview.ng-hide{opacity:0}.monthView__preview__imgWrap{float:left;width:108px;min-height:20px;padding:0 6px 0 0}.monthPreview__tags{padding:2px 0 0}.monthView__preview__img{width:100%}.monthView__preview__summary{overflow:hidden;padding:0 0 0 6px}.monthView__preview__summary__when{border-bottom:2px solid;padding:0 0 6px}.monthView__preview__summary__when.l-gone{text-decoration:line-through}.monthView__preview__summary__title{padding:6px 0}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(156);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,"@keyframes moveUp{to{transform:translateZ(0);opacity:1}}.a-slideUp,.a-slideUp.ng-enter.fixed{opacity:1}.a-slideUp.ng-enter{opacity:0;transform:translate3d(0,300px,0)}.a-slideUp.ng-enter.rnd1{animation:moveUp .65s ease forwards}.a-slideUp.ng-enter.rnd2{animation:moveUp .75s ease forwards}.a-slideUp.ng-enter.rnd3{animation:moveUp .85s ease forwards}.a-slideUp.ng-enter-active{opacity:1}.pinboard{padding:0;margin:0 auto;list-style:none}.pincard{display:block;cursor:pointer;height:auto;min-height:20px;overflow:hidden}.pincard__tag{margin:2px 0}.pincard__separator{width:100%;height:0;border-top:1px solid red}.pincard__separator--partial{width:90%;margin:5%;height:0;border-top:1px solid #00f}.pincard__main__when{font-weight:700;font-size:1em;line-height:1.6em}.pincard__main__when .l-previousWhen{font-weight:300;margin-top:.2em;letter-spacing:.2px;font-size:.9em;opacity:.7}.pincard__main__when.l-gone{text-decoration:line-through}.pincard__main__title{line-height:1.4em;margin:0}.pincard__main__preview{overflow:hidden;word-break:break-word;max-height:7em}.pincard__main__preview.l-custom{max-height:none;white-space:pre-line}.d-text.pincard__where{font-weight:600;font-size:1em;word-wrap:break-word}.pincard__row{margin:7px 14px}.pincard__row:first-child{margin-top:14px}.pincard__row.pincard__row--flush{margin-left:0;margin-right:0;margin-top:0}.pincard__row.pincard__row--endspace{margin-bottom:14px}.pincard__editButtons{margin:10px 0 15px}.pinboardItem__editButton{margin-bottom:8px}.pinboardItem__editLink{display:inline-block;margin-bottom:8px;font-size:14px;line-height:1em;vertical-align:text-bottom}.pinboardItem__editLink.editor__link{cursor:pointer;color:#0fa0ef;border-bottom:2px solid transparent;text-decoration:none}.pinboardItem__editLink.editor__link:active,.pinboardItem__editLink.editor__link:hover,.pinboardItem__editLink.editor__link:visited{text-decoration:none;border-bottom:2px solid #0fa0ef}.pincard__imageSection__image{color:transparent}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(158);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".rsvpFiller{padding:20px 30px;font-size:16px;background:#fff}.rsvpFiller h2{text-align:center;font-weight:400;margin-top:0;margin-bottom:10px;font-size:26px}.rsvpFiller__popup{width:500px;max-width:100vw}.rsvp__status__holder,.rsvp__title__holder{text-align:center}h3.rsvp__status{margin-top:0;font-weight:400;font-size:20px;color:#666}.rsvp__space{height:20px}.rsvp__title{margin:10px 0 0;display:inline-block;border-bottom:3px solid #0aa9ff;padding:2px 6px}.rsvp__title__separator{width:100%;color:#999;height:2px;margin:10px}.rsvpViewer__fields.l-full{display:none}.rsvpViewer__options{list-style-type:none;list-style-position:outside;padding:0}.rsvpViewer__options .l-optionLabel{margin-left:10px;font-weight:400;cursor:pointer}.rsvpViewer__field__instructions{font-size:14px;color:#666}.rsvp__standalone__filler__wrap{margin:0 .5em;background:#0aa9ff}.rsvp__standalone__filler{max-width:600px;width:100%;margin:0 auto;background:#fff;min-height:100vh}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(160);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.upcomingListItemWrap{border:solid transparent;border-width:0 0 1px;position:relative}.upcomingViewListItem__tagColor{display:none;width:3px;background:transparent;top:6px;bottom:6px;position:absolute;left:-1px;z-index:10}.upcomingListDivider{position:relative;display:inline-block;margin:0 auto;padding:.5em 0}.upcomingListDivider:after,.upcomingListDivider:before{border-top:1px solid #000;display:block;height:1px;content:" ";width:40%;position:absolute;left:0;top:1.2em}.upcomingListDivider:after{right:0;left:auto}.upcomingListItem{position:relative;overflow:hidden}.upcomingListItem.is-link{cursor:pointer}.upcomingListItem__free{position:relative;overflow:hidden;padding:0 10px}.upcomingListItem__title{font-size:1.1em;line-height:1.3;margin:.5em 0}.upcomingListItem__summary{overflow:hidden}.upcomingListItem__image{float:left;width:6em;max-width:180px}@media (max-width:270px){.upcomingListItem__image{display:none}}.upcomingListItem__image__wrap{margin:.5em .8em .5em 0;padding:0;overflow:hidden}.upcomingListItem__image__img{width:100%}.upcomingListItem__image__img--placeholder{background:#eee;padding-bottom:100%}.upcomingListItem__when{font-weight:700;margin-bottom:10px}.upcomingListItem__where{font-weight:500;margin-top:10px;margin-bottom:10px;font-size:1em}.upcomingListItem__what{line-height:1.4em;margin-bottom:10px;max-height:2.8em;overflow:hidden}.upcomingListItem__tags{margin-bottom:.3em}.upcomingListItem__tags a{margin:0 0 .6em}.upcomingList__empty{text-align:center;margin:1em 0}',""]),e.exports=t},function(e,t,n){var a=n(6),i=n(162);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,"[angular-ripple]{position:relative;overflow:hidden}@keyframes ripple{to{opacity:0;transform:scale(2.5)}}.angular-ripple{display:block;position:absolute;background-color:rgba(0,0,0,.1);border-radius:50%;transform:scale(0)}.angular-ripple.animate{animation:ripple .5s linear}.upcomingMonth{display:block;position:relative;margin:0;border:none}.upcomingMonth__header{position:relative;height:60px}.upcomingMonth__header .l-next,.upcomingMonth__header .l-prev{float:left;text-align:center;height:100%;cursor:pointer;width:15%}.upcomingMonth__header .l-next .l-center:active,.upcomingMonth__header .l-next .l-center:focus,.upcomingMonth__header .l-next .l-center:hover,.upcomingMonth__header .l-prev .l-center:active,.upcomingMonth__header .l-prev .l-center:focus,.upcomingMonth__header .l-prev .l-center:hover{text-decoration:underline}@media (max-width:300px){.upcomingMonth__header .l-next,.upcomingMonth__header .l-prev{width:20%}}@media (max-width:200px){.upcomingMonth__header .l-next,.upcomingMonth__header .l-prev{width:25%}}.upcomingMonth__header .l-date{float:left;height:100%;text-align:center;width:70%}@media (max-width:300px){.upcomingMonth__header .l-date{width:60%}}@media (max-width:200px){.upcomingMonth__header .l-date{width:50%}}.upcomingMonth__header .l-date .l-month{text-transform:uppercase;text-align:center;font-size:1.2em}.upcomingMonth__header .l-date .l-year{text-align:center}.upcomingMonth__header .l-center{position:relative;top:50%;transform:translateY(-50%);display:inline-block}.upcomingMonth__content{display:block}.upcomingMonth__dayBar__day{float:left;overflow:hidden;text-overflow:ellipsis;padding:0 4px;text-align:center;text-transform:uppercase;margin:0;border:0 solid transparent}.upcomingMonth__week{width:100%;position:relative}.upcomingMonth__dayWrap{position:relative;height:100%;float:left;cursor:pointer}.upcomingMonth__dayHeader{position:absolute;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.active-day .upcomingMonth__dayHeader{top:0;z-index:100}.active-day.is-today .upcomingMonth__dayHeader{height:0}.upcomingMonth__dayCell{width:100%;height:100%;border-style:solid;border-width:1px 0 0 1px;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none}.upcomingMonth__dayCell .l-centered{text-align:center;position:relative;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%)}.upcomingMonth__dayCell .l-centered .l-centered-inner{display:inline-block;line-height:1em}@media (max-width:300px){.upcomingMonth__dayCell .l-centered{font-size:.9em}}@media (max-width:200px){.upcomingMonth__dayCell .l-centered{font-size:.8em}}.upcomingMonth__week:last-child .upcomingMonth__dayWrap .upcomingMonth__dayCell{border-bottom-width:1px}.upcomingMonth__week .upcomingMonth__dayWrap:last-child .upcomingMonth__dayCell{border-right-width:1px}.upcomingMonth__date{display:inline}.upcomingMonth__eventIndicator{display:none}.upcoming__ripple.l-ripple--fast .angular-ripple.animate{animation:ripple .3s linear}.upcoming__ripple.l-ripple--off .angular-ripple{display:none}.upcomingBrand{height:2.2em;padding:.4em}.upcomingBrand a{text-transform:capitalize;font-size:13px}@media only screen and (max-width:420px){.upcomingBrand{display:none}}.upcomingView__free{padding:1em;font-size:15px;background:#fff;color:#333}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(164);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".upcomingView__nav{width:100%;border-bottom:0 solid;padding:0}.upcomingView__nav__right{text-align:right;padding:2px}.upcomingView__showFull{display:none;text-align:right;font-size:85%;padding:4px 2px}.upcomingView__openFullText,.upcomingView__showFull{text-transform:uppercase}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(166);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,".tkf__overlays{z-index:80000}.tkf__overlay,.tkf__overlays{position:relative}.tkf__overlay__layer{position:fixed;left:0;right:0;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;height:100vh;opacity:1}.tkf__popup{display:flex;align-items:baseline;justify-content:center;height:100vh;width:100%}.tkf__popup__content-wrapper{margin-top:60px}.tkf__popup__closebar{text-align:right;height:30px;color:#fff;font-size:24px;background:transparent;width:100%}.tkf__popup__closebar span:hover{color:#ccc}.tkf__popup__closebar i.flaticon-cross{position:relative;top:-3px;left:-2px}.tkf__overlay__layer.tkf__dialog__animation__fadeIn{background:rgba(0,0,0,.4)}.tkf__overlay__layer.tkf__dialog__animation__fadeIn.ng-enter{opacity:0;animation:bgFade .3s linear normal}.tkf__overlay__layer.tkf__dialog__animation__fadeIn.ng-enter .tkf__popup__content-wrapper{animation:smallSlideUp .3s linear normal}.tkf__overlay__layer.tkf__dialog__animation__fadeIn.ng-enter.ng-enter-active{opacity:1}.tkf__overlay__layer.tkf__dialog__animation__fadeIn.ng-leave{opacity:1;animation:bgFade .3s linear reverse}.tkf__overlay__layer.tkf__dialog__animation__fadeIn.ng-leave .tkf__popup__content-wrapper{animation:smallSlideUp .3s linear reverse}.tkf__overlay__layer.tkf__dialog__animation__fadeIn.ng-leave.ng-leave-active{opacity:0}.tkf__overlay__layer.tkf__dialog__animation__rotateIn{background:rgba(0,0,0,.4)}.tkf__overlay__layer.tkf__dialog__animation__rotateIn.ng-enter{opacity:0;animation:bgFade .4s linear normal}.tkf__overlay__layer.tkf__dialog__animation__rotateIn.ng-enter .tkf__popup__content-wrapper{animation:rotateIn .4s linear normal}.tkf__overlay__layer.tkf__dialog__animation__rotateIn.ng-enter.ng-enter-active{opacity:1}.tkf__overlay__layer.tkf__dialog__animation__rotateIn.ng-leave{opacity:1;animation:bgFade .4s linear reverse}.tkf__overlay__layer.tkf__dialog__animation__rotateIn.ng-leave .tkf__popup__content-wrapper{animation:rotateIn .4s linear reverse}.tkf__overlay__layer.tkf__dialog__animation__rotateIn.ng-leave.ng-leave-active{opacity:0}.tkf__overlay__layer.tkf__dialog__animation__slideUp{background:#fff}.tkf__overlay__layer.tkf__dialog__animation__slideUp.ng-leave{animation:slideUp .4s linear reverse}.tkf__overlay__layer.tkf__dialog__animation__slideUp.ng-enter{animation:slideUp .4s linear normal}",""]),e.exports=t},function(e,t,n){var a=n(6),i=n(168);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,"@keyframes slideDown{0%{transform:translateY(-100%)}50%{transform:translateY(8%)}65%{transform:translateY(-4%)}80%{transform:translateY(4%)}95%{transform:translateY(-2%)}to{transform:translateY(0)}}@keyframes slideUp{0%{transform:translateY(100%)}50%{transform:translateY(8%)}65%{transform:translateY(4%)}80%{transform:translateY(3%)}95%{transform:translateY(2%)}to{transform:translateY(0)}}@keyframes slideLeft{0%{transform:translateX(150%)}50%{transform:translateX(-8%)}65%{transform:translateX(4%)}80%{transform:translateX(-4%)}95%{transform:translateX(2%)}to{transform:translateX(0)}}@keyframes slideRight{0%{transform:translateX(-150%)}50%{transform:translateX(8%)}65%{transform:translateX(-4%)}80%{transform:translateX(4%)}95%{transform:translateX(-2%)}to{transform:translateX(0)}}@keyframes rotateIn{0%{transform:scale(.8) translate3d(0,80px,0) rotate(3deg);opacity:0}60%{transform:scale(.9) translate3d(0,80px,0) rotate(3deg);opacity:0}90%{transform:scale(.97) translate3d(0,10px,0) rotate(0);opacity:1}to{transform:scale(1) translateZ(0) rotate(0);opacity:1}}@keyframes bulgeIn{0%{transform:scale(.8);opacity:0}60%{transform:scale(.9);opacity:0}80%{transform:scale(1.1);opacity:1}to{transform:scale(1);opacity:1}}@keyframes bgFade{0%{opacity:0}60%{opacity:1}to{opacity:1}}@keyframes smallSlideUp{0%{transform:translate3d(0,80px,0);opacity:0}60%{transform:translate3d(0,80px,0);display:block;opacity:0}90%{transform:translate3d(0,10px,0);opacity:1}to{transform:translateZ(0);opacity:1}}",""]),e.exports=t},function(e,t){function n(e){return"function"==typeof e||"[object Function]"===i.call(e)}function a(e){var t,n=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(n,0),r)}var i,r;"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),a=1;a<arguments.length;a++){var i=arguments[a];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n}),Array.from||(Array.from=(i=Object.prototype.toString,r=Math.pow(2,53)-1,function(e,t,i){var r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,s=1<arguments.length?t:void 0;if(void 0!==s){if(!n(s))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(o=i)}for(var l,c=a(r.length),d=n(this)?Object(new this(c)):new Array(c),u=0;u<c;)l=r[u],d[u]=s?void 0===o?s(l,u):s.call(o,l,u):l,u+=1;return d.length=c,d})),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=t,r=0;r<a;){var o=n[r];if(e.call(i,o,r,n))return o;r++}}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=0<t?0|t:0;return this.substring(n,n+e.length)===e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=t,r=0;r<a;){var o=n[r];if(e.call(i,o,r,n))return r;r++}return-1},configurable:!0,writable:!0}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if(0==a)return!1;for(var i,r,o=0|t,s=Math.max(0<=o?o:a-Math.abs(o),0);s<a;){if((i=n[s])===(r=e)||"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))return!0;s++}return!1}}),function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;function t(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),a=n.length,i=-1,r="",o=n.charCodeAt(0);++i<a;)0!=(t=n.charCodeAt(i))?r+=1<=t&&t<=31||127==t||0==i&&48<=t&&t<=57||1==i&&48<=t&&t<=57&&45==o?"\\"+t.toString(16)+" ":0==i&&1==a&&45==t||!(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?"\\"+n.charAt(i):n.charAt(i):r+="�";return r}e.CSS||(e.CSS={}),e.CSS.escape=t,e.CSSPOLY=e.CSSPOLY||{escape:t}}(window)},function(e,t){e.exports='<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px;">\n  <table style="table-layout: fixed; height: 95%; width: 100%;">\n    <thead>\n    <tr class="text-center">\n      <th>\n        <button class="btn btn-default pull-left" ng-click="$selectPane(-1)" tabindex="-1" type="button">\n          <i class="{{$iconLeft}}"></i>\n        </button>\n      </th>\n      <th colspan="{{ rows[0].length - 2 }}">\n        <button class="btn btn-default btn-block text-strong" ng-click="$toggleMode()" tabindex="-1" type="button">\n          <strong ng-bind="title" style="{{\'text-transform:\' + monthTextTransform}}"></strong>\n        </button>\n      </th>\n      <th>\n        <button class="btn btn-default pull-right" ng-click="$selectPane(+1)" tabindex="-1" type="button">\n          <i class="{{$iconRight}}"></i>\n        </button>\n      </th>\n    </tr>\n    <tr ng-bind-html="labels" ng-if="showLabels"></tr>\n\n    </thead>\n    <tbody>\n    <tr height="{{ 100 / rows.length }}%" ng-repeat="(i, row) in rows">\n      <td class="text-center" ng-repeat="(j, el) in row" style="padding: 1px">\n        <button class="btn btn-default"\n                ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}"\n                ng-click="$select(el.date)" ng-disabled="el.disabled"\n                style="width: 100%"\n                tabindex="-1" type="button">\n          <span ng-bind="el.label" ng-class="{\'text-muted\': el.muted}"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n\n  </table>\n  <table class="l-footer">\n    <tr>\n      <td class="text-center">\n        <button buttonstyle="text-transform:capitalize" class="l-plainButton" ng-click="hit();$select(today())"\n                ng-if="$mode===0" translate="today"></button href>\n        <button class="l-plainButton" ng-click="hit();$toggleMode();$toggleMode();$select(today())" ng-if="$mode===1"\n                translate="today"></button>\n        <button class="l-plainButton" ng-click="hit();$toggleMode();$select(today())" ng-if="$mode===2"\n                translate="today"></button>\n      </td>\n    </tr>\n  </table>\n</div>\n'},function(e,t){e.exports='<div class="viewers--hidden" ng-style="{visibility:firstPageLoaded?\'visible\':\'hidden\'}">\n  <div ng-if="settings.showLoadMoreEvents && formattedEvents.length && hasNext">\n    <div class="listStatus d-listStatusText listStatus--hasMore ">\n      <a class="btn btn-loadMore" href="" ng-click="loadMore($event)" translate="loadMoreEvents"></a>\n    </div>\n  </div>\n  <div ng-if="settings.showNoMoreEvents && formattedEvents.length && !hasNext">\n    <div class="listStatus d-listStatusText listStatus--noMore" translate="noMoreEvents"></div>\n  </div>\n  <div ng-if="settings.showNoMoreEvents && isEmptyCalendar">\n    <div class="listStatus d-listStatusText listStatus--noEvents" ng-if="mode!==\'edit\'" translate="noEventsFound"></div>\n    <div class="listStatus listStatus--emptyEditor" ng-if="::mode===\'edit\'">\n      <h1>Let\'s get started!</h1>\n      <h2>Press the green button to start creating events</h2>\n    </div>\n\n  </div>\n  <div ng-if="settings.showNoMoreEvents && !isEmptyCalendar && formattedEvents.length === 0">\n    <div class="listStatus d-listStatusText listStatus--noEvents" ng-if="::mode!==\'edit\'"\n         translate="noEventsFound"></div>\n    <div class="listStatus listStatus--emptyEditor" ng-if="::mode===\'edit\'">\n      <h1>No More Events</h1>\n      <h2>Press the green button to start creating events</h2>\n    </div>\n\n  </div>\n</div>\n'},function(e,t){e.exports='<div class="viewer__navbar viewer__navbar__detail" style="direction:ltr">\n  <div class="viewerArea__clickPane" ng-click="closeAttachmentMenu($event)"\n       ng-if="viewState.showAttachmentMenu"></div>\n  <div ng-if="showNavBar">\n    <div class="viewerArea__nav navbar navbar-default">\n\n      <div ng-class="{\'navbar-collapse\':true, collapse:isCollapsed}">\n\n        <div class="col-lg-12">\n            <span class="navbar-form navbar-left navbar-nav ">\n\n                  <span ng-if="mode !== \'edit\'"><a class="viewer__navbar__text viewer__navbar__link"\n                                                   ng-click="goBack($event)" translate="back"></a>&nbsp;&nbsp;</span>\n\n              <span ng-include="\'app/viewers/directives/eventDetail/saveShareBar.html\'"></span></span>\n\n          <ul class="nav navbar-right ">\n            <form class="navbar-nav">\n              <li ng-class="{\'dropdown viewer__nav--dropdown\':true, open:viewState.showAttachmentMenu}"\n                  ng-if="calendar.effectiveFeatureLevel > 0 && attachedFiles.length > 0 && switcherStyle === \'dropdown\'">\n                <a\n                    aria-expanded="false"\n                    class="dropdown-toggle viewer__attachments__toggle"\n                    data-toggle="dropdown"\n                    ng-click="openAttachmentMenu()"\n                    role="button">{{\'attachments\' | translate }}<span\n                    class="caret"></span></a>\n                <ul class="dropdown-menu" role="menu">\n                  <li ng-repeat="attachment in attachedFiles">\n                    <a attachment-failover="{{attachment.s3key}}" ng-click="toggleAttachmentMenu($event)"\n                       target="_top"\n                    > <i class="flaticon-clip"></i> {{attachment.name}}\n                    </a>\n                  </li>\n                </ul>\n              </li>\n              <li class="viewer__nav_buttons"\n                  ng-if="calendar.effectiveFeatureLevel > 0 && switcherStyle === \'full\'"\n                  ng-repeat="attachment in attachedFiles">\n                <p class="navbar-btn">\n                  <a attachment-failover="{{attachment.s3key}}" class="btn btn-attachment"\n                     target="_top"\n                  ><i class="flaticon-clip"></i> {{attachment.name}}\n                  </a>\n                </p>\n              </li>\n              <li class="viewer__nav_buttons">\n                <p class="navbar-btn">\n                  <a class="btn btn-cta "\n                     ng-href="{{fe.customButtonLink}}"\n                     ng-if="calendar.effectiveFeatureLevel > 0 && fe.customButtonText && fe.customButtonLink"\n                     target="{{settings.ctaButton.target}}"\n                     track-outbound-click>{{fe.customButtonText}}\n                  </a>\n                </p>\n              </li>\n              <li class="viewer__nav_buttons">\n                <p class="navbar-btn" ng-if="fe.rsvpLink && calendar.effectiveFeatureLevel > 0">\n                  <a class="viewer__rsvp__button btn btn-cta"\n                     ng-click="openRSVPPopup()"\n                     ng-if="!isTouchDevice" translate="{{fe.rsvpButtonLabel}}">\n                  </a>\n                  <a class="viewer__rsvp__button btn btn-cta"\n                     ng-href="{{rsvpURL()}}" ng-if="isTouchDevice"\n                     target="_blank" translate="{{fe.rsvpButtonLabel}}">\n                  </a>\n                </p>\n              </li>\n              <li class="viewer__nav_buttons">\n                <p class="navbar-btn">\n                  <a bs-tooltip class="fullscreen-icon"\n                     data-placement="bottom"\n                     data-title="{{\'fullPage\' | translate}}" ng-click="FullScreen.open($event)"\n                     ng-if="showFullScreenLink">\n                    <i class="flaticon13-fullscreen3"></i></a>\n                </p>\n              </li>\n\n            </form>\n          </ul>\n        </div>\n      </div>\n\n      \x3c!--</div>--\x3e\n    </div>\n    <div class="l-mobile-responder l-noPadding"\n         ng-if="calendar.effectiveFeatureLevel > 0 && fe.customButtonText && fe.customButtonLink">\n      <p class="navbar-btn">\n        <a\n            class="viewer__navbar__linkbutton btn btn-cta "\n            ng-href="{{fe.customButtonLink}}"\n            target="{{settings.ctaButton.target}}">{{fe.customButtonText}}\n        </a>\n      </p>\n    </div>\n    <div class="viewer__mobile__buttons l-mobile-responder l-noPadding "\n         ng-if="event.content.rsvpLink && calendar.effectiveFeatureLevel > 0">\n      <button class="btn btn-cta" ng-click="openRSVPPopup()"\n              ng-if="!isTouchDevice"\n              translate="{{fe.rsvpButtonLabel}}" type="button">\n      </button>\n      <a class="btn btn-cta"\n         ng-href="{{rsvpURL()}}" ng-if="isTouchDevice"\n         target="_blank" translate="{{fe.rsvpButtonLabel}}">\n      </a>\n    </div>\n    <div class="viewer__mobile__buttons l-mobile-responder l-noPadding " ng-if="calendar.effectiveFeatureLevel > 0">\n      <a attachment-failover="{{attachment.s3key}}" class="btn btn-attachment " ng-repeat="attachment in attachedFiles"\n         target="_top"\n      ><i class="flaticon-clip"></i> {{attachment.name}}\n      </a>\n    </div>\n  </div>\n  <div class="close-popup" ng-if="settings.kind === \'fullscreen\'">\n    <a href="" ng-click="FullScreen.close()"><i\n        class="flaticon-cross"></i></a></div>\n</div>\n\n'},function(e,t){e.exports='<div class="saveShareBar saveShareBar--{{settings.views.detail.saveShareStyle}}">\n  <a bs-tooltip\n     class="twitter-icon"\n     data-bs-enabled="!isTouchDevice"\n     data-placement="bottom"\n     data-title="{{\'tweetEventDetails\' | translate}}"\n     href="https://twitter.com/intent/tweet?text={{event.content.summary.text | encodeURIComponent}}&url={{fe.url | encodeURIComponent}}"\n     ng-if="ds.saveShare.twitter" target=".twitter-icon"\n  >\n    <i class="flaticon-twitter"></i></a>\n  <a bs-tooltip\n     class="facebook-icon"\n     data-bs-enabled="!isTouchDevice"\n     data-placement="bottom"\n     data-title="{{\'shareWithFacebook\' | translate}}"\n     href="http://www.facebook.com/sharer/sharer.php?u={{fe.url | encodeURIComponent}}" ng-if="ds.saveShare.facebook"\n     target=".facebook-icon"\n  >\n    <i class="flaticon-facebook-logo"></i></a>\n  <a class="pinterest-icon"\n     ng-click="pinAny()"\n     ng-if="ds.saveShare.pinterest">\n    <i class="flaticon13-pinterest11"></i>\n  </a>\n  <a bs-tooltip\n     class="linkedin-icon"\n     data-bs-enabled="!isTouchDevice"\n     data-placement="bottom"\n     data-title="{{\'shareWithLinkedIn\' | translate}}"\n     href="https://www.linkedin.com/shareArticle?url={{fe.url}}&title={{event.content.summary.text | encodeURIComponent}}&summary={{fe.preview | encodeURIComponent}}"\n     ng-if="ds.saveShare.linkedIn" target=".linkedin-icon"\n  >\n    <i class="flaticon-linkedin20"></i></a>\n\n  <a bs-tooltip\n     class="save-icon"\n     data-placement="bottom"\n     data-title="{{\'saveInCalendar\' | translate}}" href="" ng-click="openSaveToCalendarPopup()"\n     ng-if="!isTouchDevice && ds.saveShare.saveToCalendar"\n  >\n    <i class="flaticon-floppy-disc"></i></a>\n\n  <a class="save-icon"\n     ng-href="{{ics}}"\n     ng-if="isTouchDevice && ds.saveShare.saveToCalendar && ds.saveShare.touchCalTarget !== \'google\'"\n     target="_self"\n  >\n    <i class="flaticon-floppy-disc"></i></a>\n  <a class="save-icon"\n     ng-href="{{googleSaveUrl}}"\n     ng-if="isTouchDevice && ds.saveShare.saveToCalendar && ds.saveShare.touchCalTarget === \'google\'"\n     target="_blank"\n  >\n    <i class="flaticon-floppy-disc"></i></a>\n\n  <a bs-tooltip\n     class="copy-icon"\n     data-bs-enabled="!isTouchDevice"\n     data-placement="bottom"\n     data-title="{{\'copyEventLink\' | translate}}" href="" ng-click="openCopyLinkPopup()"\n     ng-if="ds.saveShare.copyLink"\n  >\n    <i class="flaticon-link"></i></a>\n  <a bs-tooltip\n     class="email-icon"\n     data-bs-enabled="!isTouchDevice" data-placement="bottom"\n     data-title="{{\'emailEventDetails\' | translate}}"\n     ng-href="{{mailURL}}" ng-if="ds.saveShare.emailLink" target="_top"\n  >\n    <i class="flaticon-email"></i></a>\n</div>\n\n'},function(e,t,n){"use strict";n.r(t);var a=n(12),i=n(1);angular.module("tkfngViewer").config(["$stateProvider",function(e){e.state("siteform",{url:"/i/site",views:{"main@":{template:n(175),controller:["$scope",function(e){e.autoscroll=i.Config.getHostProperty("isWeeblyEditor",!1),e.goBack=function(){return window.history.back()}}]}}}).state("siteform.standalone404",{url:"/notFound?url",template:n(176),controller:["$scope","$stateParams",function(e,t){var n=t.url;e.url=n,a.a.notFound(n)}]}).state("siteform.embedded404",{url:"/notFoundEmbedded?url&calname",template:n(177),controller:["$scope","$stateParams",function(e,t){var n=t.url,i=t.calname;e.url=n,e.calname=i,a.a.notFound(n)}]}).state("siteform.error",{url:"/error",template:n(178)}).state("siteform.empty",{url:"/empty",template:"<div></div>"})}])},function(e,t){e.exports='<div class="siteform">\n\n  \x3c!--autoscroll={{autoscroll}}--\x3e\n  <div ui-view></div>\n</div>'},function(e,t){e.exports='<div class="siteform-background">\n  <div class="site-notice site__focusbox">\n    <span class="flaticon13-event5 r4"></span>\n    <span class="flaticon-clock148 r8"></span>\n\n    <div class="tockify-logo__wrap">\n      <a class="tockify-logo tockify-logo--siteform" href="/">Tockify</a>\n    </div>\n\n    <h1>We couldn\'t find that page</h1>\n\n    <p>Please check that the address is right:</p>\n    <p><a ng-href="{{url| decodeURIComponent}}" target="_self">{{url | decodeURIComponent}}</a></p>\n\n    <p>If it looks ok the calendar you are looking for might have been removed or taken offline, or the\n      page may no longer exist.</p>\n\n  </div>\n</div>\n'},function(e,t){e.exports='<div class="embedded404">\n  <h1>Missing Calendar</h1>\n  \x3c!--<p ng-if="{{url}}">No calendar found at found at {{url}}</span></p>--\x3e\n\n  <p>If you are the calendar owner please check that you\'ve used the correct short name to embed it and that\n    you haven\'t taken it offline.</p>\n\n  <p>You can find your calendar short name(s) <a href="/i/settings/calendars" target="_blank">here in the settings</a>\n  </p>\n\n  <p>Please note that you need a Tockify Calendars account to use the code that created this message.\n    You can get one at <a href="https://tockify.com" target="_blank">https://tockify.com</a></p>\n\n  <p>Contact <a href="mailto:support@tockify.com?subject=missing%20embedded%20calendar" target="_self">support@tockify.com</a>\n    if you\n    need assistance.</p>\n</div>\n\n\n\n\n'},function(e,t){e.exports='<div class="siteform-background">\n  <div class="site-notice site__focusbox">\n    <span class="flaticon13-event5 r4"></span>\n    <span class="flaticon-clock148 r8"></span>\n\n    <div class="tockify-logo__wrap">\n      <a class="tockify-logo tockify-logo--siteform" href="/">Tockify</a>\n    </div>\n\n    <h1>Oh dear - something has gone wrong</h1>\n\n    <p>If you are seeing this page there has been an internal error in Tockify\'s system.</p>\n    <p>Support have been notified but if you would like to get immediate assistance you can contact us directly at\n      <a href="mailto:support@tockify.com?subject=PRIORITY:%20internal%20system%20error">support@tockify.com</a> -\n      we\'ll be keen to help.\n    </p>\n\n\n  </div>\n</div>\n'},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(11),s=n(1),l=n(4),c=n(13),d=n(17),u=n(12),p=n(22);i.a.module("tkfngViewer").controller("NavbarController",["$scope","$state","$timeout","$location","Styler","FullScreen","CalendarSearch","LocaleCentral","ICSSubscribe","Viewer","NavHistory",function(e,t,n,a,i,f,v,g,h,m,b){var _=0;e.CalendarSearch=v,e.Viewer=m,e.isTouchDevice=c.a.isMobile.any,e.pageState={mobileMenu:!1,leftCollapsed:!0,rightCollapsed:!0};var w=e.pageState;e.toggleMobileNav=function(e){w.mobileMenu===e?w.mobileMenu=!1:w.mobileMenu=e},e.searchProxy={},e.startmsProxy={},e.parentIsIFrame=s.Config.getHostProperty("inIFrame",!1);var y=s.Config.getHostProperty("args.showNavBar");e.isWeeblyEditor=s.Config.getHostProperty("isWeeblyEditor",!1),e.pageURL=a.absUrl(),e.FullScreen=f,e.stateLabel=function(){var e=t.$current.name.indexOf(".inter.")+".inter.".length;return t.$current.name.substring(e)},e.stateRef=function(){return"."+e.stateLabel()+"({calname:calendar.name})"},e.clearSearch=function(){e.searchProxy.search=""},e.startPropagation=l.j;var k=!1;e.fwdMonth=Object(l.d)((function(t){e.$evalAsync((function(){var n=p.utc(e.startmsProxy.startms).add(t,"month").date(1);e.startmsProxy.startms=n.valueOf()}))}),150),e.bwdMonth=Object(l.d)((function(t){e.$evalAsync((function(){var n=p.utc(e.startmsProxy.startms).subtract(t,"month").date(1);e.startmsProxy.startms=n.valueOf()}))}),150),e.openSubscribeToCalendar=function(e){e&&e.preventDefault(),h.openSubscribeToCalendar()},e.submitEvent=function(e){e&&e.preventDefault(),window.open(v.calendar.submitURL,"_blank")};var x=0;function S(){var t=m.settings.navbar;e.showNavBar="boolean"==typeof y?y:t.show,e.viewCount=r.a.filter(m.settings.views,(function(e){return e.show})).length-1,e.showFullScreenLink=t.showFullScreen&&"embed"===m.settings.kind&&(!m.fillsMostOfPage()||e.parentIsIFrame),e.useOverlay=!e.parentIsIFrame||e.isWeeblyEditor,function(){var t=o.a.getStyler("user");t.applyRules();var a=Object(d.isPrinting)()?800:m.getAvailableWidth(),i=document.body.clientWidth-a,r=m.settings.navbar;e.alwaysShowSubscribe=!!r.alwaysShowSubscribe,e.alwaysShowSubmit=!!r.alwaysShowSubmit,e.dateStyle="full",e.showSearch=r.showSearch,e.showSubscribe=!0,e.showSubmit=!0,n((function(){var t="embed"===m.settings.kind?60:0;e.switcherStyle=740+t<=a?"full":"dropdown"}),0),e.showDateNav=r.showDateNav,t.queueMediaRule("@media (min-width : 541px)",".viewer__navbar .date-navigator input",{"padding-left":0,"padding-right":0,width:r.fourDigitYear?"7.2em":"6.2em"}),t.applyRules();var s=++_;!function e(t){var r;0!==(t=t||[]).length&&(r=t.pop(),n((function(){s===_&&(function(){function e(e){return document.querySelector(e)}var t=e(".viewer__navbar__left"),n=e(".viewer__navbar__subscribe"),r=e(".viewer__navbar__submit"),s=t?t.getBoundingClientRect():{width:0},l=r?r.getBoundingClientRect():{width:0},c=540-i<=a,d=o.a.getStyler("user-nav",!0);l.left<s.right+10?(d.queueRule(".nav > li.viewer__navbar__submit",{display:"none"}),c&&d.queueRule(".viewer__secondarySubmit",{display:"inline-block"})):d.queueRule(".viewer__navbar__submit",{visibility:"visible"}),d.applyRules(),(n?n.getBoundingClientRect():{width:0}).left<s.right+10?(d.queueRule(".nav > li.viewer__navbar__subscribe",{display:"none"}),c&&d.queueRule(".viewer__secondarySubscribe",{display:"inline-block"})):d.queueRule(".viewer__navbar__subscribe",{visibility:"visible"}),d.applyRules()}(),e(t))}),r))}([0,50,100,100,100,100,100,100])}()}function C(){var t=e.settings.navbar.fourDigitYear,n=g.getDateTimeFormats({fourDigitYear:t,picker:!0}).dateFormat;e.dateFormat=n,e.dateWidth=t?11:8}e.closeModeMenu=function(e){x=(new Date).getTime(),w.showModeMenu=!1,Object(l.j)(e)},e.openModeMenu=function(){50<(new Date).getTime()-x&&(w.showModeMenu=!0)},e.openView=function(e){w.showModeMenu=!1,w.leftCollapsed=!0,t.go("^."+e,{calname:v.calendar.name})},e.recordSubsribe=function(){u.a.trackButtonClick("subscribe.to.calendar",v.calendar.name)},e.$watch("Viewer.settings",(function(t){t&&(e.settings=t,C(),S())})),e.$watch("CalendarSearch.calendar",(function(a){var i;a&&(i=0!==((e.calendar=a).locale||"").indexOf("cs"),e.monthTextTransform=i?"capitalize":"lowercase",e.today=function(){return p.tz(a.tzid).toDate()},v.updateFilterFromQuery(a.channelMode),C(),function(){var n,a,i;a=((n=v.searchFilter).search||"").trim(),(i=(n.tags||"").trim().replace(/;/g,"&&").replace(/,/g,"||"))&&(a+=" #"+i),e.searchProxy.search=a.trim(),e.$watch("searchProxy.search",(function(e,n){if(void 0!==e&&e!==n){for(var a,i=new RegExp('#(?:"([^"]*)"|([^\\s]*))',"g"),r=[];null!==(a=i.exec(e));){var o=a[1]||a[2];r.push(o)}var s=(r.filter((function(e){return!!e})).join(",")||"").trim().replace(/&&/g,";").replace(/\|\|/g,","),l=e.replace(i,"").replace(/\s{2,}/g," ").trim(),c=v.searchFilter;l?c.search=l:delete c.search,s?c.tags=s:delete c.tags,t.go(".",{search:l,tags:s},{notify:!1})}}))}(),e.$watch("CalendarSearch.refTime.startms",(function(a){var i,r,o;void 0!==a&&(k||(k=!0,r=(i=p.tz(v.refTime.startms,v.calendar.tzid)).valueOf()+60*i.utcOffset()*1e3,o=p.utc(r).startOf("day"),e.startmsProxy.startms=o.valueOf(),e.$watch("startmsProxy.startms",(function(e,a){void 0!==e&&e!==a&&n((function(){var n=p.tz(+e,v.calendar.tzid),a=n.valueOf()-60*n.utcOffset()*1e3,i=p.tz(a,v.calendar.tzid),r=i.hour();0!==r&&(11<r?i.add(24-r,"hours"):i.subtract(r,"hours"));var o=i.valueOf();v.refTime.startms=o,b.updateStart(o),t.go(".",{startms:o},{notify:!1})}),0)}))))})))})),e.$watch("CalendarSearch.searchFilter",(function(e){}),!0),document.addEventListener("restyle",S),e.$on("$destroy",(function(){document.removeEventListener("restyle",S),e.isDestroyed=!0}))}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(11),o=n(1),s=n(21);i.a.module("tkfngViewer").controller("NewViewCtrl",["$scope","Auth","CalendarSearch","FullScreen","$state","Editor","Viewer",function(e,t,n,a,i,l,c){e.isEditor=0===i.current.name.indexOf("edit");var d=o.Config.getHostProperty("parentDomain"),u=!d||"localhost"===d||"tockify.com"===d,p=i.$current.name||"";e.isDetailPage="viewers.inter.detail"===p,e.isUpcoming="viewers.inter.upcoming"===p,e.CalendarSearch=n,e.Viewer=c,e.isFullScreen=a.isFullScreen,e.isEmbedded=a.isEmbedded,e.isStandalone=!(e.isFullScreen||e.isEmbedded),e.pageState={};var f=null;0===p.indexOf("viewers.inter")&&(f=p.replace(/viewers\.inter\.?/,"")),n.loadCalendar(void 0,{view:f}),e.$watch("CalendarSearch.calendar",(function(a){var o,c,d,p;a&&(e.isUpcoming="viewers.inter.upcoming"===i.$current.name,e.calendar=a,l.isReal&&(t.getCurrentUser().then((function(t){s.a.isDefined&&(e.calmetas=s.a.onlineCalmetas),e.isLoggedIn=!0,e.isOwnCalendar=-1!==t.calendars.indexOf(e.calendar._id)})).catch((function(){})),e.plan=l.plan),o=e.plan?e.plan.category:null,e.showFooter=e.plan&&"trial"===o||0===e.calendar.effectiveFeatureLevel&&"free"===o,l.isReal&&(c=(e.showFooter?72:40)-1,(d=r.a.getStyler("fixiOSBug",!0)).queueRule(".editor__main__scrollable",{"min-height":"calc(100vh - ".concat(c,"px)")}),d.applyRules()),e.showDemoMessage=!u&&"spirited"===e.calendar.name,e.direction=n.direction,e.siteLink=!!(p=a.url)&&(0===(p=p.toLowerCase()).indexOf("http://")||0===p.indexOf("https://")?p:"http://"+p))})),e.$watch("Viewer.settings",(function(t){t&&(e.settings=t)}),!0),e.toggleCalendarMenu=function(t){t.stopPropagation(),t.preventDefault(),e.pageState.calendarMenuOpen=!e.pageState.calendarMenuOpen}}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").config(["$stateProvider",function(e){e.state("empty",{views:{"main@":{template:"<div></div>"}},url:"/over"}).state("rsvpFormFiller",{url:"/i/site/rsvpForm/:calname/:uid/:tid/:rid",views:{"main@":{template:function(e){var t=e.calname,n=e.uid,a=e.tid,i=e.rid;return'<div rsvp-form calname="'.concat(t,'" uid="').concat(n,'" tid="').concat(a,'" rid="').concat(i,'" ></div>')}}}}).state("rsvpFillerStandalone",{views:{"main@":{template:n(187),controller:"RsvpFillerStandaloneCtrl"}},url:"/i/site/rsvpFillerStandalone/:calid/:uid/:tid/:rid"}).state("viewers",{abstact:!0,views:{"main@":{template:n(188),controller:"NewViewCtrl"}}}).state("viewers.inter",{url:"/:calname?tags&search&startms&start&longForm&checkNarrow",views:{"main@viewers":{template:"<ui-view>"},"feature@viewers":{template:'<div event-feature settings="settings"calendar="calendar"></div>',authenticate:!1},nav:{template:n(189),controller:"NavbarController"}}}).state("viewers.inter.pinboard",{url:"/pinboard",data:{recorder:!0},template:"<div pinboard-view ></div>",authenticate:!1}).state("viewers.inter.agenda",{url:"/agenda",data:{recorder:!0},template:"<div agenda-view ></div>",authenticate:!1}).state("viewers.inter.agendalong",{url:"/agendalong",data:{recorder:!0},template:"<div agenda-view ></div>",authenticate:!1}).state("viewers.inter.monthly",{url:"/monthly",data:{recorder:!0},template:"<div month-view ></div>",authenticate:!1}).state("viewers.inter.upcoming",{url:"/upcoming?view",data:{recorder:!0},views:{"nav@viewers":{template:""},"":{template:"<div upcoming-view ></div>",authenticate:!1}}}).state("viewers.inter.repeatdetail",{url:"/detail/:uid/:tid/:rid",data:{scrollToTop:!0,recorder:!0},views:{"nav@viewers":{template:""},"":{template:"<div event-detail ></div>",authenticate:!1}}}).state("viewers.inter.detail",{url:"/detail/:uid/:tid",data:{scrollToTop:!0,recorder:!0},views:{"nav@viewers":{template:""},"":{template:"<div event-detail ></div>",authenticate:!1}}}).state("viewers.inter.detailquery",{url:"/detailquery?tags&search&startms",data:{scrollToTop:!0,recorder:!0},views:{"nav@viewers":{template:""},"":{template:'<div event-detail mode="query"></div>',authenticate:!1}}})}])},function(e,t){e.exports='<div class="rsvp__standalone__filler__wrap">\n  <div class="rsvp__standalone__filler">\n    <div calid="{{calid}}" do-close="onSent()"\n         ng-if="viewState.status === \'ready\'"\n         rid="{{rid}}"\n         rsvp-filler rsvp-link="rsvpLink" rsvp-status="rsvpStatus" tid="{{tid}}" uid="{{uid}}"></div>\n    <div ng-if="viewState.status === \'sent\'">\n      <div class="rsvp__thankYou">\n        <div class="rsvp__thankYou__box">\n          <div translate="thankYou"></div>\n        </div>\n        <button class="btn btn-success btn-block" ng-click="goBack()" translate>Back!</button>\n      </div>\n    </div>\n  </div>\n\n</div>'},function(e,t){e.exports='\x3c!--<div ng-if="isFullScreen" class="viewerArea__fullScreenClose"></div>--\x3e\n<div class="ex-viewer__background" ng-if="settings.useBackgroundImage"></div>\n<div class="viewerArea  d-textColor d-fontSize" ng-class="{\'l-background\':!isUpcoming}"\n     ng-style="{direction:CalendarSearch.direction}">\n  <div class="viewers--hidden tkfSizeDetector {{Viewer.viewDisplayClass}}">\n\n    <div class="spinner-wrap">\n      \x3c!-- add ng-cloak to class to hide duing load --\x3e\n      <div class="spinner spinner__double-circles" ng-show="notifier.spinner.show">\n        <div class="circle circle1"></div>\n      </div>\n    </div>\n\n    <div class="viewerArea__calendarTitleSection clearfix"\n         ng-class="{\'u-rtl\':direction===\'rtl\'}"\n         ng-if="!isEditor && settings.kind === \'standalone\' && !calendar.customHeader">\n      <div class="viewerArea__siteLink u-pullRight" ng-if="siteLink">\n\n        <a class="btn btn-default viewer__navbar__button" ng-href="{{siteLink}}" target="_blank"\n           translate="visitOurWebsite"></a></div>\n\n      <h1 class="viewerArea__displayName u-pullLeft" ng-if="!isDetailPage">\n\n        <a class="d-textColor" ng-href="{{siteLink}}" ng-if="siteLink" target="_blank">{{calendar.displayName}}</a>\n        <span class="d-textColor" ng-href="{{siteLink}}" ng-if="!siteLink">{{calendar.displayName}}</span>\n      </h1>\n\n      <div class="viewerArea__displayName u-pullLeft" ng-if="isDetailPage">\n        <a class="d-textColor" ng-href="{{siteLink}}" ng-if="siteLink" target="_blank">{{calendar.displayName}}</a>\n        <span class="d-textColor" ng-href="{{siteLink}}" ng-if="!siteLink">{{calendar.displayName}}</span>\n      </div>\n    </div>\n\n    <div class="viewerArea__demoMessage" ng-if="showDemoMessage">\n      Tockify Demo Calendar\n    </div>\n\n    <div class="viewerArea__nav" ui-view="nav"></div>\n    <div class="viewerArea__main" ng-style="{direction:CalendarSearch.direction}" ui-view="main"></div>\n\n    <a href="https://tockify.com"\n       ng-class="{\'u-pullRight  branding-subtle\':true, \'is-fullscreen\':isFullScreen, \'is-embedded\':isEmbedded, \'is-standalone\':isStandalone}"\n       ng-if="!isUpcoming && calendar.effectiveFeatureLevel > 0 && calendar.effectiveFeatureLevel < 200 "\n       target="_blank"\n       translate="calendarByTockify"></a>\n  </div>\n</div>'},function(e,t){e.exports='<div class="viewer__navbar" cloak ng- ng-if="calendar">\n  <div class="viewerArea__clickPane" ng-click="closeModeMenu($event)"\n       ng-if="pageState.showModeMenu"></div>\n  <div class="navbar navbar-default" ng-if="showNavBar" style="direction:ltr">\n\n    <a ng-if="viewCount > 1" ng-class="{\'l-toggle l-left\':true, active:pageState.mobileMenu === \'left\'}"\n       ng-click="toggleMobileNav(\'left\')">\n      <span class="sr-only">Toggle navigation</span>\n      <i ng-class="{\'flaticon-arrow483\':true, \'l-is-on\':pageState.mobileMenu !== \'left\'}"></i>\n      <i ng-class="{\'flaticon-cross\':true, \'l-is-on\':pageState.mobileMenu === \'left\'}"></i>\n    </a>\n\n    <span class="navbar-btn">\n                    <a bs-tooltip class="fullscreen-icon--collapsed"\n                       data-bs-enabled="!isTouchDevice"\n                       data-placement="bottom"\n                       data-title="{{\'fullPage\' | translate}}"\n                       ng-click="FullScreen.open($event)" ng-cloak ng-if="showFullScreenLink"\n                    ><i class="flaticon13-fullscreen3 collapsed"></i></a>\n                  </span>\n    <span class="navbar-btn">\n                  <a ng-class="{\'l-toggle l-right\':true,  active:pageState.mobileMenu === \'right\'}"\n                     ng-click="toggleMobileNav(\'right\')">\n                    <span class="sr-only">Toggle navigation</span>\n                    <i ng-class="{\'flaticon-magnifying47\':true, \'l-is-on\':pageState.mobileMenu !== \'right\'}"></i>\n                    <i ng-class="{\'flaticon-cross\':true, \'l-is-on\':pageState.mobileMenu === \'right\'}"></i>\n                  </a>\n                    </span>\n    <div class="mobile-navbar-switcher">\n      <div class="btn-group ">\n        <a class="btn btn-default navbar-btn viewer__navbar__button"\n           ng-if="settings.views.pinboard.show  && viewCount !== 1" translate="pinboard"\n           type="button"\n           ui-sref="viewers.inter.pinboard({calname:calendar.name})" ui-sref-active="active"></a>\n        <a class="btn btn-default navbar-btn viewer__navbar__button"\n           ng-if="settings.views.agenda.show  && viewCount !== 1" translate="agenda"\n           type="button"\n           ui-sref="viewers.inter.agenda({calname:calendar.name})" ui-sref-active="active"></a>\n        <a class="btn btn-default navbar-btn viewer__navbar__button"\n           ng-if="settings.views.monthly.show  && viewCount !== 1" translate="monthly"\n           type="button"\n           ui-sref="viewers.inter.monthly({calname:calendar.name })" ui-sref-active="active"></a>\n      </div>\n\n    </div>\n\n\n    \x3c!-- mobile dropdown --\x3e\n    <div class="l-mobile-only">\n      <div ng-class="{\'navbar-collapse\':true, collapse:pageState.mobileMenu !== \'left\'}" ng-cloak>\n\n        <div class="col-lg-12">\n\n          <ul class="nav navbar-nav navbar-right">\n\n            <li class="mobile-navmenu-view"\n                ng-show="calendar.effectiveFeatureLevel >= 0 && settings.views.pinboard.show  && viewCount !== 1">\n              <a\n                  class="btn btn-default navbar-btn viewer__navbar__wide-button" ng-click="openView(\'pinboard\')"\n                  translate="pinboard"\n                  type="button" ui-sref-active="active"></a>\n            </li>\n            <li class="mobile-navmenu-view"\n                ng-show="calendar.effectiveFeatureLevel >= 0 && settings.views.agenda.show  && viewCount !== 1">\n              <a\n                  class="btn btn-default navbar-btn viewer__navbar__wide-button" ng-click="openView(\'agenda\')"\n                  translate="agenda"\n                  type="button" ui-sref-active="active"> </a>\n            </li>\n            <li class="mobile-navmenu-view"\n                ng-show="calendar.effectiveFeatureLevel >= 0 && settings.views.monthly.show  && viewCount !== 1">\n              <a\n                  class="btn btn-default navbar-btn viewer__navbar__wide-button" ng-click="openView(\'monthly\')"\n                  translate="monthly"\n                  type="button" ui-sref-active="active"></a>\n            </li>\n\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div ng-class="{\'navbar-collapse\':true, collapse:pageState.mobileMenu !== \'right\'}" ng-cloak>\n\n      <div class="col-lg-12">\n        <form class="navbar-form navbar-left viewer__navbar__left">\n          <div class="form-group viewer__navbar__search" ng-show="showSearch">\n            <div class="input-group ">\n              <input aria-label="search" autocomplete="off" class="form-control main-search-box" name="search"\n                     ng-model="searchProxy.search"\n                     ng-model-options="{ updateOn: \'blur default\', debounce: {\'default\':500, \'blur\': 0}}"\n                     placeholder="{{\'search\' | translate}}"\n                     type="text"\n              >\n              <span class="input-group-btn">\n                       <a class="btn btn-default viewer__navbar__button" ng-click="clearSearch()"><i\n                           class="flaticon-cross l-search"></i>\n                       </a>\n                      </span>\n            </div>\n          </div>&nbsp;<div class="form-group date-navigator" ng-if="dateFormat && showDateNav"\n                           ng-show="dateStyle">\n          \x3c!--<label class="control-label">events after</label>--\x3e\n          <a aria-label="go back one month"\n             class="btn btn-default viewer__navbar__button"\n             ng-click="bwdMonth()"><i\n              class="flaticon-back"></i></a><input autocomplete="off" bs-datepicker\n                                                   class="form-control"\n                                                   data-autoclose="1"\n                                                   data-date-format="{{dateFormat}}"\n                                                   data-date-type="number"\n                                                   data-min-view="0"\n                                                   data-start-view="0"\n                                                   data-start-week="{{wkstart}}"\n                                                   data-template-url="app/common/tkfDatePicker.html"\n                                                   data-timezone="UTC"\n                                                   data-use-native="false"\n                                                   name="date"\n                                                   ng-model="startmsProxy.startms"\n                                                   ng-show="dateStyle === \'full\'" size="{{dateWidth}}"\n                                                   type="text"><a\n            aria-label="go forwards one month" class="btn btn-default viewer__navbar__button"\n            ng-click="fwdMonth()"><i\n            class="flaticon-next"></i></a>\n        </div>\n          <div class="l-mobile-responder l-noPadding"\n               ng-if="calendar.effectiveFeatureLevel > 0 && settings.showSubscribeToCalendar && !alwaysShowSubscribe">\n            <a class="viewer__navbar__linkbutton btn btn-cta"\n               ng-click="recordSubsribe()"\n               ng-href="webcal://tockify.com/api/feeds/ics/{{calendar.name}}" target="_top"\n               translate="subscribe">\n            </a>\n          </div>\n          <div class="l-mobile-responder l-noPadding"\n               ng-show="calendar.effectiveFeatureLevel > 0 && showSubmit && !alwaysShowSubmit">\n            <button class="btn btn-cta navbar-btn" ng-click="submitEvent($event)" ng-if="calendar.showSubmitEvent"\n                    translate="submitEvent" type="button">\n            </button>\n          </div>\n\n        </form>\n\n        <ul class="nav navbar-nav navbar-right viewer__navbar__right">\n          <li class="extra-space viewer__navbar__submit"\n              ng-show="calendar.effectiveFeatureLevel > 0 && showSubmit">\n            <button class="btn btn-cta navbar-btn" ng-click="submitEvent($event)" ng-if="calendar.showSubmitEvent"\n                    translate="submitEvent" type="button">\n            </button>\n          </li>\n          <li class="viewer__navbar__subscribe"\n              ng-class="{\'extra-space\':settings.navbar.subscribeAsButton}"\n              ng-show="calendar.effectiveFeatureLevel > 0 && showSubscribe && settings.showSubscribeToCalendar">\n            <a class="l-underline l-mobile-hide" href=""\n               ng-click="openSubscribeToCalendar($event)"\n               ng-if="!settings.navbar.subscribeAsButton"\n               translate="subscribe">\n            </a>\n            <button class="btn btn-cta navbar-btn" ng-click="openSubscribeToCalendar($event)"\n                    ng-if="settings.navbar.subscribeAsButton"\n                    translate="subscribe" type="button">\n            </button>\n          </li>\n          <li class="viewer__navbar__menuSwitcher"\n              class=""\n              ng-class="{\'dropdown viewer__nav--dropdown\':true, open:pageState.showModeMenu}"\n              ng-show="calendar.effectiveFeatureLevel >= 0 && switcherStyle === \'dropdown\' && viewCount !== 1"\n          >\n            <a aria-expanded="false" class="dropdown-toggle viewer__mode" data-toggle="dropdown"\n               ng-click="openModeMenu()" role="button" href>{{stateLabel() | translate }}<span\n                class="caret"></span></a>\n            <ul class="dropdown-menu" role="menu">\n              <li ng-if="settings.views.pinboard.show">\n                <a ng-click="openView(\'pinboard\')" translate="pinboard"\n                   ui-sref=".pinboard({calname:calendar.name})" ui-sref-active="active"\n                ></a>\n              </li>\n              <li ng-if="settings.views.agenda.show">\n                <a ng-click="openView(\'agenda\')" translate="agenda"\n                   ui-sref=".agenda({calname:calendar.name})" ui-sref-active="active"\n                ></a>\n              </li>\n              <li ng-if="settings.views.monthly.show">\n                <a ng-click="openView(\'monthly\')" translate="monthly"\n                   ui-sref=".monthly({calname:calendar.name})" ui-sref-active="active"\n                ></a>\n              </li>\n            </ul>\n          </li>\n          <li class="viewer__navbar__fullSwitcher"\n              ng-show="calendar.effectiveFeatureLevel >= 0 && switcherStyle === \'full\'">\n            <div class="btn-group">\n              <a class="btn btn-default navbar-btn viewer__navbar__button"\n                 ng-if="settings.views.pinboard.show  && viewCount !== 1" translate="pinboard"\n                 type="button"\n                 ui-sref=".pinboard({calname:calendar.name})" ui-sref-active="active"></a>\n              <a class="btn btn-default navbar-btn viewer__navbar__button"\n                 ng-if="settings.views.agenda.show  && viewCount !== 1" translate="agenda"\n                 type="button"\n                 ui-sref=".agenda({calname:calendar.name})" ui-sref-active="active"></a>\n              <a class="btn btn-default navbar-btn viewer__navbar__button"\n                 ng-if="settings.views.monthly.show  && viewCount !== 1" translate="monthly"\n                 type="button"\n                 ui-sref=".monthly({calname:calendar.name })" ui-sref-active="active"></a>\n            </div>\n          </li>\n          <li class="mobile-navmenu-hide"\n              ng-show="calendar.effectiveFeatureLevel >= 0 && settings.views.pinboard.show  && viewCount !== 1">\n            <a\n                class="btn btn-default navbar-btn viewer__navbar__button" ng-click="openView(\'pinboard\')"\n                translate="pinboard"\n                type="button" ui-sref-active="active"></a>\n          </li>\n          <li class="mobile-navmenu-hide"\n              ng-show="calendar.effectiveFeatureLevel >= 0 && settings.views.agenda.show  && viewCount !== 1">\n            <a\n                class="btn btn-default navbar-btn viewer__navbar__button" ng-click="openView(\'agenda\')"\n                translate="agenda"\n                type="button" ui-sref-active="active"> </a>\n          </li>\n          <li class="mobile-navmenu-hide"\n              ng-show="calendar.effectiveFeatureLevel >= 0 && settings.views.monthly.show  && viewCount !== 1">\n            <a\n                class="btn btn-default navbar-btn viewer__navbar__button" ng-click="openView(\'monthly\')"\n                translate="monthly"\n                type="button" ui-sref-active="active"></a>\n          </li>\n\n          <li class="viewer__nav_buttons">\n            \x3c!-- if in iframe we can\'t escape so open a new window --\x3e\n            <p class="navbar-btn">\n              <a bs-tooltip class="fullscreen-icon"\n                 data-bs-enabled="!isTouchDevice"\n                 data-placement="bottom"\n                 data-title="{{\'fullPage\' | translate}}"\n                 ng-click="FullScreen.open($event)" ng-cloak ng-if="showFullScreenLink"\n              ><i class="flaticon13-fullscreen3"></i></a>\n            </p>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n  </div>\n  <div class="close-popup" ng-if="settings.kind === \'fullscreen\'"><a href="" ng-click="FullScreen.close($event)"><i\n      class="flaticon-cross"></i></a></div>\n</div>\n<div class="l-mobile-responder" ng-if="calendar.effectiveFeatureLevel > 0 && alwaysShowSubmit">\n  <button class="btn btn-cta navbar-btn" ng-click="submitEvent($event)" ng-if="calendar.showSubmitEvent"\n          translate="submitEvent" type="button"></button>\n</div>\n<div class="l-mobile-responder" ng-if="calendar.effectiveFeatureLevel > 0 && alwaysShowSubscribe">\n  <a class="viewer__navbar__linkbutton btn btn-cta" ng-href="webcal://tockify.com/api/feeds/ics/{{calendar.name}}"\n     ng-click="recordSubsribe()"\n     target="_top"\n     translate="subscribe">\n  </a>\n</div>\n'},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(1),s=n(11),l=n(12),c=n(13),d=n(16),u=n(20),p=n(9),f=n(3),v=n(17);function g(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=n(22);i.a.module("tkfngViewer").service("AgendaState",(function(){})).directive("agendaView",["EventFormatter","$location","CalendarSearch","ICSSubscribe","Styler","$state","tkfNotify","WatchHeight","RouteHelpers","AgendaState","$stateParams","NavHistory","$timeout","CrossDomainWrapper","FullScreen","Viewer","RSVPPopup",function(e,t,a,h,b,_,w,y,k,x,S,C,T,E,A,M,B){var P=function(){};return{template:n(191),restrict:"EA",scope:{},controller:["$scope",function(e){e.btz=p.a.timezone,e.isTouchDevice=c.a.isMobile.any,e.tagToKey=b.tagToKey,e.filterByTag=function(e,t){t&&(t.preventDefault(),t.stopPropagation()),M.scrollPos=0,a.searchFilter.tags=e,P(),_.go(".",{tags:e},{notify:!0})},e.openSubscribeToCalendar=function(e){e&&e.preventDefault(),h.openSubscribeToCalendar()},e.detailSRef=k.detailSRef,e.getImageUrl=function(t){var n=e.settings.views.agenda.imageShape;return"square"===n||"circle"===n?t.thumbURL:t.imageURL},e.clickedEventLink=function(t,n){var a,i,r,o,s;t&&(t.stopPropagation(),t.preventDefault()),e.stdLinkBehaviourOnly||!n.noDetail?(e.saveState(),A.isEmbedded?(E.requestEmbedScrollTop(),M.embedHeight=y.getHeight()):M.scrollPos=u.a.windowScrollY(),n&&(i=(a=k.toDetailStateArgs(n.event.eid)).route,r=a.params,e.openLinksAsPopup?(o=_.href(i,r),A.openPath(o)):_.go(i,r))):(s=e.settings.ctaButton.target||"_top",window.open(n.customButtonLink,s))},e.$watch("settings.views.agenda.maxEventsPerQuery",(function(t,n){t&&n&&t!==n&&e.loadFirst()})),e.rsvpURL=function(t){return B.getFillerURL(e.calendar._id,t)},e.openRSVPPopup=function(t,n,a){a&&(a.preventDefault(),a.stopPropagation());var i,r=(i=n,e.eventData.events.find((function(e){return e.eid.uid===i.uid&&e.eid.tid===i.tid&&e.eid.rid===i.rid})));B.openFiller({calid:t._id,rsvpStatus:r.rsvpStatus,rsvpLink:r.content.rsvpLink,eid:n,locale:t.locale})}}],link:function(n,h,k){var S,B="true"===o.Config.getHostProperty("args.hideloadmore","false").toLowerCase(),D="viewers.inter.agendalong"===_.current.name,L=o.Config.getHostProperty("args.showimages","").toLowerCase();"true"===L&&(S=!0),"false"===L&&(S=!1),n.mode=k.mode;var I=!!o.Config.getHostProperty("args.demo");n.isEditor="edit"===n.mode,n.firstPageLoaded=!1;var O,F=o.Config.getHostProperty("inIFrame",!1);function z(){var e,t,a,i=C.previousStateParams();i.tid&&i.uid?(e=i.rid||0,t="eid_"+i.uid+"_"+i.tid+"_"+e,a=0,function e(){if(!n.isDestroyed){if(null!==document.querySelector("#"+t)){if(N(100),A.isEmbedded)return E.embedScrollTop(M.scrollPos),M.scrollPos=0,void M.showView(!0);u.a.windowScrollY(M.scrollPos)}var i=u.a.windowScrollY();if(a<20&&(A.isEmbedded||i!==M.scrollPos))a++,setTimeout(e,100);else{if(M.scrollPos=0,n.isDestroyed)return;setTimeout((function(){return M.showView(!0)}),0)}}}()):(M.scrollPos=0,M.showView(!0))}function V(){var e,t,i,o,l,d,u,p,g,h,m,_,w,y,k=s.a.getStyler("user"),x=a.snapshot().settings;x&&(n.asy=x.alwaysShowYear,e=x.views.agenda,n.as=e,n.showImages="boolean"==typeof S?S:x.showImages,t=e.itemBackground||x.background,i=e.linkColor||x.linkColor,o=Object(f.h)(i,t,.5).css(),l=(l=e.separatorColor)||Object(f.h)(i,t,.3).css(),0<(d=Object(v.isPrinting)()?800:M.getAvailableWidth())&&d<400&&(F?(n.linkTarget="_blank",n.openLinksAsPopup=!0):!c.a.isMobile.phone&&A.isEmbedded&&(n.openLinksAsPopup=!0)),"fullscreen"===x.openDetails&&!n.stdLinkBehaviourOnly&&A.isEmbedded&&(n.openLinksAsPopup=!0),k.queueRule(".agendaItem__image",{float:e.imagePosition}),u=0,"circle"===e.imageShape&&(u=1e3),p=e.imageBorderColor||o,g={},e.itemColor&&(g.color=e.itemColor),e.itemBackground&&(g.background=e.itemBackground),k.queueRule(".agendaItem",g),e.linkColor&&(h=x.tagColor||e.linkColor,b.applyTagStyles({tagColor:h,scope:".agendaItem"}),k.queueRule(".agendaItem .d-title a, .agendaItem a.l-vloc",{color:e.linkColor})),m=x.textColor,k.queueRule(Object(f.f)(".agendaItem__where a.c-where",f.a),{color:m}),k.queueRule(".agendaItem__image__wrap",{padding:"2px","border-radius":u+"px","border-style":"solid","border-width":e.imageOuterBorderWidth+"px","border-color":p}),k.queueRule(".agendaItem__image__img",{"border-radius":u+"px"}),k.queueRule(".agendaItemWrap",{"border-width":"0","border-style":"solid","border-color":l,"border-bottom-width":e.separatorWidth+"px"}),e.eventsFromText&&(k.queueRule(".agendaItemWrap:first-child",{"border-top-width":e.separatorWidth+"px"}),k.queueRule(".viewer__info--agenda",{margin:"12px 0"})),_=(x.views.agenda.eventTitleSize||Math.floor(1.75*x.fontSize))+"px",k.queueRule(".agendaItem__title",{"font-size":_}),w=x.tagcolors||{},r.a.each(w,(function(e,t){var n=b.toSafeTag(t),a=e;k.queueRule(".agendaItem__tagColorBar--"+n,{background:a}),x.linkTagColors&&(k.queueRule(".agendaItem .agendaItem__title--"+n+".d-title a",{color:a}),k.queueRule(".agendaItem__image__wrap.agendaItem__image__wrap--"+n,{"border-color":a}))})),k.applyRules(),y="embed"===x.kind?60:0,n.showSecondarySubmit=d<590+y&&460+y<=d)}function R(){a.snapshot().settings&&V()}function $(t,a,i,r,o){var s,l=t.map((function(t){return e.format(t,i,r,o)})),c=a?n.formattedEvents:[],d=[].concat(g(c),g(l));d.forEach((function(e){e.itemType="event";var t,n,a,i=e.event.eid,r=i.tid,o=i.uid,l=i.rid;e.domId=["eid",o,r,l].join("_"),s&&(t=s.start.month(),n=s.start.year(),a=e.start.month(),e.start.year()===n&&a===t||(e.isFirstInMonth=!0,s.isLastInMonth=!0)),s=e})),n.formattedEvents=d,n.agendaItems=d}function j(){O&&(T.cancel(O),O=null),n.firstPageLoaded=!1}function N(e){O&&(T.cancel(O),O=null),O=T((function(){return n.firstPageLoaded=!0}),e)}n.saveState=function(){x.eventData=i.a.copy(n.eventData)},n.CalendarSearch=a,n.Viewer=M,n.mode=k.mode,n.stdLinkBehaviourOnly=n.CalendarSearch.onTockifySite,n.loaded=!1,n.loadingEvents=!1,document.addEventListener("restyle",R),n.$on("$destroy",(function(){document.removeEventListener("restyle",R),n.isDestroyed=!0})),n.loadFirst=function(i){n.isEditor&&(i=!1);var r=a.snapshot(),s=r.calendar,c=r.refTime,u=r.searchFilter,p=r.settings;if(p){s&&l.a.trackPage(s.displayName),j(),M.showView(!0);var f=p.views.agenda.maxEventsPerQuery||12,v=o.Config.getHostProperty("args.maxEventsPerQuery",f);30<v&&(v=30);var g=o.Config.getHostProperty("args.expandagenda",!1);n.printDetails="true"===t.search().longForm||g,D&&(v=1e3),n.hideLoadMore=D||B,n.refMoment=m.tz(c.startms,s.tzid),n.nowMoment=m.tz(s.tzid);var h=n.refMoment.isSame(n.nowMoment,"day");n.fromDate=e.formatEventsFromDate(n.refMoment,!1),n.showChannelText=function(){if(!s.channelMode)return!1;var e=n.refMoment;return h&&e.hours()+e.minutes()+e.seconds()+e.milliseconds()!==0}();var b=Object.assign({},{view:D?"agendalong":"agenda",calname:s.name,"start-inclusive":!!s.channelMode||!!p.showContinuingEvents,max:v,longForm:n.printDetails,showAll:"edit"===n.mode||I},u,c);if(i){var _=x;if(_&&_.eventData)return M.showView(!1),y.updateHeight(M.embedHeight),k(_.eventData,s,p),z(),delete _.eventData,void N(100)}w.spinner.open(),n.loadingEvents=!0,d.a.queryAndSave(b).then((function(e){w.spinner.close(),k(e,s,p)})).catch((function(e){w.spinner.close()})).finally((function(){N(100),n.loadingEvents=!1}))}function k(e,t,a){n.isEmptyCalendar=e.isEmptyCalendar,n.firstPage=!1,n.hasNext=d.a.hasMore(),n.eventData=e;var i="visitor"===a.showTimezone;$(e.events,!1,t,n.printDetails,i),n.loaded=!0,y.heightChanged()}};var U=!(n.loadMore=function(e){var t,i,r;e&&e.preventDefault(),n.loadingEvents||(t=a.snapshot(),i=t.calendar,(r=t.settings)&&(w.spinner.open(),n.loadingEvents=!0,d.a.getMore({"start-inclusive":!!i.channelMode||!!r.showContinuingEvents}).then((function(e){w.spinner.close(),j(),n.firstPage=!1,n.hasNext=d.a.hasMore();var t="visitor"===r.showTimezone;$(e.events,!0,i,n.printDetails,t);var a=n.eventData.events.concat(e.events);n.eventData={events:a,meta:e.meta},y.heightChanged()})).catch((function(e){w.spinner.close()})).finally((function(){n.loadingEvents=!1,N(1e3)}))))});n.$watch("CalendarSearch.loaded",(function(e,t){if(!("boolean"!=typeof e||U&&e===t)&&e){var r=a.snapshot(),o=r.calendar,s=r.settings;if(!s)return;n.settings=s,n.calendar=o,n.direction=a.direction,function(){U=!0;var e=a.snapshot(),t=e.calendar,i=e.settings;i&&(n.showTimezone=function(e){var t=i.showTimezone;return"always"===t||"different"===t&&p.a.timezone===e},V(),n.submitEvent=function(e){e&&e.preventDefault(),window.open(t.submitURL,"_blank")})}(),n.loadFirst(!0);var l=n.$watch("CalendarSearch.calendar",(function(e,t){a.loaded&&!i.a.equals(e,t)&&(n.calendar=e,n.loadFirst())})),c=n.$watch("CalendarSearch.searchFilter",(function(e,t){a.loaded&&!i.a.equals(e,t)&&n.loadFirst()}),!0),d=n.$watch("CalendarSearch.refTime",(function(e,t){a.loaded&&!i.a.equals(e,t)&&n.loadFirst()}),!0),u=n.$watch("Viewer.settings",(function(e,t){a.loaded&&!i.a.equals(e,t)&&(n.settings=e,V(),(e&&t&&e.showContinuingEvents!==t.showContinuingEvents||e.showTimezone!==t.showTimezone)&&n.loadFirst())}),!0);P=function(){l(),c(),d(),u()}}}))}}}])},function(e,t){e.exports='<div class="viewer__info viewer__info--agenda d-headerText clearfix" ng-class="{\'u-rtl\':direction===\'rtl\'}">\n  <div class="u-pullRight">\n\n    <a class="viewer__secondarySubscribe ad-text" href=""\n       ng-click="openSubscribeToCalendar($event)"\n       ng-if="settings.showSubscribeToCalendar && calendar.effectiveFeatureLevel > 0 && !settings.navbar.subscribeAsButton"\n       translate="subscribe">\n    </a>\n    <button class="btn btn-cta viewer__secondarySubscribe" ng-click="openSubscribeToCalendar($event)"\n            ng-if="settings.showSubscribeToCalendar && calendar.effectiveFeatureLevel > 0 && settings.navbar.subscribeAsButton"\n            translate="subscribe">\n    </button>\n    <button class="btn btn-cta viewer__secondarySubmit" ng-click="submitEvent($event)"\n            ng-if="calendar.effectiveFeatureLevel > 0 && calendar.showSubmitEvent"\n            translate="submitEvent">\n    </button>\n    <a class="tockify__branding--incal d-title" href="/" ng-if="calendar.effectiveFeatureLevel <= 0"\n       target="_blank"><span\n        class="tockify__branding--incal__prefix" translate="calendarBy"></span>&nbsp;<span\n        class="tockify-logo">Tockify</span></a>\n  </div>\n\n\n  <span ng-if="as.eventsFromText && loaded && !showChannelText">\n      <span class="d-textColor"\n            translate="eventsFrom" translate-default=""></span> {{fromDate}} <span\n      class="d-textColor" translate="eventsFromPost" translate-default=""></span>\n    </span>\n  <span ng-if="as.eventsFromText && loaded && showChannelText">\n    <span class="d-textColor" translate="todaysSchedule" translate-default="Today\'s schedule"></span>\n    </span>\n\n</div>\n<div class="agendaView" ng-class="{noselect:(settings.noCopy && mode !==\'edit\')}" ng-show="loaded">\n  <div class="agenda">\n    <div class="agendaItemWrap"\n         id="{{::ev.domId}}"\n         ng-click="clickedEventLink($event,ev)" ng-repeat="ev in agendaItems"\n         ng-style="{direction:ev.direction}">\n\n      <div ng-if="ev.itemType===\'separator\'">{{ev.label}}</div>\n\n      <div class="agendaItem" ng-if="ev.itemType===\'event\'">\n        <div class="agendaItem__tagColorBar agendaItem__tagColorBar--{{ev.colorTag}}" ng-if="as.showTagBar"></div>\n        <div class="agendaItem__image " ng-if="showImages && calendar.useImages">\n          <div class="agendaItem__image__wrap agendaItem__image__wrap--{{ev.colorTag}}">\n\n            <div ng-if="ev.hasImage">\n\n              <a ng-click="$event.stopPropagation()" ng-href="{{ev.customButtonLink}}"\n                 ng-if="!stdLinkBehaviourOnly && ev.noDetail" target="{{settings.ctaButton.target}}"\n              ><img alt="{{ev.imageAlt}}"\n                    class="agendaItem__image__img"\n                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="\n                    tk-src="{{getImageUrl(ev)}}"></a>\n\n              <a ng-click="clickedEventLink($event,ev)"\n                 ng-if="!stdLinkBehaviourOnly && !ev.noDetail && openLinksAsPopup"\n                 ui-sref="{{::detailSRef(ev.event.eid)}}"\n              ><img alt="{{ev.imageAlt}}"\n                    class="agendaItem__image__img"\n                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="\n                    tk-src="{{getImageUrl(ev)}}"></a>\n\n              <a ng-attr-target="{{::linkTarget}}"\n                 ng-click="clickedEventLink($event,ev)"\n                 ng-if="stdLinkBehaviourOnly || (!ev.noDetail && !openLinksAsPopup)"\n                 ui-sref="{{::detailSRef(ev.event.eid)}}"\n              ><img alt="{{ev.imageAlt}}"\n                    class="agendaItem__image__img"\n                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="\n                    tk-src="{{getImageUrl(ev)}}"></a>\n            </div>\n\n\n            <div class="agendaItem__image__img agendaItem__image__img--placeholder"\n                 ng-if="!ev.hasImage"></div>\n          </div>\n        </div>\n\n        <div class="agendaItem__summary">\n\n          <h3 class="d-title d-titleText agendaItem__title agendaItem__title--{{ev.colorTag}}">\n            <a ng-bind-html="ev.title" ng-click="$event.stopPropagation()"\n               ng-href="{{ev.customButtonLink}}" ng-if="!stdLinkBehaviourOnly && ev.noDetail"\n               target="{{settings.ctaButton.target}}"\n            ></a>\n\n            <a ng-bind-html="ev.title" ng-click="clickedEventLink($event,ev)"\n               ng-if="!stdLinkBehaviourOnly && !ev.noDetail && openLinksAsPopup"\n               ui-sref="{{::detailSRef(ev.event.eid)}}"\n            ></a>\n            <a ng-attr-target="{{::linkTarget}}"\n               ng-bind-html="ev.title"\n               ng-click="clickedEventLink($event,ev)"\n               ng-if="stdLinkBehaviourOnly || (!ev.noDetail && !openLinksAsPopup)"\n               ui-sref="{{detailSRef(ev.event.eid)}}"></a>\n          </h3>\n\n          <div class="d-when agendaItem__when" ng-class="{\'l-gone\':ev.gone}">\n            <span class="viewers__different-year-label" ng-if="(asy ||!ev.startsThisYear) && !settings.startYearAtEnd">{{ev.startYear}}</span>\n            <span>{{ev.longStartDate}}</span>\n            <span> {{ev.startTime}}</span>\n\n            <span ng-if="ev.hasEnd"> - {{ev.longEndDate}} {{ev.endTime}}</span>\n            <span class="viewers__different-year-label" ng-if="(asy || !ev.startsThisYear) && settings.startYearAtEnd">{{ev.startYear}}</span>\n\n            <span\n                ng-if="settings.showTimezone === \'always\' || (settings.showTimezone === \'different\' && ev.timezone !== btz)">({{ev.shortTimezone}})</span>\n            <span ng-if="settings.showTimezone === \'visitor\'">({{ev.visitorTimezone}})</span>\n          </div>\n          <div>\n            <div class="status__agenda status__hidden" ng-if="ev.hidden"\n                 translate="unpublished"></div>\n            <div class="status__agenda status__cancelled" ng-if="ev.cancelled"\n                 translate="cancelled"></div>\n            <div class="status__agenda status__rescheduled" ng-if="ev.rescheduled"\n            >{{ev.rescheduledLabel | translate}} {{ev.rescheduledWhen}}\n            </div>\n            <div class="status__agenda status__postponed" ng-if="ev.postponed"\n                 translate="postponedTBA"></div>\n            <div class="status__agenda status__movedOnline" ng-if="ev.movedOnline"\n                 translate="movedOnline"></div>\n          </div>\n\n          <div class="d-text eventDetail__what__description" ng-bind-html="ev.safeDesc" ng-if="printDetails"></div>\n          <div ng-bind="ev.preview"\n               ng-class="{\'d-text d-text--preview agendaItem__what\':true, \'l-custom\':ev.hasCustomPreview}"\n               ng-if="!printDetails && as.showPreview"></div>\n\n          <div class="d-text agendaItem__where"\n               ng-if="ev.where.address && ((ev.where.place && as.showPlace) || as.showAddress)">\n            <a class="c-where" href="https://maps.google.com?q={{ev.where.address | encodeURIComponent}}"\n               ng-click="$event.stopPropagation()"\n               target="_blank">\n              <span class="c-place" ng-bind-html="ev.where.place" ng-if="ev.where.place && as.showPlace"></span><span\n                ng-if="ev.where.place && as.showPlace && as.showAddress">,&nbsp;</span><span\n                class="c-address" ng-bind-html="ev.where.address" ng-if="as.showAddress"></span>\n            </a>\n          </div>\n          <div class="d-text agendaItem__where"\n               ng-if="ev.virtualLocUrl && as.showAddress">\n            <label>{{\'onlineLocation\' | translate }}:</label>&nbsp;<a\n              class="l-vloc"\n              ng-if="!ev.virtualLocRsvpOnly"\n              ng-click="$event.stopPropagation()"\n              ng-href="{{ev.virtualLocUrl}}"\n              target="_blank">{{ev.virtualLocName}}</a><span\n              ng-if="ev.virtualLocRsvpOnly">{{ev.virtualLocName}}</span>\n          </div>\n          <div class="d-text agendaItem__where" ng-if="as.showPlace && ev.where.place && !ev.where.address">\n            <span class="c-place" ng-bind-html="ev.where.place"></span>\n          </div>\n          <div class="eventTags eventTags--{{settings.tagStyle}} agendaItem__tags" ng-if="as.showTags">\n            <span class="eventTags__tag d-tag eventTagColor--{{tagToKey(tag)}}" ng-repeat="tag in ev.tags"><a\n                class="eventTagColor--{{tagToKey(tag)}}"\n                href="" ng-click="filterByTag(tag,$event)"><span class="eventTags__text">{{tag}}</span></a></span>\n          </div>\n\n          <div class="agendaItem__buttons" ng-if="calendar.effectiveFeatureLevel > 0">\n            <a class="btn btn-cta"\n               ng-click="$event.stopPropagation()"\n               ng-href="{{ev.customButtonLink}}"\n               ng-if=\'as.showPromoButton && ev.customButtonText && ev.customButtonLink\'\n               target="{{settings.ctaButton.target}}"\n               track-outbound-click>{{ev.customButtonText}}\n            </a>\n            <a class="viewer__rsvp__button btn btn-cta"\n               ng-click="openRSVPPopup(calendar,ev.event.eid,$event)"\n               ng-if="!isTouchDevice && as.showRSVP && ev.hasRSVPs" translate="{{ev.rsvpButtonLabel}}">\n            </a>\n            <a class="viewer__rsvp__button btn btn-cta"\n               ng-click="$event.stopPropagation()"\n               ng-href="{{rsvpURL(ev.event.eid)}}" ng-if="isTouchDevice && as.showRSVP && ev.hasRSVPs"\n               target="_blank" translate="{{ev.rsvpButtonLabel}}">\n            </a>\n          </div>\n\n          <div class="agenda__editBlock" ng-if=\'::mode==="edit"\'>\n          <span ng-if=\'ev.event.kind==="mod"\'>\n            <a class="btn btn-siteform agendaItem__editButton"\n               ng-click="$event.stopPropagation()"\n               ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Repeating Group</a\n            >&nbsp;<a class="btn btn-siteform agendaItem__editButton"\n                      ng-click="$event.stopPropagation()"\n                      ui-sref="edit.inter.modeditor({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid, rid:ev.event.eid.rid})">Edit Modified Event</a>\n          </span>\n            <span ng-if=\'ev.event.kind==="rdate"\'>\n            <a class="btn btn-siteform agendaItem__editButton"\n               ng-click="$event.stopPropagation()"\n               ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Repeating Group</a\n            >&nbsp;<a class="btn btn-siteform agendaItem__editButton"\n                      ng-click="$event.stopPropagation()"\n                      ui-sref="edit.inter.modeditor({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid, rid:ev.event.eid.rid})">Edit Extra Repeat</a>\n          </span>\n            <span ng-if=\'ev.event.kind==="repeat"\'>\n            <a class="btn btn-siteform agendaItem__editButton"\n               ng-click="$event.stopPropagation()"\n               ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Repeating Group</a\n            >&nbsp;<a class="agendaItem__editLink editor__link"\n                      ng-click="$event.stopPropagation()"\n                      ui-sref="edit.inter.modeditor({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid, rid:ev.event.eid.rid})">Modify only this event</a>\n          </span>\n            <span ng-if=\'ev.event.kind==="singleton"\'>\n              <a class="btn btn-siteform agendaItem__editButton"\n                 ng-click="$event.stopPropagation()"\n                 ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Event</a>\n          </span>\n            <div class="agendaItem__rsvpSection" ng-if="calendar.effectiveFeatureLevel > 0 && ev.hasRSVPs">\n\n              <a ng-class="{ rsvp__rsvpIndicator: true, \'l-full\': ev.attendeeCount > 0, \'l-empty\': ev.attendeeCount === 0}"\n                 ui-sref="edit.inter.rsvpresponses({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid, rid:ev.event.eid.rid})"\n              >RSVPs: {{ev.attendeeCount}}</a>\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n    <ng-include ng-if="!hideLoadMore" src="\'app/viewers/base/listStatus.html\'"></ng-include>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("onLongPress",["$timeout",function(e){return{restrict:"A",scope:{pressTime:"@",onLongPress:"&",onTouchEnd:"&"},link:function(t,n){var a=+t.pressTime||600;n.bind("touchstart",(function(){t.longPress=!0,e((function(){t.longPress&&t.$apply((function(){t.onLongPress()}))}),a)})),n.bind("touchmove",(function(){t.longPress=!1})),n.bind("touchend",(function(e){t.longPress=!1,t.onTouchEnd&&t.onTouchEnd(e)}))}}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=/iphone|ipad/gi.test(navigator.appVersion)?"touchend":"mouseup";i.a.module("tkfngViewer").directive("angularRipple",(function(){return{restrict:"A",link:function(e,t){function n(e){var n,r,l,c=this.querySelector(".angular-ripple"),d=e.type;if(null===c&&((c=document.createElement("span")).className+=" angular-ripple",this.insertBefore(c,this.firstChild),c.offsetHeight||c.offsetWidth||(o=Math.max(t[0].offsetWidth,t[0].offsetHeight),c.style.width=o+"px",c.style.height=o+"px")),c.className=c.className.replace(/ ?(animate)/g,""),"mouseup"===d)a=e.pageX,i=e.pageY;else if("touchend"===d)try{var u=void 0!==e.changedTouches?e.changedTouches[0]:e.originalEvent;a=u.pageX,i=u.pageY}catch(e){a=c.offsetWidth/2,i=c.offsetHeight/2}n=t[0],r=document.documentElement,l=n.getBoundingClientRect(),s={top:l.top+window.pageYOffset-r.clientTop,left:l.left+window.pageXOffset-r.clientLeft},c.style.left=a-s.left-o/2+"px",c.style.top=i-s.top-o/2+"px",c.className+=" animate"}var a,i,o,s;t.on(r,n),e.$on("$destroy",(function(){t.off(r,n)}))}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1),o=n(4),s=n(13);i.a.module("tkfngViewer").directive("cardBoard",["$timeout","$compile","$q","WatchHeight",function(e,t,n,a){return{template:'<div class="cardBoard" ng-style="{height:boardHeight + \'px\'}" on-resize="board.resized()">\n  <div ng-transclude></div>\n  <div class="cardBoard__column {{::column.class}}" on-resize="resized()"\n        ng-style="{left:column.left +\'px\',width:column.width + \'px\'}"\n        ng-repeat="column in board.columns">\n </div>\n</div>',restrict:"EA",transclude:!0,scope:{direction:"@",targetWidth:"=",verticalGutter:"=",horizontalGutter:"=",tolerance:"=",animate:"=",fixedColumnCount:"@"},link:function(l,c){function d(e){return document.querySelector(e)}var u=!!r.Config.getHostProperty("args.demo"),p=10===s.a.getIEVersion(),f=window!==window.top,v=0,g=new o.b(n);function h(){return 0<c.length?c[0].parentNode.parentElement.clientWidth:0}function m(){var e=this;g.add((function(){return e.updateLayout(0)}))}m.prototype.updateLayout=function(e,t){var a=this,i=this.cardCount;return this.cardCount=e||0,e=e||0,n((function(n){a.columns||(a.columns=[],a.cardToColumn={},a.cardToEl=[]),function r(){0<h()?function(){var r=a.dimensions||{availableWidth:100};a.dimensions={availableWidth:h()||r.availableWidth,targetWidth:+l.targetWidth||200,horizontalGutter:+l.horizontalGutter||10,verticalGutter:+l.verticalGutter||10,roundUp:!0};var o=a.dimensions,s=!r||r.availableWidth!==o.availableWidth||r.targetWidth!==o.targetWidth||r.horizontalGutter!==o.horizontalGutter||r.verticalGutter!==o.verticalGutter||r.roundUp!==o.roundUp;if(!t&&!s&&i&&i>a.metrics.maxCardsPerRow&&e>a.metrics.maxCardsPerRow)n(!1);else if(a.metrics=function(e,t,n,a,i,r,o){var s=o||function(e,t,n,a){for(var i=0,r=0;i<e;)i=++r*(t+n)-n;return 1===r?1:a?r-1:r}(e,t,n,i),c=0,d=[];if(!o&&"number"==typeof r&&r<s)for(var u=(h=r)*((v=t)+n)-n,p=(c=Math.floor((e-u)/2),0);p<h;p++)d[p]=0;else{var f,v,g,h=s;v=i?(f=e-(h*(t+n)-n),t+Math.floor(f/h)):(g=w-e,t-Math.floor(g/h));for(var m=e-(h*((l.cardWidth=v)+n)-n),b=0;b<h;b++)d[b]=0;for(var _=0;_<m;_++)_%2==0?d[1+_/2]=1:d[h-1-(_-1)/2]=1}var y=0;return{columnCount:h,maxCardsPerRow:s,cardWidth:v,hpad:n,vpad:a,leftStart:c,adjustment:d.map((function(e){return y+=e})),availableWidth:e}}(o.availableWidth,o.targetWidth,o.horizontalGutter,o.verticalGutter,o.roundUp,e,+l.fixedColumnCount),a.columns=[],e&&e<=a.metrics.maxCardsPerRow){for(var c=0;c<a.metrics.columnCount;c++){var d=a.metrics.cardWidth,u=a.metrics.leftStart+(c*(a.metrics.cardWidth+a.metrics.hpad)+a.metrics.adjustment[c]);c<a.columns.length?(a.columns[c].width=d,a.columns[c].left=u):a.columns.push(new b(c,d,u,a.metrics.vpad))}n(!0)}else{for(var p=0;p<a.metrics.columnCount;p++){var f=a.metrics.cardWidth,v=a.metrics.leftStart+(p*(a.metrics.cardWidth+a.metrics.hpad)+a.metrics.adjustment[p]);a.columns.push(new b(p,f,v,a.metrics.vpad))}a.cardToColumn={},0===a.columns.length&&(l.boardHeight=0),n(!0)}}():setTimeout(r,50)}()}))},m.prototype.scheduleUpdateLayout=Object(o.c)((function(){var e=this;g.add((function(){var t=e.cardToEl.map((function(e){return{transcludeFn:e.transcludeFn,id:e.id}}));return e.updateLayout(t.length).then((function(n){if(n)return e.makeIncrementalDOMInsertionPromise(t,!0)}))}))}),100),m.prototype.getNextColumn=function(){var e=this.columns.map((function(e){return{index:e.index,height:e.getHeight(),length:e.cards.length}})),t=+l.tolerance||100;return e.slice(0,e.index+1),e.sort((function(e,n){var a=e.height-n.height;return Math.abs(a)>t?a:e.length-n.length||("rtl"===l.direction?n.index-e.index:e.index-n.index)})),0===e.length?null:this.columns[e[0].index]},m.prototype.getShortestColumn=function(){for(var e=this.columns[0],t=1e8,n=0;n<this.metrics.columnCount;n++){var a=this.columns[n].getHeight();a<t&&(t=a,e=this.columns[n])}return e},m.prototype.getHeight=function(){var e=0;return this.columns.forEach((function(t){var n=t.getHeight();e<n&&(e=n)})),e},m.prototype.removeCards=function(e){var t=this;e.map((function(e){var t=d("#card"+e);t&&t.parentNode.removeChild(t)})),g.add((function(){t.cardToEl=t.cardToEl.filter((function(t){return-1===e.indexOf(t.id)}));var n=t.cardToEl.map((function(e){return{transcludeFn:e.transcludeFn,id:e.id}}));return t.updateLayout(n.length,!0).then((function(){return t.makeIncrementalDOMInsertionPromise(n,!0)}))}))},m.prototype.addCardToDom=function(e,a,r){var o=this;return n((function(n){var s,c,d,u=o.getNextColumn();u&&(s=r||!l.animate?"cardBoard__card cardBoard__card--slideIn l-animFadeStart l-animFadeTransitions l-rnd"+u.index%3:"cardBoard__card cardBoard__card--slideIn l-animSlideStart l-animSlideTransitions l-rnd"+u.index%3,c=i.a.element('<div class="'+s+'" id="card'+a+"\" ng-style=\"{'margin-bottom':board.metrics.vpad + 'px'}\" ng-cloak></div>"),d=t(c)(l),e((function(e,t){t.cardWidth=l.cardWidth,t.$$destroyed?n():(d.append(e),setTimeout((function(){t.$$destroyed||(u.addCard(d,a),o.cardToColumn[a]=u,setTimeout((function(){d.removeClass("l-animFadeStart l-animSlideStart")}),10)),n()}),0))})))}))},m.prototype.makeIncrementalDOMInsertionPromise=function(e,t){var a=this;return e.map((function(e){return function(){return a.addCardToDom(e.transcludeFn,e.id,t)}})).reduce((function(e,t){return e.then(t)}),n.when(0))},m.prototype.addCards=function(e,t){var n=this;g.add((function(){e.map((function(e){return n.cardToEl.push(e)}));var a=n.cardToEl.map((function(e){return{transcludeFn:e.transcludeFn,id:e.id}}));return n.updateLayout(a.length).then((function(i){return i?(e.length<=n.metrics.maxCardsPerRow&&(t=!0),l.resized(!0),n.makeIncrementalDOMInsertionPromise(a,t)):n.makeIncrementalDOMInsertionPromise(e,t)}))}))},m.prototype.empty=function(){this.columns.forEach((function(e){return e.empty()}))},m.prototype.resized=function(){var e=h();0===e?setTimeout(_.resized,50):this.metrics&&e===this.metrics.availableWidth||_.scheduleUpdateLayout()};var b=function(e,t,n,a){this.index=e,this.class="j-cardboardColumn-"+v++,this.width=t,this.left=n,this.verticalGutter=a,this.cards=[],this.cachedEl=null};b.prototype.getEl=function(){return this.cachedEl||(this.cachedEl=d("."+this.class)),this.cachedEl},b.prototype.addCard=function(e,t){var n=this;this.cards.push({id:t});var a,r=this.getEl();r&&(u||p||(a=e[0].querySelectorAll("img"),Array.prototype.slice.call(a,0).forEach((function(e){var t=+e.getAttribute("ratio"),a=e.getAttribute("percent")/100,i=+e.getAttribute("sidepad");e.width=n.width*a-i,e.height=e.width/t}))),i.a.element(r).append(e))},b.prototype.removeCard=function(e,t){this.cards=this.cards.filter((function(e){return e.id!==t}));var n=d("#card"+t);n&&n.parentNode.removeChild(n)},b.prototype.getHeight=function(){var e=this.getEl();return e?e.clientHeight:0},b.prototype.empty=function(){return this.getEl().innerHTML=""};var _=new m;l.board=_;var y=0,k=f?0:4;function x(){l.resized(),a.heightChanged()}l.resized=function(t){var n=++y,a=t?0:k;!function t(){++a<20&&n===y&&setTimeout((function(){var n=_.getHeight();n!==l.boardHeight&&e((function(){return l.boardHeight=n}),0),t()}),50*a)}()},document.addEventListener("pageFocused",x),l.$on("$destroy",(function(){document.removeEventListener("pageFocused",x)}))},controller:["$scope",function(e){var t=[],n=[],a=null;function i(){a&&clearTimeout(a),a=setTimeout((function(){var i,r;i=t.filter((function(e){return-1===n.indexOf(e.id)})),r=n,t=[],n=[],e.board&&(0<r.length&&e.board.removeCards(r),0<i.length&&e.board.addCards(i)),a=null}),50)}this.addCard=function(e){var n;n=e,t.push(n),i()},this.removeCard=function(e,t){var a;a=t,n.push(a),i()}}]}}]).directive("card",(function(){return{require:"^cardBoard",transclude:!0,link:function(e,t,n,a,i){var r,o=e.$id;i((function(e,t){r=t})),a.addCard({transcludeFn:i,id:o}),t.on("$destroy",(function(){a.removeCard(t,o),r.$destroy(),r=null}))}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(11),o=n(4),s=n(1),l=n(12),c=n(13),d=n(16),u=n(9),p=n(41),f=n(17);i.a.module("tkfngViewer").directive("eventDetail",["$state","$stateParams","WatchHeight","EventFormatter","Styler","tkfNotify","StatusCodeHandler","CalendarSearch","SaveToCalendar","FullScreen","$timeout","RSVPPopup","SharePopup","NavHistory","$sce","$location","Viewer","PinboardState","AgendaState","MonthState","UpcomingState",function(e,t,a,v,g,h,m,b,_,w,y,k,x,S,C,T,E,A,M,B,P){return{template:n(196),restrict:"EA",scope:{},link:function(e,t,n){function a(){e.buildStyle()}e.mode=n.mode,e.CalendarSearch=b,(e.Viewer=E).showView(!0),document.addEventListener("restyle",a),e.$on("$destroy",(function(){document.removeEventListener("restyle",a),e.isDestroyed=!0}))},controller:["$scope",function(n){var C=!!s.Config.getHostProperty("args.demo");n.tagToKey=g.tagToKey,b.selectEvent(t),n.isTouchDevice=c.a.isMobile.any,n.btz=u.a.timezone,n.parentIsIFrame=s.Config.getHostProperty("inIFrame",!1),n.isWeeblyEditor=s.Config.getHostProperty("isWeeblyEditor",!1);var D=s.Config.getHostProperty("args.showNavBar");n.pageURL=T.absUrl(),n.viewState={showDirections:!1,showAttachmentMenu:!1};var L=0;function I(){if(n.event){if(!b.snapshot().settings)return;y((function(){var e=document.querySelectorAll(".eventDetail__what__description a");Array.prototype.slice.call(e,0).forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("href");l.a.trackOutboundClick(t)}))}))}),10)}}function O(e,t){return d.a.getOne({view:"detail",calname:e,id:[t.uid,"0",t.tid,t.rid].join("-"),showAll:"edit"===n.mode||C})}function F(){var t=b.snapshot(),i=t.calendar,r=t.eid,o=t.query;(r||o)&&(delete n.event,delete n.fe,h.spinner.open(),("query"===n.mode&&o?d.a.query(o).then((function(t){if(0<t.events.length)return t.events[0].eid;e.transitionTo("siteform.empty",{},{location:!1})})).then((function(t){if(t)return T.replace(),e.transitionTo("viewers.inter.repeatdetail",{calname:i.name,uid:t.uid,tid:t.tid,rid:t.rid},{location:!0,notify:!1}),O(i.name,t)})):O(i.name,r)).then((function(e){var t,r,o,s,c,d;e&&(h.spinner.close(),n.event=e.events[0],l.a.trackPage(n.event.content.summary.text),t=n.event.content.attachments.filter((function(e){return!e.startsWith("rsvp:")})),p.a.findByIds(t).then((function(e){n.attachedFiles=e})).catch((function(){})),n.ics=_.other(n.event,i),n.googleSaveUrl=_.google(n.event,i),r=n.calendar.effectiveFeatureLevel<=0,o=n.event.isExternal,n.viewerMode=r||o?"free.viewer":"subscription.viewer",s="visitor"===n.settings.showTimezone,n.fe=v.format(n.event,i,!0,s),c=n.fe,n.mapRef=function(){var e=c.where.location,t=c.where.address;return"https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(t)+(e&&e.place_id&&e.place_id.length<40?"&query_place_id="+encodeURIComponent(e.place_id):"")},I(),n.mailURL=("",d=0!==i.locale.indexOf("fr")?"Event: "+c.title+"\n\nWhen: "+c.fullWhen+"\n\nWhere: "+c.fullAddress+"\n\nFull details at: "+c.url:"Événement: "+c.title+"\n\nQuand: "+c.fullWhen+"\n\nLieu: "+c.fullAddress+"\n\nTous les détails à l’adresse: "+c.url,"mailto:?subject="+encodeURIComponent(c.title)+"&body="+encodeURIComponent(d)),a.heightChanged())})).catch((function(t){var a=t.status;h.spinner.close(),404===a&&("edit"!==n.mode?m.pageNotFound():e.transitionTo("edit.inter.editor404",{calname:b.calendar.name},{location:!1}))})))}n.closeAttachmentMenu=function(e){L=(new Date).getTime(),n.viewState.showAttachmentMenu=!1,Object(o.j)(e)},n.openAttachmentMenu=function(){50<(new Date).getTime()-L&&(n.viewState.showAttachmentMenu=!0)},n.buildStyle=function(){var e,t,a,i,o,s,l,c=r.a.getStyler("user"),d=b.snapshot().settings;d&&(n.asy=d.alwaysShowYear,n.showFullScreenLink=d.navbar.showFullScreen&&"embed"===d.kind&&(!E.fillsMostOfPage()||n.parentIsIFrame),n.useOverlay=!n.parentIsIFrame||n.isWeeblyEditor,n.showNavBar="boolean"==typeof D?D:d.navbar.show,n.ds=d.views.detail,e=!n.ds.hideImages,(n.showImages=e)||c.queueRule('img[data-tkf-mediatype="image"]',{display:"none"}),t=Object(f.isPrinting)()?800:E.getAvailableWidth(),y((function(){var e="embed"===E.settings.kind?60:0;n.switcherStyle=740+e<=t?"full":"dropdown"}),0),c.queueRule(".eventDetail__what__description h2",{"font-family":d.headerFont.family}),c.queueRule(".eventDetail__what__description h3",{"font-family":d.headerFont.family}),"none"===n.ds.imagePosition?c.queueRule(".eventDetail__what__image",{display:"none"}):(a="left"===n.ds.imagePosition?{float:"left","margin-right":"20px"}:{float:"right","margin-left":"20px"},c.queueMediaRule("@media (min-width : 415px) ",".eventDetail__what__image",a)),i=n.ds.textColor||d.textColor,o=n.ds.fontSize||Math.floor(1.2*d.fontSize),c.queueRule(".eventDetail__what__description",{color:i}),c.queueRule(".eventDetail__what__description.d-text, .eventDetail__where.d-where, .d-when.eventDetail__when",{"font-size":o+"px",color:i}),s=1.3*o/1.7,c.queueRule(".eventDetail__where.d-where .btn-xs",{"font-size":s+"px"}),l=n.ds.linkColor||d.linkColor,c.queueRule(".eventDetail__what__description a, .eventDetail__where a.l-vloc",{color:l}),c.queueRule(".eventDetail__where__directions",{"border-color":l}),I(),c.applyRules())},n.FullScreen=w,n.$watch("CalendarSearch.loaded",(function(t,a){var r,o,s;if("boolean"==typeof t&&t){var l=b.snapshot(),c=l.calendar,d=l.settings;if(!c)return;n.settings=d,n.calendar=c,o=(r=b.snapshot()).calendar,(s=r.settings)&&("edit"===n.mode?n.defaultBackUrl=e.href("edit.inter.agenda",{calname:o.name}):n.defaultBackUrl=e.href("viewers.inter.agenda",{calname:o.name}),n.showTimezone=function(e){var t=s.showTimezone;return"always"===t||"different"===t&&u.a.timezone===e},n.buildStyle()),F(),n.$watch("CalendarSearch.calendar",(function(t,a){b.loaded&&!i.a.equals(t,a)&&(n.calendar=t,"edit"===n.mode?n.defaultBackUrl=e.href("edit.inter.agenda",{calname:t.calendar.name}):n.defaultBackUrl=e.href("viewers.inter.agenda",{calname:t.calendar.name}),F())})),n.$watch("Viewer.settings",(function(e,t){b.loaded&&!i.a.equals(e,t)&&(n.settings=e,n.buildStyle())}),!0)}})),n.openCopyLinkPopup=function(){x.openCopyLink({url:n.fe.url})},n.openSaveToCalendarPopup=function(){var e,t=b.snapshot().calendar;t&&(e={google:_.google(n.event,t),yahoo:_.yahoo(n.event,t),live:_.live(n.event,t),ics:_.other(n.event,t)},x.openSaveToCalendar(e))},n.pinAny=function(){return PinUtils.pinAny()},n.rsvpURL=function(){var e=b.snapshot().calendar,t=n.event.eid;if(t)return k.getFillerURL(e._id,t)},n.openRSVPPopup=function(){var e=b.snapshot().calendar,t=n.event.eid;t&&k.openFiller({calid:e._id,rsvpStatus:n.event.rsvpStatus,rsvpLink:n.event.content.rsvpLink,eid:t,locale:e.locale})},n.goBack=function(t){var a,i="theme"===s.Config.getHostProperty("args.demo");S.hasBack()?(t.preventDefault(),i?S.popPath():window.chrome&&!b.onTockifySite&&window!==window.top&&window._tkf.hostInfo?E.goBack():window.history.back()):(a=E.getDefaultView(E.settings)||"pinboard","edit"===n.mode?e.go("edit.inter."+a):e.go("viewers.inter."+a))},n.tryGoBack=function(e){window.history&&2<window.history.length&&(e.preventDefault(),window.history.back())},n.filterByTag=function(t,n){n&&(n.preventDefault(),n.stopPropagation());var a,i=b.snapshot(),r=i.searchFilter,o=i.refTime;r&&(r.tags=t,a={tags:r.tags,startms:o.startms},delete A.eventData,delete M.eventData,delete B.eventData,delete P.eventData,e.go("^.",a,{reload:!0}))},n.hasBack=S.hasBack()}]}}])},function(e,t){e.exports='<div ng-include="\'app/viewers/directives/eventDetail/bs-detail-navbar.html\'"></div>\n\n<div class="eventDetail"\n     ng-class="{noselect:(settings.noCopy && mode !==\'edit\')}" ng-show="event"\n     ng-style="{direction:fe.direction}">\n  <div class="viewer__info viewer__info--detail clearfix">\n\n    <div class="u-pullRight d-headerText">\n      <a class="tockify__branding--incal d-title" href="/" href="/" ng-if="calendar.effectiveFeatureLevel <= 0"\n         target="_blank"><span\n          class="tockify__branding--incal__prefix" translate="calendarBy"></span>&nbsp;<span\n          class="tockify-logo ">Tockify</span></a>\n    </div>\n    <h1 class="d-headerText"><span ng-bind-html="event.content.summary.text"></span></h1>\n\n    <div class="eventDetail--editButtonTopSpace" ng-if=\'::mode==="edit"\'></div>\n    <div class="eventDetail--editButtons" ng-if=\'::mode==="edit"\'>\n      <div ng-if=\'event.kind==="mod"\'>\n        <a class="btn btn-siteform agendaItem__editButton"\n           ng-click="$event.stopPropagation()"\n           ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:event.eid.uid})">Edit Repeating Group</a\n        >&nbsp;<a class="btn btn-siteform agendaItem__editButton"\n                  ng-click="$event.stopPropagation()"\n                  ui-sref="edit.inter.modeditor({calname:calendar.name,uid:event.eid.uid,tid:event.eid.tid,rid:event.eid.rid})">Edit\n        Modified Event</a>\n      </div>\n      <div ng-if=\'event.kind==="rdate"\'>\n        <a class="btn btn-siteform agendaItem__editButton"\n           ng-click="$event.stopPropagation()"\n           ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:event.eid.uid})">Edit Repeating Group</a\n        >&nbsp;<a class="btn btn-siteform agendaItem__editButton"\n                  ng-click="$event.stopPropagation()"\n                  ui-sref="edit.inter.modeditor({calname:calendar.name,uid:event.eid.uid,tid:event.eid.tid,rid:event.eid.rid})">Edit\n        Extra Repeat</a>\n      </div>\n      <div ng-if=\'event.kind==="repeat"\'>\n        <a class="btn btn-siteform agendaItem__editButton"\n           ng-click="$event.stopPropagation()"\n           ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:event.eid.uid})">Edit Repeating Group</a\n        >&nbsp;<a class="agendaItem__editLink editor__link"\n                  ng-click="$event.stopPropagation()"\n                  ui-sref="edit.inter.modeditor({calname:calendar.name,uid:event.eid.uid,tid:event.eid.tid,rid:event.eid.rid})">Modify\n        only this event</a>\n      </div>\n      <span ng-if=\'event.kind==="singleton"\'>\n              <a class="btn btn-sm btn-siteform agendaItem__editButton"\n                 ng-click="$event.stopPropagation()"\n                 ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:event.eid.uid})">Edit Event</a>\n          </span>\n      <div class="detail__rsvpSection" ng-if="calendar.effectiveFeatureLevel > 0 && fe.hasRSVPs">\n        <a class="rsvp__rsvpIndicator l-full" ng-if="fe.attendeeCount > 0"\n\n           ui-sref="edit.inter.rsvpresponses({calname:calendar.name,uid:event.eid.uid,tid:event.eid.tid, rid:event.eid.rid})"\n        >RSVPs: {{fe.attendeeCount}}</a>\n\n        <a class="rsvp__rsvpIndicator l-empty" ng-if="fe.attendeeCount === 0"\n        >RSVPs: {{fe.attendeeCount}}</a>\n      </div>\n    </div>\n\n  </div>\n\n  <div class="d-when eventDetail__when" ng-class="{\'l-gone\':fe.gone}">\n    <span class="viewers__different-year-label" ng-if="(asy || !fe.startsThisYear) && !settings.startYearAtEnd">{{fe.startYear}}</span>\n    <span>{{fe.longStartDate}} {{fe.startTime}}</span>\n    <span ng-if="fe.hasEnd"> - {{fe.longEndDate}} {{fe.endTime}}</span>\n    <span ng-if="settings.showTimezone === \'always\' || (settings.showTimezone === \'different\' && fe.timezone !== btz)">({{fe.shortTimezone}})</span>\n    <span ng-if="settings.showTimezone === \'visitor\'">({{fe.visitorTimezone}})</span>\n    <span class="viewers__different-year-label" ng-if="(asy || !fe.startsThisYear) && settings.startYearAtEnd">{{fe.startYear}}</span>\n  </div>\n  <div>\n    <div class="status__detail status__hidden" ng-if="fe.hidden"\n         translate="Unpublished"></div>\n    <div class="status__detail status__cancelled" ng-if="fe.cancelled"\n         translate="cancelled"></div>\n    <div class="status__detail status__rescheduled" ng-if="fe.rescheduled"\n    >{{fe.rescheduledLabel | translate}} {{fe.rescheduledWhen}}\n    </div>\n    <div class="status__detail status__postponed" ng-if="fe.postponed"\n         translate="postponedTBA"></div>\n    <div class="status__detail status__movedOnline" ng-if="fe.movedOnline"\n         translate="movedOnline"></div>\n  </div>\n  <div class="eventDetail__tags" ng-if="ds.showTags">\n    <div class="eventTags eventTags--{{settings.tagStyle}} ">\n            <span class="eventTags__tag d-tag" ng-repeat="tag in fe.tags"><a\n                class="eventDetail__tag eventTagColor--{{tagToKey(tag)}}" href=""\n                ng-click="filterByTag(tag,$event)"><span\n                class="eventTags__text">{{tag}}</span></a></span>\n    </div>\n  </div>\n\n  <div class="d-text d-where eventDetail__where">\n    <span style="{{fe.status.name.endsWith(\'Online\') ? \'text-decoration:line-through\' : \'\'}}"\n          ng-if="fe.where.place">{{fe.where.place}}</span><span\n      ng-if="fe.where.place && fe.where.address">,&nbsp;</span><span\n      style="{{fe.status.name.endsWith(\'Online\') ? \'text-decoration:line-through\' : \'\'}}"\n      ng-if="fe.where.address">{{fe.where.address}}&nbsp;</span><a class="btn btn-default btn-xs"\n                                                                   ng-href="{{mapRef()}}"\n                                                                   ng-if="ds.showMapButton && fe.where.address"\n                                                                   target="_blank"\n                                                                   translate="map"></a><span\n      ng-if="fe.where.address || fe.where.place">&nbsp;</span><a\n      class="btn btn-default btn-xs" ng-click="viewState.showDirections = true"\n      ng-if="fe.where.directions && !viewState.showDirections" translate="directions"></a><a\n      class="btn btn-default btn-xs" ng-click="viewState.showDirections = false"\n      ng-if="fe.where.directions && viewState.showDirections" translate="hideDirections"></a>\n    <div class="eventDetail__where__directions" ng-if="fe.where.directions && viewState.showDirections">\n      {{fe.where.directions}}\n    </div>\n    <div ng-if="fe.virtualLocUrl" class="eventDetail__vloc">\n      <label>{{\'onlineLocation\' | translate }}:</label>&nbsp;\n      <span ng-if="fe.virtualLocRsvpOnly" translate="onlineDetailsRsvp"></span>\n      <span ng-if="!fe.virtualLocRsvpOnly"><a\n          class="l-vloc" ng-href="{{fe.virtualLocUrl}}" target="_blank">{{fe.virtualLocName}}</a>&nbsp;<a\n          class="btn btn-default btn-xs" ng-click="viewState.showVInfo = true"\n          ng-if="fe.virtualLocInfo && !viewState.showVInfo" translate="onlineInstructions"></a><a\n          class="btn btn-default btn-xs" ng-click="viewState.showVInfo = false"\n          ng-if="fe.virtualLocInfo && viewState.showVInfo" translate="hideOnlineInstructions"></a>\n      </span>\n    </div>\n    <div class="eventDetail__where__directions" ng-if="fe.virtualLocInfo && viewState.showVInfo">\n      {{fe.virtualLocInfo}}\n    </div>\n  </div>\n\n  <div class="eventDetail__what">\n\n    <div class="eventDetail__what__image"\n         ng-if="!ds.hideImages && fe.hasImage && (viewerMode == \'free.viewer\' || !fe.event.content.version)">\n      <div class="eventDetail__what__image__wrap" ng-if="settings.showImages">\n        <img alt="{{fe.imageAlt}}"\n             class="eventDetail__what__image__img  l-is-free"\n             src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="\n             tk-src="{{ fe.getBestScaledUrl(256) }}">\n      </div>\n    </div>\n    <div class="d-text eventDetail__what__description" ng-bind-html="fe.safeDesc"></div>\n  </div>\n\n</div>\n\n'},function(e,t,n){"use strict";n.r(t);var a=n(1).Config.get("fileCdnRoots");angular.module("tkfngViewer").directive("attachmentFailover",(function(){return{restrict:"A",link:function(e,t,n){var i=a?a[0]:"//s3.amazonaws.com/tkf.files",r=a&&1<a.length?a[1]:null,o=n.attachmentFailover,s=i+"/"+o;r?t.bind("mouseenter",(function(){t.attr("href")||function(e,t){var n=1<arguments.length&&void 0!==t?t:{},a=n&&Number(n.timeout)||5e3;return new Promise((function(t,i){var r=setTimeout((function(){return i(new TypeError("timed out"))}),a);fetch(e,n).then((function(){clearTimeout(r),t()}),i)}))}(s,{method:"HEAD"}).then((function(e){t.attr("href",s)})).catch((function(e){var n=r+"/"+o;t.attr("href",n)}))})):t.attr("href",s)}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(19);i.a.module("tkfngViewer").directive("imageFailover",(function(){return{restrict:"A",compile:function(){return function(e,t){var n;(n=t).bind("error",(function(){var e=n.attr("src"),t=r.a.failOver(e);t&&(n.attr("src",t),n.bind("load",(function(){n.unbind("load"),r.a.failOk(t)})))}))}}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(19);i.a.module("tkfngViewer").directive("tkSrc",(function(){function e(e,t,n){var a=new Image;a.src=n.tkSrc,t[0].style.display="none",a.onload=function(){a.onload=null,t[0].src!==a.src&&(t[0].src=a.src,r.a.failOk(a.src)),t[0].style.display=""},a.onerror=function(){var e=r.a.failOver(a.src);e&&(a.src=e)}}return{restrict:"A",compile:function(){return function(t,n,a){return e(0,i=n,r=a),void r.$observe("tkSrc",(function(){return e(0,i,r)}));var i,r}}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(13),o=n(3),s=n(33);i.a.module("tkfngViewer").service("MonthViewStyler",(function(){var e,t,n=this;this.linkToBackground=function(e){return o.e.mix(e,n.gridBackground,.08).css()},this.linkToBorder=function(e){var t=s(n.gridBackground).desaturate(2).css();return o.e.mix(e,t,.6).css()},this.defaultStripBackground=function(){return n.linkToBackground(n.linkColor)},this.defaultStripBorder=function(){return n.linkToBorder(n.linkColor)},this.defaultGridColor=function(){return o.e.mix(e.textColor,n.gridBackground,.15).css()},this.opaqueBackground=function(){return s(n.gridBackground).alpha(255).css()},this.previewBorderColor=function(){return n.linkToBorder(n.previewLinkColor)},this.defaultEventFontSize=function(){return Math.floor(e.fontSize)},this.stripColors=function(e){var t=e.color,a=e.background,i=e.borderColor;return{color:t,background:a=a||n.linkToBackground(t),borderColor:i=i||n.linkToBorder(t)}},this.changeSettings=function(a){t=(e=a).views.monthly,n.linkColor=t.stripColor||e.linkColor,n.previewLinkColor=t.previewLinkColor||e.linkColor,n.gridBackground=t.gridBackground||e.background,n.stripBackground=t.stripBackground||n.defaultStripBackground(),n.stripBorderColor=t.stripBorderColor||n.defaultStripBorder(),n.gridColor=t.gridColor||n.defaultGridColor(),n.defaultStripColors={color:n.linkColor,background:n.stripBackground,borderColor:n.stripBorderColor},n.fadeBackground=o.e.mix(n.gridColor,n.gridBackground,.2).css();var i=t.eventFontSize||n.defaultEventFontSize();n.eventFontSize=r.a.phone?12:i,n.monthTitleSize=Math.floor(2.3*n.eventFontSize),n.lineHeight=Math.floor(1.5*n.eventFontSize),n.monthFontLarge=Math.floor(1.2*n.eventFontSize),n.barHeight=Math.floor(1.8*i),n.footerFontSize=Math.floor(.7*i),n.footerHeight=Math.floor(1.8*n.footerFontSize)}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(4),s=n(11),l=n(1),c=n(12),d=n(13),u=n(16),p=n(20),f=n(9),v=n(3),g=n(17);function h(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)),a}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(22);i.a.module("tkfngViewer").service("MonthState",(function(){})).directive("monthView",["EventFormatter","Styler","RouteHelpers","MonthState","CrossDomainWrapper","NavHistory","CalendarSearch","WatchHeight","Viewer","tkfNotify","$location","$stateParams","$timeout","$state","FullScreen","$q","MonthViewStyler","ICSSubscribe","$filter",function(e,t,a,_,w,y,k,x,S,C,T,E,A,M,B,P,D,L,I){return{template:n(202),restrict:"EA",link:function(n,a,E){function M(){}var L=!1;document.addEventListener("fontsloaded",M),document.addEventListener("restyle",ne),n.$on("$destroy",(function(){document.removeEventListener("fontsloaded",M),document.removeEventListener("restyle",ne),n.isDestroyed=!0}));var O,F,z=!!l.Config.getHostProperty("args.demo"),V=l.Config.getHostProperty("inIFrame",!1),R=f.a.fixTZ,$=f.a.userTimezone,j={},N=5,U="YYYY MM DD",H=function(e,t){var n=e.format(U);return b.tz(n,U,t)};n.CalendarSearch=k,(n.Viewer=S).showView(!0),n.mode=E.mode,n.isEditor="edit"===n.mode,n.initialized=!1;var W,q=function(){n.grid.clearStrips(),J(n.eventData.events)};var Y=function(e){if(!n.isDestroyed){n.isEditor&&(e=!1),X=O=0;var t=function(){for(var e=n.CalendarSearch.calendar,t=b.tz(k.refTime.startms,e.tzid),a=e.getWkStart(),i=b.tz({year:t.year(),month:t.month(),date:1,hour:3},n.CalendarSearch.calendar.tzid),r=(i.day()-a+7)%7,o=b(i).subtract(r,"days"),s=b(o);s.add(1,"week"),i.month()===s.month(););var l=i.year()+":"+i.month()+":"+a,c=n.settings.views.monthly.domPattern,d=n.availableWidth<600?"ddd":"dddd",u=e.weekDayOrder().map((function(e){return b().weekday(e).format(d)})),p=s.diff(o,"days"),f=!1,v=[];return{id:l,monthString:I("date")(i.toDate(),"LLLL"),yearString:i.format("YYYY"),dayNames:u,dayCount:p,weeks:v,query:{passback:l,startms:b(o).startOf("day").add(-1,"days").valueOf(),"start-inclusive":!0,"end-inclusive":!0,endms:b(s).startOf("day").add(1,"days").valueOf()},forStrips:function(e){v.forEach((function(t){t.forEach((function(t){t.strips.forEach((function(t){return e(t)}))}))}))},forStripsInWeek:function(e,t){v[t].forEach((function(t){t.strips.forEach((function(t){return e(t)}))}))},loadWeeks:function(){if(!f){f=!0;for(var e=b(o),t=0;v.push(function(){for(var a=[],r=0;r<7;r++){var o=[];e.month()===i.month()?o.push("is-thisMonth"):o.push("is-otherMonth"),e.isSame(n.nowMoment,"day")&&o.push("is-today");var s=o.join(" "),l=b(e).format(c);a.push({gridIndex:7*t+r,dayInWeek:r,formattedDate:l,open:!1,strips:[],stripCount:0,cssClasses:s}),e.add(1,"days")}return a.showAll=!0,a}()),t++,e.month()===i.month(););}},getIndex:function(e){return b(e).tz(k.calendar.tzid).hours(3).minutes(0).seconds(0).milliseconds(0).diff(o,"days")},getDay:function(e,t){return v[e][t]},getWeekCount:function(){return p/7},clearStrips:function(){v.forEach((function(e){e.forEach((function(e){e.strips=[]}))}))}}}();W=t.id;var a=n.CalendarSearch.calendar;a&&c.a.trackPage(a.displayName);var i=Object.assign({view:"monthly",calname:a.name,max:-1,showAll:"edit"===n.mode||z},k.searchFilter,t.query);if(n.searchAgenda=function(){var e=T.path();T.path(e.replace("/monthly","/agenda"))},e){var r=_;if(r&&r.eventData)return s(r.eventData),delete r.eventData,void function(){var e,t,a,i=y.previousStateParams();i.tid&&i.uid?(e=i.rid||0,t="eid_"+i.uid+"_"+i.tid+"_"+e,a=0,function e(){if(!n.isDestroyed){if(null!==document.querySelector("#"+t)){if(B.isEmbedded)return w.embedScrollTop(S.scrollPos),S.scrollPos=0,void S.showView(!0);p.a.windowScrollY(S.scrollPos)}var i=p.a.windowScrollY();if(a<20&&(B.isEmbedded||i!==S.scrollPos))a++,setTimeout(e,100);else{if(S.scrollPos=0,n.isDestroyed)return;setTimeout((function(){return S.showView(!0)}),0)}}}()):(S.scrollPos=0,S.showView(!0))}()}C.spinner.open();var o=i.search?1:0;u.a.queryAndSave(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"max-events-after":o},i),!0).then((function(e){C.spinner.close(),e.passback!==W&&"boot"!==e.passback||s(e)})).catch((function(){C.spinner.close()})),t.loadWeeks()}function s(e){var a;i.search&&i.endms&&(0===(a=e.events).length?e.searchMore=-1:a[0].when.start.millis>i.endms&&(e.events=[],e.searchMore=a[0].when.start.millis)),n.eventData=e,t.loadWeeks(),n.grid=t,J(e.events)}};function G(e,t,n){n=n||t+1;for(var a=null,i=t;i<n;i++)a=Q(e,i)||a;if(a){var r="."+a;return Object(o.k)(P,r,10,2e3).then((function(){return se(t,n)}))}return se(t,n),P.resolve(!0)}function K(e){return n.ms.compact?e.fe.startTime:e.fe.minWhen}function Q(e,t){var a=7*t,r=6+a,o=!1;return e.filter((function(e){return e.from<=r&&e.to>=a})).forEach((function(e){var s=Math.max(a,e.from),l=Math.min(e.to,r),c=e.clippedStart||e.from<a,d=e.clippedEnd||e.to>r,u=i.a.copy(e);u.from=s%7,u.to=l%7,u.clippedStart=c,u.clippedEnd=d,u.dtFormat=K(u);var p=[];u.eid="eid_"+e.eid;var f=e.eid+"_"+ ++O;o="esid-"+f,p.push("esid-"+f),c||p.push("is-atStart"),d||p.push("is-atEnd"),c&&p.push("is-clippedStart"),d&&p.push("is-clippedEnd"),e.oneDay&&p.push("is-oneDay"),e.allDay&&p.push("is-allDay"),e.calGroup&&p.push(e.calGroup),e.fe.colorTag&&p.push("l-colorTag--"+e.fe.colorTag);var v=p.join(" ");u.cssClasses=v,u.esid=f,n.grid.getDay(t,u.from).strips.push(u)})),X=t+1,o}var X=0;function J(t){if(!n.isDestroyed){var a,i,r,o,l=(a=t,i=n.grid,r=k.calendar,o=r.tzid,l=a.map((function(t){var a,s,l=t.when,c=l.end,d=l.start,u=b.tz(d.millis,R(d.tzid));l.allDay&&ge(u),c?(s=b.tz(c.millis,R(d.tzid)),l.allDay?(ge(s),ge(a=s.subtract(1,"days"))):a=s):a=b.tz(d.millis,R(d.tzid));var p=u,f=a,v=$();l.allDay&&l.start.tzid!==o?(p=H(u,o),f=H(a,o)):!l.allDay&&L&&o!==v&&(p=H(b(u).tz(v),o),f=H(b(a).tz(v),o));var g=i.getIndex(p),h=i.getIndex(f),m=f.hour(),_=f.minute();!t.when.allDay&&0<h-g&&60*m+_<301&&--h;var w=!1,y=!1,k=h===g;h>i.dayCount&&(h=i.dayCount,y=!0),g<0&&(w=!(g=0));var x=t.eid,S=x.uid,C=x.tid,T=x.rid,E=void 0===T?0:T,A=j[S];A||(A="cal-group-"+(N=(N+1)%6),j[S]=A);var M=S+"_"+C+"_"+E,B=t.when.allDay,P=e.format(t,r,!1,L);return{eid:M,rid:E,allDay:B,from:g,to:h,oneDay:k,event:t,sref:n.detailSRef(t.eid),clippedStart:w,clippedEnd:y,calGroup:A,fe:P,gone:P.gone}})).filter((function(e){return e.from<i.dayCount&&0<=e.to}))).sort(re),c=n.grid.getWeekCount();F=s.a.getStyler("mv2ggs",!0),ie();var d=P.resolve(!0);if(l.length<60)d=G(l,0,c);else for(var u=function(e){d=d.then((function(){return G(l,e)}))},p=0;p<c;p++)u(p);d.then((function(){F.addRule(".monthView__strip,.monthView__week",{visibility:"visible"},0)}))}}var Z=!1,ee=Object(o.c)(ne,50),te=function(){return Z=!0,ee()};function ne(){n.isDestroyed||(Z=!1,n.grid&&(F=s.a.getStyler("mv2ggs",!0),n.grid.forStrips((function(e){e.dtFormat=K(e)})),ie(),se(0,X),x.heightChanged()))}n.toggleOpen=function(e){e.open=!e.open,te()};var ae={};function ie(){function e(e,t){var n=Object(v.g)(e,t).properties;a(e,n)}var a=F.queueRule,o=k.snapshot().settings;if(o){var s=o.views.monthly;n.asy=o.alwaysShowYear;var l,c=s.eventFont||o.textFont,u=s.gridFont||o.textFont;e(".monthView__eventFont",c),e(".monthView__gridFont",u),l=Object(g.isPrinting)()?799:S.getAvailableWidth(),0<(n.availableWidth=l)&&l<400&&(V?(n.linkTarget="_blank",n.openLinksAsPopup=!0):!d.a.isMobile.phone&&B.isEmbedded&&(n.openLinksAsPopup=!0)),"fullscreen"===o.openDetails&&!n.isEditor&&B.isEmbedded&&(n.openLinksAsPopup=!0),D.changeSettings(o),n.dayHeaderFormat=s.domPattern;var p=D.linkColor,f=D.stripBackground,h=D.stripBorderColor,m=D.previewLinkColor,b=D.gridColor,_=D.monthFontLarge,w=D.eventFontSize,y=D.barHeight,C=D.footerHeight,T=D.footerFontSize,E=D.opaqueBackground(),A=D.previewBorderColor(),M=y,P="minimal"===s.gridStyle?s.gutter:0,L=(l-12*P)%7,I=l,O=Math.floor((I-12*P)/7);ae.dayWidth=O;var z=[0,1,2,3,4,5,6].map((function(e){return function(e,t){switch(e){case 3:return t%2==1;case 2:case 4:return 1<t;case 1:case 5:return 3<t;case 0:case 6:return 5<t}return!1}(e,L)?1:0})),R=function(e){return z[e]},$={width:I+"px","margin-left":"0px","margin-right":"0px","border-width":"0"};s.gridTextColor&&($.color=s.gridTextColor),s.gridBackground&&($.background=s.gridBackground),a(".monthView",$),a(".viewer__info--month.d-headerText",{"font-size":D.monthTitleSize+"px"}),a(".monthView__dayHeader",{height:M+"px","line-height":M+"px","font-size":_+"px","text-align":"right"}),a(".monthView__dayFooter",{"font-size":T,height:C+"px","line-height":C+"px"}),a(".monthView__dayBar",{"font-size":_+"px"});for(var j=1;j<=5;j++)a(".monthView__dayBar__day.l-dayno-"+j,{width:O+R(j)+"px",margin:"0 "+P+"px","border-width":"0","border-style":"solid"});a(".monthView__dayBar__day:first-child",{width:O+R(0)+"px",margin:"0 "+P+"px 0 0","border-width":"0","border-style":"solid"}),a(".monthView__dayBar__day:last-child",{width:O+R(6)+"px",margin:"0 0 0 "+P+"px","border-width":"0","border-style":"solid"});for(var N=1;N<=5;N++)a(".monthView__dayWrap.l-dayno-"+N,{width:O+R(N)+2*P+"px",padding:"0 "+P+"px"});a(".monthView__dayWrap:first-child",{width:O+R(0)+P+"px",padding:"0 "+P+"px 0 0"}),a(".monthView__dayWrap:last-child",{width:O+R(6)+P+"px",padding:"0 0 0 "+P+"px"});var U={"border-style":"solid","border-color":b,"border-width":"0"};switch(s.gridStyle){case"minimal":U["border-top-width"]="2px";break;case"full":U["border-top-width"]="1px",U["border-left-width"]="1px"}a(".monthView__dayCell",U),s.otherMonthColor&&"minimal"===s.gridStyle&&a(".monthView__dayWrap.is-otherMonth .monthView__dayCell",{"border-color":s.otherMonthColor}),s.otherMonthBackground&&a(".monthView__dayWrap.is-otherMonth",{background:s.otherMonthBackground}),"full"===s.gridStyle&&(a(".monthView__week:last-child .monthView__dayWrap .monthView__dayCell",{"border-bottom-width":"1px"}),a(".monthView__week .monthView__dayWrap:last-child .monthView__dayCell",{"border-right-width":"1px"}));var H=s.todayColor||p,W={"border-top-width":"4px","border-top-color":H};s.todayBackground&&(W.background=s.todayBackground),a(".monthView__dayWrap.is-today .monthView__dayCell",W),a(".monthView__dayWrap.is-today .monthView__dayHeader",{"margin-top":"-2px",color:H}),s.otherMonthColor&&a(".monthView__dayWrap.is-otherMonth .monthView__dayHeader",{color:s.otherMonthColor});var q={"border-style":"solid","border-color":h,background:f,"font-size":(O<140?Math.ceil(.9*w):w)+"px"};switch(s.compact&&(q["white-space"]="nowrap"),s.stripOutline){case"none":q["border-width"]="0px";break;case"minimal":q["border-top-width"]="0px",q["border-left-width"]="0px",q["border-right-width"]="0px",q["border-bottom-width"]="1px";break;case"full":q["border-width"]="1px"}a(".monthView__strip",q),a(Object(v.f)(v.c,".d-title.monthView__strip"),{color:p});var Y=".monthView__strip.is-oneDay";s.singleDayAsText&&(a(Y,{background:"transparent","border-width":"0px"}),a(Y+" .l-oneday::after",{content:s.singleDayPrefix||"",float:"left","padding-right":"0.2em"}),a(Y+" .monthView__strip__title",{padding:"0"})),a(Y+" .status__monthly",{width:"100%"}),200==+s.stripEndRadius&&(s.stripEndRadius=12),a(".monthView__strip.is-atStart",{"border-top-left-radius":s.stripEndRadius+"px","border-bottom-left-radius":s.stripEndRadius+"px"}),a(".monthView__strip.is-atEnd",{"border-top-right-radius":s.stripEndRadius+"px","border-bottom-right-radius":s.stripEndRadius+"px"}),a(".monthView__strip.is-clippedStart",{"border-left-width":"0px"}),a(".monthView__strip.is-clippedEnd",{"border-right-width":"0px"}),a(".monthView__preview",{"border-color":A,"background-color":E}),a(Object(v.f)(".monthView__preview__summary__title ",v.c),{color:m}),a(".monthView__preview__summary__when",{"border-bottom-color":b});var G=o.tagcolors||{},K=s.tagcolors||{},Q=r.a.map(G,(function(e,t){return t})),X=r.a.map(K,(function(e,t){return t})),J=r.a.uniq(Q.concat(X));r.a.each(G,(function(e,n){var i=t.toSafeTag(n),r=e,s=r,l=K[n];l&&(s=l.color);var c=D.linkToBorder(s);a(".monthPreview__tags .eventTags__tag.eventTags__tag--"+i,{color:r}),a(".monthView__preview.monthView__preview--"+i,{"border-color":c}),o.linkTagColors&&a(Object(v.f)(".monthView__preview__summary__title.monthView__preview__summary__title--"+i+" ",v.c),{color:r})})),J.forEach((function(e){var n=e,r=i.a.copy(K[e]||{});r.color||(r.color=G[e]);var o=D.stripColors(r),l=o.color,c={"border-color":o.borderColor,background:o.background},d=t.toSafeTag(n);a(".monthView__strip.l-colorTag--"+d,c),s.singleDayAsText&&a(Y+".l-colorTag--"+d,{background:"transparent","border-width":"0px"}),a(Object(v.f)(v.c,".d-title.monthView__strip.l-colorTag--"+d),{color:l})})),ae.excessBetween=function(e,t){for(var n=0,a=e;a<t;a++)n+=R(a);return n};var Z="embed"===S.settings.kind?60:0;n.showSecondarySubmit=l<590+Z&&400+Z<=l,F.applyRules(),x.heightChanged()}}var re=function(e,t){var n=e.event.sorter,a=t.event.sorter;if(a<n)return 1;if(n<a)return-1;var i=e.event.content.summary.text,r=t.event.content.summary.text;return r<i?1:i<r?-1:0};function oe(e){var t,a=".monthView__strip.esid-"+e.esid,i=function(e){var t=n.ms,a="full"===t.gridStyle,i=t.gutter,r="minimal"===t.gridStyle?t.gutter:0,o=ae.dayWidth,s=a?1:0,l=e.clippedStart||!a?0:i,c=e.clippedEnd||!a?0:i,d=e.from,u=d*r*2,p=a&&6===e.from?1:0,f=e.clippedStart&&0===e.from?s:0,v=l+d*o+ae.excessBetween(0,e.from)+u+s-f,g=(e.to-e.from)*r*2,h=l+c+s+p,m=(e.to-e.from+1)*o+f+ae.excessBetween(e.from,e.to+1)+g-h,b=(e.dtFormat.length+e.event.content.summary.text.length)*D.eventFontSize*.75;return{left:v,width:m,timeOnSameLine:t.compact||e.to!==e.from&&b<m}}(e);if(F.queueRule(a,{left:i.left+"px",width:i.width+"px"}),"before"===n.ms.stripTime)t=!0;else{if("after"!==n.ms.stripTime)return;t=!1}var r=i.timeOnSameLine?"inline":"block";n.settings.hideDate&&(r="none");var o=i.timeOnSameLine?"0.5em":"0",s=i.timeOnSameLine?"0":"0.2em",l=t?o:"0",c=t?"0":o,d=t?s:"0",u=t?"0":s;F.queueRule(a+" .monthView__strip__time",{display:r,padding:u+" "+l+" "+d+" "+c})}function se(e,t){t=t||e+1;for(var a=e;a<t;a++)n.grid.forStripsInWeek(oe,a);F.applyRules();for(var i=e;i<t;i++)le(i)}function le(e){var t=!1,a=F.queueRule;if(!Z){var i=D.barHeight,r=n.grid.weeks[e].open,o=n.ms.visibleStrips,s=!r&&o;ve.reset(s);for(var l=function(s){var l=n.grid.getDay(e,s);l.strips.forEach((function(e){var n,s,c,d,u,p=!1,f=".esid-"+e.esid,v=document.querySelector(f);if(Z)return!1;v&&(n=v.offsetHeight,s=v.clientWidth,c=v.offsetLeft,(d=ve.placeHighestAvailable(c,s,n))?(u=i+d.y,a(f,{visibility:"visible",top:u+"px",left:d.x+"px"},0)):(p=!0,a(f,{display:"none"}))),l.showHide=r&&o&&ve.getMax()>o||p,t=r&&o&&ve.getMax()>o||t||p}))},c=0;c<7;c++)l(c);if(!Z){var d=ve.getHeightUsed(),u=n.ms.gutter,p=n.ms.gutter,f=u+i+d;return f+=t?D.footerHeight:p,a(".monthView__week-"+e,{visibility:"visible",height:f+"px"},0),!Z&&(a(".monthView__dayBar",{visibility:"visible"},0),F.applyRules(),1)}}}var ce,de,ue,pe,fe,ve=(de=[],ue=0,{placeHighestAvailable:function(e,t,a){var i,r,o,s=n.ms.gutter,l=(i=a+s,r=function(e,t){var n,a,i=(n=e,a=t,de.filter((function(e){var t=n+a,i=e.x,r=e.x+e.w;return i<t&&n<r||n===i})).sort((function(e,t){return e.y-t.y}))),r=[],o=0;return i.length>=ce||(i.forEach((function(e){e.y>o&&r.push({y:o,h:e.y-o}),o=e.y+e.h})),r.push({y:o})),r}(e,t),(o=r.find((function(e){return void 0===e.h||e.h>=i})))&&(ue=Math.max(ue,r.length+1)),o);if(!l)return!1;var c={x:e,y:0===l.y?s:l.y,w:t,h:a+s};return de.push(c),c},getHeightUsed:function(){var e=de.map((function(e){return e.y+e.h}));return e.push(0),Math.max.apply(null,e)},reset:function(e){de=[],ue=0,ce="number"==typeof e?e:void 0},getMax:function(){return ue}});function ge(e){return e.hour()<12?e.startOf("day"):e.endOf("day").add(61,"minute").startOf("day")}n.preview={},n.showPreview=function(e,t){fe&&(A.cancel(fe),fe=null),pe||(delete n.preview.event,delete n.preview.fe,(pe=A((function(){}),400)).then((function(){var a,i,r,o=document.querySelector(".monthView__preview");o&&(o.style.visibility="hidden",i=(a=document.querySelector(".monthView")).getBoundingClientRect(),r={left:t.clientX-i.left,top:t.clientY-i.top},n.preview={event:e.event,fe:e.fe},A((function(){var e=o.offsetWidth,i=o.clientHeight+4,s=t.pageY+0-p.a.windowScrollY()>i;n.preview.top=s?r.top-(i+0):r.top,a.clientWidth-r.left<e/2?n.preview.left=a.clientWidth-e:n.preview.left=e/2<r.left?r.left-e/2:0,o.style.visibility="visible"}),1))})).catch((function(){})))},n.continuePreview=function(){fe&&(A.cancel(fe),fe=null)},n.hidePreview=function(){pe&&(A.cancel(pe),pe=null),fe&&A.cancel(fe),fe=A((function(){delete n.preview.event,delete n.preview.fe}),200)},n.$watch("CalendarSearch.loaded",(function(e,t){"boolean"!=typeof e||n.initialized&&e===t||!e||function(){n.initialized=!0,O=0;var e,t=k.snapshot(),a=t.calendar,r=t.settings;r&&(n.settings=r,n.ms=r.views.monthly,n.calendar=a,n.direction=k.direction,L="visitor"===r.showTimezone,Y(!0),e=function(e,t){var a=k.loaded&&!i.a.equals(e,t);n.calendar=k.calendar,a&&Y()},n.$watch("CalendarSearch.calendar",e),n.$watch("CalendarSearch.searchFilter",e,!0),n.$watch("CalendarSearch.refTime",e,!0),n.$watch("Viewer.settings",(function(e,t){var a,r,o;k.loaded&&!i.a.equals(e,t)&&(a=t.views.monthly,r=e.views.monthly,o=L!==(L="visitor"===e.showTimezone)||r.compact!==a.compact||t.showTimezone!==e.showTimezone,n.settings=e,n.ms=r,(o?q:te)())}),!0))}()}))},scope:{},controller:["$scope",function(e){e.tagToKey=t.tagToKey,e.stdLinkBehaviourOnly=k.onTockifySite,e.openSubscribeToCalendar=function(e){e&&e.preventDefault(),L.openSubscribeToCalendar()},e.submitEvent=function(t){t&&t.preventDefault(),window.open(e.CalendarSearch.calendar.submitURL,"_blank")},e.btz=f.a.timezone,e.detailSRef=a.detailSRef,e.saveState=function(){_.eventData=i.a.copy(e.eventData)},e.clickedEventLink=function(t,n){if(t&&(t.stopPropagation(),t.preventDefault()),e.saveState(),B.isEmbedded?(w.requestEmbedScrollTop(),S.embedHeight=x.getHeight()):S.scrollPos=p.a.windowScrollY(),n){if(e.openLinksAsPopup&&t.preventDefault(),!e.stdLinkBehaviourOnly&&n.noDetail){t.preventDefault();var i=e.settings.ctaButton.target||"_top";return void window.open(n.customButtonLink,i)}var r,o=a.toDetailStateArgs(n.event.eid),s=o.route,l=o.params;e.openLinksAsPopup?(r=M.href(s,l),B.openPath(r)):M.go(s,l)}}}]}}]).service("MonthViewLayout",(function(){}))},function(e,t){e.exports='<div class="viewer__info viewer__info--month d-headerText clearfix " ng-class="{\'u-rtl\':direction===\'rtl\'}">\n\n  <div class="u-pullRight">\n    <a class="viewer__secondarySubscribe ad-text" href=""\n       ng-click="openSubscribeToCalendar($event)"\n       ng-if="settings.showSubscribeToCalendar &&  calendar.effectiveFeatureLevel > 0 && !settings.navbar.subscribeAsButton"\n       translate="subscribe">\n    </a>\n    <button class="btn btn-cta viewer__secondarySubscribe" ng-click="openSubscribeToCalendar($event)"\n            ng-if="settings.showSubscribeToCalendar &&  calendar.effectiveFeatureLevel > 0 && settings.navbar.subscribeAsButton"\n            translate="subscribe">\n    </button>\n    <button class="btn btn-cta navbar-btn viewer__secondarySubmit" ng-click="submitEvent($event)"\n            ng-if="calendar.effectiveFeatureLevel > 0 && calendar.showSubmitEvent"\n            translate="submitEvent">\n    </button>\n    <a class="tockify__branding--incal d-title" href="/" ng-if="calendar.effectiveFeatureLevel <= 0"><span\n        class="tockify__branding--incal__prefix" translate="calendarBy"></span>&nbsp;<span\n        class="tockify-logo ">Tockify</span></a>\n  </div>\n\n  <span>{{grid.monthString}}</span> <span class="d-textColor">{{grid.yearString}}</span>\n</div>\n\n<div ng-if="eventData.searchMore === -1">\n  <div class="listStatus d-listStatusText listStatus--noEvents" translate="noEventsFound"></div>\n</div>\n<div ng-if="eventData.searchMore > 0">\n  <div class="listStatus d-listStatusText listStatus--noEvents">\n    <div translate="noEventsInThisMonth"></div>\n    <a class="btn btn-lg btn-default listStatus--searchAgenda" href="" ng-click="searchAgenda()"\n       translate="searchAgenda"></a>\n  </div>\n</div>\n\n<div class="monthView monthView__gridFont" ng-if="initialized && !eventData.searchMore">\n  \x3c!-- hover preview --\x3e\n  <div class="monthView__preview monthView__preview--{{preview.fe.colorTag}}"\n       ng-attr-style="top:{{preview.top}}px;left:{{preview.left}}px"\n       ng-class="{noselect:(settings.noCopy && mode !==\'edit\')}"\n       ng-click="clickedEventLink($event,preview.fe)"\n       ng-mouseenter="continuePreview()"\n       ng-mouseleave="hidePreview()"\n       ng-show="preview.event">\n    <div class="monthView__preview__imgWrap" ng-if="preview.fe.hasImage && settings.showImages">\n      <img alt="{{preview.fe.imageAlt}}"\n           class="monthView__preview__img"\n           src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="\n           tk-src="{{preview.fe.imageURL}}"\n      >\n    </div>\n\n    <div class="monthView__preview__summary">\n      <div class="d-when monthView__preview__summary__when" ng-class="{\'l-gone\':preview.fe.gone}">\n        <span class="viewers__different-year-label"\n              ng-if="(asy ||!preview.fe.startsThisYear) && !settings.startYearAtEnd">{{preview.fe.startYear}}</span>\n        <span>{{preview.fe.longStartDate}}</span> <span> {{preview.fe.startTime}}</span>\n\n        <span ng-if="preview.fe.hasEnd"> - {{preview.fe.longEndDate}} {{preview.fe.endTime}}</span>\n        <span\n            ng-if="settings.showTimezone === \'always\' || (settings.showTimezone === \'different\' && preview.fe.timezone !== btz)">({{preview.fe.shortTimezone}})</span>\n        <span ng-if="settings.showTimezone === \'visitor\'">({{preview.fe.visitorTimezone}})</span>\n        <span class="viewers__different-year-label"\n              ng-if="(asy ||!preview.fe.startsThisYear) && settings.startYearAtEnd">{{preview.fe.startYear}}</span>\n      </div>\n      <div\n          class="d-titleText monthView__preview__summary__title monthView__preview__summary__title--{{preview.fe.colorTag}}">\n\n        <a ng-attr-target="{{::linkTarget}}" ng-bind-html="preview.fe.title"\n           ng-click="clickedEventLink($event,preview.fe)"\n           ng-if="preview.event"\n           ui-sref="{{::detailSRef(preview.event.eid)}}"></a>\n      </div>\n      <div ng-bind="preview.fe.preview"></div>\n      <div class="eventTags eventTags--minimal monthPreview__tags">\n                        <span class="l-tag-span eventTags__tag eventTags__tag--{{tagToKey(tag)}} d-tag "\n                              ng-repeat="tag in preview.fe.tags"><span\n                            class="eventTags__text">{{tag}}</span></span>\n      </div>\n    </div>\n\n  </div>\n\n  \x3c!-- day bar at top --\x3e\n  <div class="monthView__dayBar clearfix">\n    <div class="monthView__dayBar__day l-dayno-{{$index}}" ng-repeat="day in grid.dayNames">{{day}}</div>\n  </div>\n  <div\n      class="monthView__week monthView__week-{{$index}}" ng-repeat="week in grid.weeks">\n    <div\n        class="week-part">\n      <div class="monthView__dayWrap l-dayno-{{$index}} {{day.cssClasses}}" ng-repeat="day in week">\n        <div class="monthView__dayCell">\n\n          <div class="monthView__dayHeader">{{day.formattedDate}}</div>\n\n          <div class="monthView__dayFooter" ng-click="toggleOpen(week)" ng-if="day.showHide">{{\n            week.open?"less":"+more"}}\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- week strips --\x3e\n    <div class="row-strips" ng-repeat="day in week">\n      <div ng-repeat="strip in day.strips">\n        <a id="{{strip.eid}}"\n           class="monthView__eventFont d-title monthView__strip {{strip.cssClasses}}"\n           ng-attr-target="{{::linkTarget}}"\n           ng-click="clickedEventLink($event,strip.fe)"\n           ng-if="stdLinkBehaviourOnly || !strip.fe.noDetail"\n           ng-mouseenter="showPreview(strip,$event)"\n           ng-mouseleave="hidePreview()"\n           ui-sref="{{::strip.sref}}"\n        >\n          <div class="l-status">\n            <div class="status__monthly status__hidden" ng-if="strip.fe.hidden"\n                 translate="unpublished"></div>\n            <div class="status__monthly status__cancelled" ng-if="strip.fe.cancelled"\n                 translate="cancelled"></div>\n            <div class="status__monthly status__rescheduled" ng-if="strip.fe.rescheduled"\n            >{{strip.fe.rescheduledLabel | translate}} {{strip.fe.rescheduledWhen}}\n            </div>\n            <div class="status__monthly status__postponed" ng-if="strip.fe.postponed"\n                 translate="postponedTBA"></div>\n            <div class="status__monthly status__movedOnline" ng-if="strip.fe.movedOnline"\n                 translate="movedOnline"></div>\n          </div>\n          <span class="l-oneday"></span><span class="monthView__strip__time" ng-class="{\'l-gone\':strip.gone}"\n                                              ng-if="ms.stripTime === \'before\' && strip.dtFormat">{{strip.dtFormat}}</span>\n          <span\n              class="monthView__strip_text"\n              ng-bind-html="strip.event.content.summary.text">\n        </span><span class="monthView__strip__time" ng-class="{\'l-gone\':strip.gone}"\n                     ng-if="ms.stripTime === \'after\' && strip.dtFormat">{{strip.dtFormat}}</span></a><a\n          class="monthView__eventFont d-title monthView__strip {{strip.cssClasses}}"\n          ng-click="clickedEventLink($event,strip.fe)"\n          ng-href="{{strip.fe.customButtonLink}}"\n          ng-if="!stdLinkBehaviourOnly && strip.fe.noDetail"\n          ng-mouseenter="showPreview(strip,$event)"\n          ng-mouseleave="hidePreview()"\n          target="{{settings.ctaButton.target}}"\n      ><span class="monthView__strip__time" ng-class="{\'l-gone\':strip.gone}"\n             ng-if="ms.stripTime === \'before\' && strip.dtFormat">{{strip.dtFormat}}</span><span\n          class="monthView__strip_text"\n          ng-bind-html="strip.event.content.summary.text">\n          </span><span class="monthView__strip__time" ng-class="{\'l-gone\':strip.gone}"\n                       ng-if="ms.stripTime === \'after\' && strip.dtFormat">{{strip.dtFormat}}</span></a>\n\n\n        \x3c!--<span class="pincard__tags">--\x3e\n        \x3c!--<span class="eventTags eventTags&#45;&#45;{{settings.tagStyle}} ">--\x3e\n        \x3c!--<span class="eventTags__tag d-tag eventTagColor&#45;&#45;{{tag}}" ng-repeat="tag in strip.fe.tags"><a class="pincard__tag eventTagColor&#45;&#45;{{tag}}" href=""--\x3e\n        \x3c!--ng-click="filterByTag(tag,$event)"><span--\x3e\n        \x3c!--class="eventTags__text">{{tag}}</span></a></span>--\x3e\n        \x3c!--</span>--\x3e\n\n        \x3c!--</span>--\x3e\n\n      </div>\n    </div>\n  </div>\n</div>\n\n'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("onlyDigits",(function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,a){a.$parsers.push((function(e){if(e){var t=e.replace(/[^0-9]/g,"");return t!==e&&(a.$setViewValue(t),a.$render()),parseInt(t,10)}}))}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(11),s=n(1),l=n(12),c=n(13),d=n(20),u=n(16),p=n(9),f=n(3),v=n(17),g=n(22);i.a.module("tkfngViewer").service("PinboardState",(function(){})).directive("pinboardView",["EventFormatter","ICSSubscribe","$location","Styler","$state","CalendarSearch","WatchHeight","tkfNotify","$compile","$translate","$stateParams","RouteHelpers","RSVPPopup","PinboardState","NavHistory","$timeout","FullScreen","CrossDomainWrapper","Viewer",function(e,t,a,h,m,b,_,w,y,k,x,S,C,T,E,A,M,B,P){return{template:n(205),restrict:"EA",scope:{},link:function(e,t,n){e.mode=n.mode,e.isEditor="edit"===e.mode},controller:["$scope",function(n){var a,y=s.Config.getHostProperty("args.showimages","").toLowerCase();"true"===y&&(a=!0),"false"===y&&(a=!1),n.hideLoadMore="true"===s.Config.getHostProperty("args.hideloadmore","false").toLowerCase(),n.tagToKey=h.tagToKey;var k=!!s.Config.getHostProperty("args.demo"),x=function(){},D=!1;n.isTouchDevice=c.a.isMobile.any,n.stdLinkBehaviourOnly=b.onTockifySite,n.detailSRef=S.detailSRef,n.firstPageLoaded=!1;var L,I=s.Config.getHostProperty("inIFrame",!1);function O(){var e,t,a,i;n.isDestroyed||((e=E.previousStateParams()).tid&&e.uid?(t=e.rid||0,a="eid_"+e.uid+"_"+e.tid+"_"+t,i=0,function e(){if(!n.isDestroyed){if(null!==document.querySelector("#"+a)){if(n.isDestroyed)return;if(M.isEmbedded)return B.embedScrollTop(P.scrollPos),P.scrollPos=0,void setTimeout((function(){return P.showView(!0)}),0);d.a.windowScrollY(P.scrollPos),z(400)}var t=d.a.windowScrollY();i<20&&(M.isEmbedded||t!==P.scrollPos)?(i++,setTimeout(e,100)):(P.scrollPos=0,setTimeout((function(){return P.showView(!0)}),100))}}()):(P.scrollPos=0,setTimeout((function(){return P.showView(!0)}),0)))}function F(){L&&(A.cancel(L),L=null),n.firstPageLoaded=!1}function z(e){L&&(A.cancel(L),L=null),L=A((function(){n.isDestroyed||(n.firstPageLoaded=!0)}),e)}function V(t,a,i){var r="visitor"===i.showTimezone;n.isEmptyCalendar=t.isEmptyCalendar,n.hasNext=u.a.hasMore(),n.eventData=t,n.fe=t.events.map((function(t){return e.format(t,a,!1,r)})),n.formattedEvents=n.fe,n.loaded=!0,_.heightChanged()}function R(){n.buildStyle()}P.showView(!1),n.openSubscribeToCalendar=function(e){e&&e.preventDefault(),t.openSubscribeToCalendar()},n.saveState=function(){T.eventData=i.a.copy(n.eventData)},n.CalendarSearch=b,n.Viewer=P,n.btz=p.a.timezone,n.loaded=!1,n.loadFirst=function(t){n.isEditor&&(t=!1);var a=b.snapshot(),i=a.settings,r=a.refTime,o=a.searchFilter,c=a.calendar;if(i){c&&l.a.trackPage(c.displayName),t&&T&&T.eventData?P.showView(!1):P.showView(!0),n.firstPage=!0;var d=i.views.pinboard.maxEventsPerQuery||12,p=s.Config.getHostProperty("args.maxEventsPerQuery",d);30<p&&(p=30),n.refMoment=g.tz(r.startms,c.tzid),n.nowMoment=g.tz(c.tzid);var f=n.refMoment.isSame(n.nowMoment,"day");n.fromDate=e.formatEventsFromDate(n.refMoment),n.showChannelText=function(){if(!c.channelMode)return!1;var e=n.refMoment;return f&&e.hours()+e.minutes()+e.seconds()+e.milliseconds()!==0}();var v=Object.assign({},{view:"pinboard",calname:c.name,max:p,"start-inclusive":!!c.channelMode||!!i.showContinuingEvents,showAll:"edit"===n.mode||k},o,r);if(t){F();var h=T;if(h&&h.eventData)return P.showView(!1),_.updateHeight(P.embedHeight),void A((function(){n.isDestroyed||(V(h.eventData,c,i),O(),delete h.eventData,z(1e3))}),0)}w.spinner.open(),u.a.queryAndSave(v).then((function(e){F(),w.spinner.close(),n.animate=!1,V(e,c,i)})).catch((function(){w.spinner.close()})).finally((function(){z(n.formattedEvents&&0!==n.formattedEvents.length?1e3:0)}))}},n.loadMore=function(t){var a=b.snapshot(),i=a.settings,r=a.calendar;i&&(n.firstPage=!1,t&&t.preventDefault(),w.spinner.open(),u.a.getMore({"start-inclusive":!!r.channelMode||!!i.showContinuingEvents}).then((function(t){F(),w.spinner.close(),n.animate=!0,n.hasNext=u.a.hasMore();var a="visitor"===i.showTimezone;n.formattedEvents=n.formattedEvents.concat(t.events.map((function(t){return e.format(t,r,!1,a)})));var o=n.eventData.events.concat(t.events);n.eventData={events:o,meta:t.meta},_.heightChanged()})).catch((function(){w.spinner.close()})).finally((function(){z(1e3)})))},n.$watch("CalendarSearch.loaded",(function(e,t){if(!("boolean"!=typeof e||D&&e===t)&&e){var a=b.snapshot(),r=a.settings,o=a.calendar;if(!r)return;n.direction=b.direction,n.settings=r,n.calendar=o,n.pinboardColumns=s.Config.getHostProperty("args.pinboardcolumns",0),function(){D=!0;var e=b.snapshot(),t=e.settings,a=e.calendar;t&&(n.submitEvent=function(e){e&&e.preventDefault(),window.open(a.submitURL,"_blank")},n.buildStyle())}(),n.loadFirst(!0);var l=n.$watch("CalendarSearch.calendar",(function(e,t){var a=b.loaded&&!i.a.equals(e,t);n.calendar=e,a&&n.loadFirst()})),c=n.$watch("CalendarSearch.searchFilter",(function(e,t){b.loaded&&!i.a.equals(e,t)&&n.loadFirst()}),!0),d=n.$watch("CalendarSearch.refTime",(function(e,t){b.loaded&&!i.a.equals(e,t)&&n.loadFirst()}),!0),u=n.$watch("Viewer.settings",(function(e,t){var a,r;b.loaded&&!i.a.equals(e,t)&&(n.settings=e,n.buildStyle(),a=e&&t&&e.useClientDateFormat!==t.useClientDateFormat,r=e&&t&&e.showContinuingEvents!==t.showContinuingEvents,(a||r)&&n.loadFirst())}),!0);x=function(){l(),c(),d(),u()}}})),document.addEventListener("restyle",R),n.$on("$destroy",(function(){document.removeEventListener("restyle",R),n.isDestroyed=!0})),n.buildStyle=function(){var e,t,i,s,l,d,u,p,g,m,_,w,y,k,x,S=o.a.getStyler("user"),C=b.snapshot().settings;C&&(n.showImages="boolean"==typeof a?a:C.showImages,n.asy=C.alwaysShowYear,e=C.views.pinboard,t=(n.ps=e).cardBackground||C.background,i=e.showBorders?"1":0,0<(s=Object(v.isPrinting)()?800:P.getAvailableWidth())&&s<400&&(I?(n.linkTarget="_blank",n.openLinksAsPopup=!0):!c.a.isMobile.phone&&M.isEmbedded&&(n.openLinksAsPopup=!0)),"fullscreen"===C.openDetails&&!n.stdLinkBehaviourOnly&&M.isEmbedded&&(n.openLinksAsPopup=!0),(C.navbar.show||e.eventsFromText)&&S.queueRule(".viewer__info--pinboard",{padding:"12px 0 12px"}),l={"border-radius":e.borderRadius+"px"},e.cardBackground&&(l.background=e.cardBackground),d=e.cardColor||C.textColor,e.cardColor&&(l.color=e.cardColor),S.queueRule(".pincard",l),g=e.borderColor,u=e.linkColor||C.linkColor,g=g||Object(f.h)(u,t,.3).css(),S.queueRule(".pincard",{"border-color":g,"border-style":"solid","border-width":i+"px"}),S.queueRule(Object(f.f)(".pincard__where a.c-where",f.a),{color:d}),S.queueRule(".pincard__separator",{"border-color":g}),e.linkColor&&(p=C.tagColor||e.linkColor,h.applyTagStyles({tagColor:p,scope:".pincard"}),S.queueRule(".pincard .d-title a, .pincard a.l-vloc",{color:e.linkColor})),S.queueRule(".pinboardView",{width:s+"px"}),m=1,e.scaleCards&&(1400<s?m=1.25:1200<s?m=1.15:1e3<s&&(m=1.1)),n.targetWidth=Math.floor(e.targetWidth*m),_={},"fill"===e.cardLayout?(_={width:"100%","margin-bottom":"7px"},n.imageStyle={percent:100,sidepad:0}):"inset"===e.cardLayout?(_={width:"90%",margin:"5% 5% 0 5%","border-width":"1px","border-style":"solid","border-color":d,padding:"2px"},n.imageStyle={percent:90,sidepad:6}):"boxed"===e.cardLayout&&(_={width:"90%",margin:"5% 5% 0 5%",padding:"4px",border:"1px solid #ccc","box-shadow":"1px 1px 2px #bbb",background:"white"},n.imageStyle={percent:90,sidepad:10}),(w=Math.floor(e.borderRadius))<14&&(w=14),_["min-height"]=w+"px",S.queueRule(".pincard__imageSection__image",_),S.queueRule(".pincard__tags",{"border-bottom-left-radius":e.borderRadius+"px","border-bottom-right-radius":e.borderRadius+"px"}),y=(C.views.pinboard.eventTitleSize||Math.floor(1.4*C.fontSize))+"px",S.queueRule(".pincard__main__title",{"font-size":y}),k=C.tagcolors||{},r.a.each(k,(function(e,t){var n,a=e;C.linkTagColors&&(n=h.toSafeTag(t),S.queueRule(".pincard .pincard__main__title--"+n+".d-title a",{color:a}))})),S.applyRules(),x="embed"===C.kind?60:0,n.showSecondarySubmit=s<590+x&&460+x<=s,A((function(){}),0))},n.clickedEventLink=function(e,t){try{if(e&&(e.stopPropagation(),e.preventDefault()),n.openLinksAsPopup&&e.preventDefault(),!n.stdLinkBehaviourOnly&&t.noDetail){var a=n.settings.ctaButton.target||"_top";return void window.open(t.customButtonLink,a)}var i,r,o,s;n.saveState(),M.isEmbedded?(B.requestEmbedScrollTop(),P.embedHeight=_.getHeight()):P.scrollPos=d.a.windowScrollY(),t&&(r=(i=S.toDetailStateArgs(t.event.eid)).route,o=i.params,n.openLinksAsPopup?(s=m.href(r,o),M.openPath(s)):m.go(r,o))}catch(e){}},n.filterByTag=function(e,t){t&&(t.preventDefault(),t.stopPropagation()),x(),P.scrollPos=0,b.searchFilter.tags=e,m.go(".",{tags:e},{notify:!0})},n.$watch("settings.views.pinboard.maxEventsPerQuery",(function(e,t){e&&t&&e!==t&&n.loadFirst()})),n.$watch("settings.showTimezone",(function(e,t){e&&t&&e!==t&&n.loadFirst()})),n.rsvpURL=function(e){return C.getFillerURL(n.calendar._id,e)},n.openRSVPPopup=function(e,t,a){a&&(a.preventDefault(),a.stopPropagation());var i,r=(i=t,n.eventData.events.find((function(e){return e.eid.uid===i.uid&&e.eid.tid===i.tid&&e.eid.rid===i.rid})));C.openFiller({calid:e._id,rsvpStatus:r.rsvpStatus,rsvpLink:r.content.rsvpLink,eid:t,locale:e.locale})}}]}}])},function(e,t){e.exports='<div class="viewer__info viewer__info--pinboard d-headerText clearfix" ng-class="{\'u-rtl\':direction===\'rtl\'}">\n\n  <div class="u-pullRight">\n    <a class="viewer__secondarySubscribe ad-text" href=""\n       ng-click="openSubscribeToCalendar($event)"\n       ng-if="settings.showSubscribeToCalendar &&  calendar.effectiveFeatureLevel > 0 && !settings.navbar.subscribeAsButton"\n       translate="subscribe">\n    </a>\n    <button class="btn btn-cta viewer__secondarySubscribe" ng-click="openSubscribeToCalendar($event)"\n            ng-if="settings.showSubscribeToCalendar && calendar.effectiveFeatureLevel > 0 && settings.navbar.subscribeAsButton"\n            translate="subscribe">\n    </button>\n    <button class="btn btn-cta navbar-btn viewer__secondarySubmit" ng-click="submitEvent($event)"\n            ng-if="calendar.effectiveFeatureLevel > 0 && calendar.showSubmitEvent"\n            translate="submitEvent">\n    </button>\n\n    <a class="tockify__branding--incal d-title" href="/" ng-if="calendar.effectiveFeatureLevel <= 0"\n       target="_blank"><span\n        class="tockify__branding--incal__prefix" translate="calendarBy"></span>&nbsp;<span\n        class="tockify-logo">Tockify</span></a>\n  </div>\n\n\n  <span ng-if="settings.views.pinboard.eventsFromText &&  loaded && !showChannelText">\n       <span class="d-textColor"\n             translate="eventsFrom" translate-default=""></span> {{fromDate}} <span\n      class="d-textColor" translate="eventsFromPost" translate-default=""></span>\n    </span>\n  <span ng-if="settings.views.pinboard.eventsFromText && loaded && showChannelText">\n      <span class="d-textColor" translate="todaysSchedule" translate-default="Today\'s schedule"></span>\n    </span>\n\n</div>\n<div class="pinboardView" ng-class="{noselect:(settings.noCopy && mode !==\'edit\')}"\n     ng-show="calendar && CalendarSearch.refTime.startms">\n  <div animate="animate" card-board class="pinboardView__cardBoard" class="pinboard" direction="{{direction}}"\n       fixed-column-count="{{pinboardColumns}}"\n       horizontal-gutter="\'16\'" ng-cloak="formattedEvents" target-width="targetWidth" tolerance="\'192\'"\n       vertical-gutter="\'16\'">\n    <div card ng-repeat="ev in formattedEvents | orderBy:\'sortVal\'">\n      <div ng-click="clickedEventLink($event, ev)">\n\n        <div class="pincard"\n             id="{{::\'eid_\' + ev.event.eid.uid + \'_\' + ev.event.eid.tid + \'_\' + ev.event.eid.rid}}"\n             ng-style="{direction:ev.direction}">\n\n          <div class="pincard__row pincard__row--flush" ng-if="ev.hasImage && showImages">\n            <div class="pincard__imageSection">\n\n              <a ng-click="$event.stopPropagation()" ng-href="{{ev.customButtonLink}}"\n                 ng-if="!stdLinkBehaviourOnly && ev.noDetail" target="{{settings.ctaButton.target}}"\n              ><img alt="{{ev.imageAlt}}" class="pincard__imageSection__image"\n                    image-failover\n                    ng-show="ev.hasImage && showImages" ng-src="{{ ev.getBestScaledUrl(cardWidth) }}"\n                    percent="{{imageStyle.percent}}"\n                    ratio="{{ev.pinImage.ratio}}"\n                    sidepad="{{imageStyle.sidepad}}"></a>\n              <a ng-click="clickedEventLink($event,ev)"\n                 ng-if="!stdLinkBehaviourOnly && (!ev.noDetail && openLinksAsPopup)"\n                 ui-sref="{{::detailSRef(ev.event.eid)}}"\n              ><img alt="{{ev.imageAlt}}" class="pincard__imageSection__image"\n                    image-failover\n                    ng-show="ev.hasImage && showImages" ng-src="{{ ev.getBestScaledUrl(cardWidth) }}"\n                    percent="{{imageStyle.percent}}"\n                    ratio="{{ev.pinImage.ratio}}"\n                    sidepad="{{imageStyle.sidepad}}"></a>\n              <a ng-attr-target="{{::linkTarget}}"\n                 ng-click="clickedEventLink($event,ev)"\n                 ng-if="stdLinkBehaviourOnly || (!ev.noDetail && !openLinksAsPopup)"\n                 ui-sref="{{::detailSRef(ev.event.eid)}}"\n              ><img alt="{{ev.imageAlt}}" class="pincard__imageSection__image"\n                    image-failover\n                    ng-show="ev.hasImage && showImages" ng-src="{{ ev.getBestScaledUrl(cardWidth) }}"\n                    percent="{{imageStyle.percent}}"\n                    ratio="{{ev.pinImage.ratio}}"\n                    sidepad="{{imageStyle.sidepad}}"></a>\n\n\n              <div class="pincard__imageSection__image pincard__imageSection__image--placeholder"\n                   ng-show="!(ev.hasImage && showImages)">\n              </div>\n            </div>\n          </div>\n\n\n          \x3c!--<div ng-class="{pincard__main:true, \'has-noimage\':!ev.imageURL}">--\x3e\n          <div class="pincard__row">\n\n            <div class="d-when pincard__main__when" ng-class="{\'l-gone\':ev.gone}">\n              <span class="viewers__different-year-label"\n                    ng-if="(asy || !ev.startsThisYear) && !settings.startYearAtEnd ">{{ev.startYear}}</span>\n              <span>{{ev.longStartDate}}</span>\n              <span class="pincard__main__when__time">{{ev.startTime}}</span>\n              <span ng-if="ev.hasEnd"> - <span>{{ev.longEndDate}}</span>\n        <span class="pincard__main__when__time" ng-if="!ev.sameTime">{{ev.endTime}}</span>\n                              <span class="viewers__different-year-label"\n                                    ng-if="(asy || !ev.startsThisYear) && settings.startYearAtEnd ">{{ev.startYear}}</span>\n\n       </span>\n              <span\n                  ng-if="settings.showTimezone === \'always\' || (settings.showTimezone === \'different\' && ev.timezone !== btz)">({{ev.shortTimezone}})</span>\n              <span ng-if="settings.showTimezone === \'visitor\'">({{ev.visitorTimezone}})</span>\n            </div>\n          </div>\n          <div class="pincard__row">\n            <div class="status__pinboard status__hidden" ng-if="ev.hidden"\n                 translate="unpublished"></div>\n            <div class="status__pinboard status__cancelled" ng-if="ev.cancelled"\n                 translate="cancelled"></div>\n            <div class="status__pinboard status__rescheduled" ng-if="ev.rescheduled"\n            >{{ev.rescheduledLabel | translate}} {{ev.rescheduledWhen}}\n            </div>\n            <div class="status__pinboard status__postponed" ng-if="ev.postponed"\n                 translate="postponedTBA"></div>\n            <div class="status__pinboard status__movedOnline" ng-if="ev.movedOnline"\n                 translate="movedOnline"></div>\n          </div>\n          <div class="pincard__row">\n            <h3 class="d-title d-titleText pincard__main__title pincard__main__title--{{ev.colorTag}}">\n              <a ng-bind-html="ev.title"\n                 ng-click="$event.stopPropagation()"\n                 ng-href="{{ev.customButtonLink}}"\n                 ng-if="!stdLinkBehaviourOnly && ev.noDetail" target="{{settings.ctaButton.target}}"\n              ></a>\n              <a ng-bind-html="ev.title"\n                 ng-click="clickedEventLink($event,ev)"\n                 ng-if="!stdLinkBehaviourOnly && (!ev.noDetail && openLinksAsPopup)"\n                 ui-sref="{{::detailSRef(ev.event.eid)}}"\n              ></a>\n              <a ng-attr-target="{{::linkTarget}}"\n                 ng-bind-html="ev.title"\n                 ng-click="clickedEventLink($event, ev)"\n                 ng-if="stdLinkBehaviourOnly || (!ev.noDetail && !openLinksAsPopup)"\n                 ui-sref="{{::detailSRef(ev.event.eid)}}"\n              ></a>\n            </h3>\n          </div>\n\n          <div class="pincard__row"\n               ng-if=\'settings.views.pinboard.showPromoButton && calendar.effectiveFeatureLevel > 0 && ev.customButtonText && ev.customButtonLink\'>\n            <a class="btn btn-cta btn-block"\n               ng-click="$event.stopPropagation()"\n               ng-href="{{ev.customButtonLink}}"\n               target="{{settings.ctaButton.target}}"\n               track-outbound-click>{{ev.customButtonText}}\n            </a>\n          </div>\n\n          <div class="pincard__row"\n               ng-if=\'settings.views.pinboard.showRSVP && ev.hasRSVPs && calendar.effectiveFeatureLevel > 0\'>\n            <a class="viewer__rsvp__button btn btn-cta btn-block"\n               ng-click="openRSVPPopup(calendar,ev.event.eid,$event)"\n               ng-if="!isTouchDevice" translate="{{ev.rsvpButtonLabel}}">\n            </a>\n            <a class="viewer__rsvp__button btn btn-cta btn-block"\n               ng-click="$event.stopPropagation()"\n               ng-href="{{rsvpURL(ev.event.eid)}}" ng-if="isTouchDevice"\n               target="_blank" translate="{{ev.rsvpButtonLabel}}">\n            </a>\n          </div>\n\n          <div class="pincard__row" ng-if="settings.views.pinboard.showPreview">\n            <div ng-bind="ev.shortPreview"\n                 ng-class="{\'d-text d-text--preview pincard__main__preview\':true, \'l-custom\':ev.hasCustomPreview}"></div>\n          </div>\n          <div class="pincard__row" ng-if="ev.where.address && ((ev.where.place && ps.showPlace) || ps.showAddress)">\n            <div class="d-text pincard__where">\n              <a class="c-where" href="https://maps.google.com?q={{ev.where.address | encodeURIComponent}}"\n                 ng-click="$event.stopPropagation()"\n                 target="_blank">\n                <span class="c-place" ng-bind-html="ev.where.place" ng-if="ev.where.place && ps.showPlace"></span><span\n                  ng-if="ev.where.place && ps.showPlace && ps.showAddress">,&nbsp;</span><span\n                  class="c-address" ng-bind-html="ev.where.address" ng-if="ps.showAddress"></span>\n              </a>\n            </div>\n          </div>\n          <div class="pincard__row" ng-if="ev.virtualLocUrl && ps.showAddress">\n            <label>{{\'onlineLocation\' | translate }}:</label>&nbsp;<a\n              class="l-vloc"\n              ng-if="!ev.virtualLocRsvpOnly"\n              ng-click="$event.stopPropagation()"\n              ng-href="{{ev.virtualLocUrl}}"\n              target="_blank">{{ev.virtualLocName}}</a><span\n              ng-if="ev.virtualLocRsvpOnly">{{ev.virtualLocName}}</span>\n          </div>\n\n          <div class="pincard__row" ng-if="ps.showPlace && ev.where.place && !ev.where.address">\n            <div class="d-text pincard__where">\n              <span class="c-place" ng-bind-html="ev.where.place"></span>\n            </div>\n          </div>\n\n          <div class="pincard__row pincard__row--flush"\n               ng-if="settings.views.pinboard.showTags && ev.tags.length || mode===\'edit\'">\n            <div class="pincard__separator"></div>\n          </div>\n\n          <div class="pincard__row pincard__row--endspace"\n               ng-if="!(settings.views.pinboard.showTags && ev.tags.length || mode===\'edit\')">\n          </div>\n\n          <div class="pincard__row" ng-if="settings.views.pinboard.showTags" ng-show="ev.tags.length">\n            <div class="pincard__tags">\n              <div class="eventTags eventTags--{{settings.tagStyle}} ">\n                        <span class="eventTags__tag d-tag eventTagColor--{{tagToKey(tag)}}"\n                              ng-repeat="tag in ev.tags"><a class="pincard__tag eventTagColor--{{tagToKey(tag)}}"\n                                                            href=""\n                                                            ng-click="filterByTag(tag,$event)"><span\n                            class="eventTags__text">{{tag}}</span></a></span>\n              </div>\n            </div>\n          </div>\n\n\n          <div class="pincard__row" ng-if=\'::mode==="edit"\'>\n            <div class="pincard__editButtons">\n\n\n          <span ng-if=\'ev.event.kind==="mod"\'>\n            <a class="btn btn-siteform pinboardItem__editButton"\n               ng-click="$event.stopPropagation()"\n               ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Repeating Group</a\n            >&nbsp;<a class="btn btn-siteform pinboardItem__editButton"\n                      ng-click="$event.stopPropagation()"\n                      ui-sref="edit.inter.modeditor({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid,rid:ev.event.eid.rid})">Edit Modified Event</a>\n          </span>\n              <span ng-if=\'ev.event.kind==="repeat"\'>\n            <a class="btn btn-siteform pinboardItem__editButton"\n               ng-click="$event.stopPropagation()"\n               ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Repeating Group</a\n            >&nbsp;<a class="pinboardItem__editLink editor__link"\n                      ng-click="$event.stopPropagation()"\n                      ui-sref="edit.inter.modeditor({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid,rid:ev.event.eid.rid})">Modify only this event</a>\n          </span>\n              <span ng-if=\'ev.event.kind==="rdate"\'>\n            <a class="btn btn-siteform pinboardItem__editButton"\n               ng-click="$event.stopPropagation()"\n               ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Repeating Group</a\n            >&nbsp;<a class="btn btn-siteform pinboardItem__editButton"\n                      ng-click="$event.stopPropagation()"\n                      ui-sref="edit.inter.modeditor({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid,rid:ev.event.eid.rid})">Edit Extra Repeat</a>\n          </span>\n              <span ng-if=\'ev.event.kind==="singleton"\'>\n              <a class="btn btn-siteform pinboardItem__editButton"\n                 ng-click="$event.stopPropagation()"\n                 ui-sref="edit.inter.groupeditor({calname:calendar.name,uid:ev.event.eid.uid})">Edit Event</a>\n          </span>\n\n              <div ng-if="calendar.effectiveFeatureLevel > 0 && ev.hasRSVPs">\n                <a ng-class="{ rsvp__rsvpIndicator: true, \'l-full\': ev.attendeeCount > 0, \'l-empty\': ev.attendeeCount === 0}"\n                   ui-sref="edit.inter.rsvpresponses({calname:calendar.name,uid:ev.event.eid.uid,tid:ev.event.eid.tid, rid:ev.event.eid.rid})"\n                >RSVPs: {{ev.attendeeCount}}</a>\n              </div>\n            </div>\n          </div>\n          \x3c!--<div class="pincard__row" ng-if=\'::mode==="edit"\'>--\x3e\n\n          \x3c!--</div>--\x3e\n\n        </div>\n      </div>\n    </div>\n\n  </div>\n  <ng-include ng-if="!hideLoadMore" src="\'app/viewers/base/listStatus.html\'"></ng-include>\n</div>\n'},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(12);i.a.module("tkfngViewer").directive("trackOutboundClick",(function(){return{restrict:"A",link:function(e,t){t[0].addEventListener("click",(function(){var e=t.attr("href");r.a.trackOutboundClick(e)}))}}}))},function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i);function o(e,t){function n(){var e,t;this.q=[],this.add=function(e){this.q.push(e)},this.call=function(){for(e=0,t=this.q.length;e<t;e++)this.q[e].call()}}function i(e,t){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(t)}else e.resizedAttached=new n,e.resizedAttached.add(t);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var i,r,o="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",s="position: absolute; left: 0; top: 0; transition: 0s;";function l(){d.style.width="100000px",d.style.height="100000px",c.scrollLeft=1e5,c.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5}e.resizeSensor.style.cssText=o,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+s+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+s+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"===(r="position",(i=e).currentStyle?i.currentStyle[r]:window.getComputedStyle?window.getComputedStyle(i,null).getPropertyValue(r):i.style[r])&&(e.style.position="relative");var c=e.resizeSensor.childNodes[0],d=c.childNodes[0],u=e.resizeSensor.childNodes[1];l();var p,f,v,g,h=!1;function m(){(v=e.offsetWidth)===p&&(g=e.offsetHeight)===f||(h=!0,p=v,f=g),l()}function b(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)}a((function t(){e.resizedAttached&&(h&&(e.resizedAttached.call(),h=!1),a(t))})),b(c,"scroll",m),b(u,"scroll",m)}var r=Object.prototype.toString.call(e),s="[object Array]"===r||"[object NodeList]"===r||"[object HTMLCollection]"===r||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements;if(s)for(var l=0,c=e.length;l<c;l++)i(e[l],t);else i(e,t);this.detach=function(){if(s)for(var t=0,n=e.length;t<n;t++)o.detach(e[t]);else o.detach(e)}}a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},o.detach=function(e){e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)},window.ResizeSensor=o,r.a.module("tkfngViewer").directive("onResize",(function(){return{restrict:"A",scope:{onResize:"&"},link:function(e,t){var n=new window.ResizeSensor(t[0],e.onResize);t.on("$destroy",(function(){n.detach(t)}))}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1).Config.BUILT_IN_OWNER_ID;i.a.module("tkfngViewer").factory("FormDef",["$resource",function(e){var t=e("/api/formdefinition/:formId",{formId:"@formId"},{update:{method:"PUT"}}),n=e("/api/formdefremove/:formId");t.markDeleted=function(e){return n.get({formId:e})};var a=e("/api/formdefsummaries");return t.pageQuery=function(e){return a.query(e).$promise},t.pageQueryBuiltIn=function(e){return(e=i.a.copy(e)).ownerId=r,a.query(e).$promise},t}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").service("RSVPPopup",["$state","FullScreen","CrossDomainWrapper","$rootScope","Dialog",function(e,t,n,a,i){var r=this,o=t.isEmbedded,s=t.isOverlay;this.openFiller=function(e){var r=e.calid,l=e.rsvpStatus,c=e.rsvpLink,d=e.eid,u=e.locale,p=d.uid,f=d.tid,v=d.rid;o?n.openFiller("rsvpFiller",{calid:r,rsvpStatus:l,rsvpLink:c,eid:d,locale:u}):function(e){var n=e.calid,r=e.uid,o=e.tid,l=e.rid,c=e.rsvpStatus,d=e.rsvpLink,u=d.formId,p=a.$new();p.rsvpStatus=c,p.rsvpLink=d,i.open(p,{template:'<div rsvp-filler form-id="'.concat(u,'" mode="popup" \n              rsvp-status="rsvpStatus"\n              rsvp-link="rsvpLink"\n              calid="').concat(n,'" uid="').concat(r,'" tid="').concat(o,'" rid="').concat(l,'"\n              do-close="closePopup()" ></div>'),animation:"fadeIn",includeInHistory:!1,externalCloser:!1,closeWait:300,crossCloser:!0,"z-index":100,onClose:function(){s&&t.close(),p.$destroy()}})}({calid:r,uid:p,tid:f,rid:v,rsvpStatus:l,rsvpLink:c,locale:u})},this.getFillerURL=function(t,n){var a=n.uid,i=n.tid,r=n.rid;return e.href("rsvpFillerStandalone",{calid:t,uid:a,tid:i,rid:r})},n.addPopupHandler("rsvpFiller",(function(e){return r.openFiller(e)}))}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("attendeeField",(function(){return{template:n(211),restrict:"EA",scope:{field:"=",answers:"="},controller:["$scope",function(e){var t,n=e.field,a=n.id,i=n.config,r=i.max,o=i.min,s=i.initial;1===r&&0===o?(e.yesno=!0,e.answers[a]=1):0<r&&(t=Math.min(r,2e3),e.nums=function(e,t,n){n=n||1;for(var a=[],i=e;i<=t;i+=n)a.push(i);return a}(o,t,1),void 0===e.answers[a]&&(e.answers[a]=s))}]}}))},function(e,t){e.exports='<div ng-if="yesno">\n  <label class="radio-inline">\n    <input name="rsvpAttending" ng-model="answers[field.id]"\n           ng-value="{{1}}" type="radio"><span translate="yes"></span></label>\n  <label class="radio-inline">\n    <input name="rsvpAttending" ng-model="answers[field.id]"\n           ng-value="{{0}}" type="radio"><span translate="no"></span>\n  </label>\n</div>\n\n\n<select class="form-control" name={{field.id}} ng-if="nums" ng-model="answers[field.id]"\n        ng-options="num for num in nums">\n</select>'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("booleanField",(function(){return{template:n(213),restrict:"EA",scope:{field:"=",answers:"="}}}))},function(e,t){e.exports='<div ng-if="field.ftype===\'boolean\'">\n  <input ng-model="answers[field.id]" type="checkbox">\n</div>\n'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("longTextField",(function(){return{template:n(215),restrict:"EA",scope:{field:"=",answers:"="}}}))},function(e,t){e.exports='<textarea class="form-control" ng-model="answers[field.id]" ng-required="!field.flags.optional"></textarea>'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("numberField",["$timeout",function(e){return{template:n(217),restrict:"EA",scope:{field:"=",answers:"=",formCtrl:"="},controller:["$scope",function(t){var n=t.field,a=n.id,i=n.config,r=i.max,o=i.min,s=i.initial;r-o<30&&(t.nums=function(e,t,n){n=n||1;for(var a=[],i=e;i<=t;i+=n)a.push(i);return a}(o,r,1)),void 0===t.answers[a]&&(t.answers[a]=s),t.rangeText="pick a number between ".concat(o," and ").concat(r),e((function(){var e=t.formCtrl[a];e.$validators.number=function(t){var n=o<=t&&t<=r;return e.$isEmpty(t)||n}}),100)}]}}])},function(e,t){e.exports='<select class="form-control" name={{field.id}} ng-if="nums" ng-model="answers[field.id]"\n        ng-options="num for num in nums"\n        ng-required="!field.flags.optional">\n</select>\n<div ng-if="!nums">\n  <input class="form-control" name={{field.id}} ng-model="answers[field.id]" ng-required="!field.flags.optional"\n         only-digits placeholder="Lowest Allowed Value" type="text">\n  <div class="rsvpViewer__field__instructions">{{rangeText}}</div>\n</div>'},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a);i.a.module("tkfngViewer").directive("optionsField",["$timeout",function(e){return{template:n(219),restrict:"EA",scope:{field:"=",answers:"=",formCtrl:"="},controller:["$scope",function(t){var n=t.field,a=n.id,r=n.config,o=r.max,s=r.min,l=r.options;t.max=o;var c,d,u=i.a.copy(l);t.selections=u,1!==o||(c=l.find((function(e){return e.selected})))&&(t.answers[t.field.id]=c.text),t.checkSelectedMax=function(e){var n,a=u.map((function(e){return e.selected})).filter((function(e){return e})).length,i=a-o,r=s-a;if(0<i)for(var l=0,c=0;l<u.length&&c<i;l++)l!==e&&u[l].selected&&(u[l].selected=!1,c++);1<o&&d.$setValidity("options",r<=0),d.$touched=!0,n=u.filter((function(e){return e.selected})).map((function(e){return e.text})),t.answers[t.field.id]=n},t.rangeText=o===s?"Select ".concat(s," options"):"Select between ".concat(s," and ").concat(o," options"),e((function(){var e,n;d=t.formCtrl[a],1<o&&(e=u.map((function(e){return e.selected})).filter((function(e){return e})).length,n=s-e,d.$setValidity("options",n<=0))}),100)}]}}])},function(e,t){e.exports='<ul class="rsvpViewer__options" ng-if="max > 1">\n  <li class="formDef__optionsField" ng-repeat="sel in selections">\n    <div class="form-inline">\n      <input name={{field.id}} ng-change="checkSelectedMax($index)" ng-model="sel.selected"\n             type="checkbox">\n      <label class="l-optionLabel">{{sel.text}}</label>\n    </div>\n  </li>\n  <div class="rsvpViewer__field__instructions">{{rangeText}}</div>\n</ul>\n\n<ul class="rsvpViewer__options" ng-if="max === 1">\n  <li class="formDef__optionsField" ng-repeat="sel in selections">\n    <div class="form-inline">\n      <input name={{field.id}} ng-model="answers[field.id]" type="radio" value="{{sel.text}}">\n      <label class="l-optionLabel">{{sel.text}}</label>\n    </div>\n  </li>\n</ul>\n'},function(e,t){e.exports='<div class="rsvpFiller" ng-class="{\'rsvpFiller__popup\':isPopup}">\n  <form name="formCtrl" novalidate>\n    <div ng-init="forms.formCtrl = formCtrl"></div>\n\n    <div class="rsvp__title__holder">\n      <h2 class="rsvp__title" translate>{{formDef.title}}</h2>\n    </div>\n    <div class="rsvp__status__holder" ng-if="attendeeStatus">\n      <h3 class="rsvp__status">{{attendeeStatus}}</h3>\n    </div>\n    <div class="rsvp__space"></div>\n    <div class="rsvpViewer__fields" ng-class="{\'l-full\':isFull}">\n      <div class="rsvpViewer__field" ng-repeat="field in formDef.fields | filter:hideInvisble">\n        <div\n            ng-class="{\'form-group has-feedback\':true,\'has-error\':(formCtrl.$submitted || formCtrl[\'\' + field.id].$touched) && formCtrl[\'\' + field.id].$invalid}">\n          <label><span translate>{{field.title}}</span><span ng-if="!field.flags.optional"> *</span></label>\n          <div ng-switch="field.ftype">\n            <div answers="answers" boolean-field field="field" form-ctrl="formCtrl" ng-switch-when="boolean"></div>\n            <div answers="answers" field="field" form-ctrl="formCtrl" ng-switch-when="shortText" short-text-field></div>\n            <div answers="answers" field="field" form-ctrl="formCtrl" long-text-field ng-switch-when="longText"></div>\n            <div answers="answers" field="field" form-ctrl="formCtrl" ng-switch-when="options" options-field></div>\n            <div answers="answers" field="field" form-ctrl="formCtrl" ng-switch-when="number" number-field></div>\n            <div answers="answers" attendee-field field="field" form-ctrl="formCtrl" ng-switch-when="attendee"></div>\n          </div>\n          <div ng-show="formCtrl[\'\' + field.id].$touched || formCtrl.$submitted">\n            <span class="help-block" ng-show="formCtrl[\'\' + field.id].$error.required">This field is required</span>\n            <span class="help-block"\n                  ng-show="formCtrl[\'\' + field.id].$error.email">Please enter a valid email address</span>\n            <span class="help-block" ng-show="formCtrl[\'\' + field.id].$error.number">Please enter a number in the allowed range</span>\n            <span class="help-block" ng-show="formCtrl[\'\' + field.id].$error.options">Not enough options have been selected</span>\n          </div>\n        </div>\n      </div>\n      <div class="form-group rsvp__buttons">\n        <button class="btn btn-success rsvp__sendbtn" ng-click="sendResponse()"\n                type="button"><span translate="{{formDef.submitText || \'sendRSVP\'}}"></span></button>\n      </div>\n    </div>\n    <div ng-if="viewState.sent">\n      <div class="rsvp__thankYou">\n        <div class="rsvp__thankYou__box">\n          <div translate="thankYou"></div>\n        </div>\n        <a class="btn btn-success btn-block" ng-href="viewers.inter({calname:calname})" translate>Back</a>\n      </div>\n    </div>\n  </form>\n\n</div>'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("shortTextField",(function(){return{template:n(222),restrict:"EA",scope:{field:"=",answers:"="}}}))},function(e,t){e.exports='<input class="form-control" name={{field.id}} ng-if="field.stype===\'email\'" ng-model="answers[field.id]"\n       ng-required="!field.flags.optional"\n       type="text" validate-email>\n<input class="form-control" name={{field.id}} ng-if="field.stype!==\'email\'" ng-model="answers[field.id]"\n       ng-required="!field.flags.optional"\n       type="text">\n\n'},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(56);i.a.module("tkfngViewer").controller("RsvpFillerStandaloneCtrl",["$scope","$stateParams","CalendarSearch",function(e,t,n){e.viewState={status:"initial"};var a=e.viewState;e.goBack=function(){var e=(e=(n.calendar.url||"").trim().toLowerCase())&&0!==e.indexOf("http://")&&0!==e.indexOf("https://")?"http://"+e:e||"https://tockify.com";window.location.href=e};var i=t.calid,o=t.uid,s=t.tid,l=t.rid;Object(r.getRSVPInfo)(i,o,s,l).then((function(t){n.loadCalendar({calKey:i},{view:""}),e.rsvpLink=t.link,e.rsvpStatus=t.status,e.calid=i,e.uid=o,e.tid=s,e.rid=l,e.onSent=function(){a.status="sent"},a.status="ready"}))}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("serverError",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){t.on("change",(function(){e.serverErrors&&delete e.serverErrors.form,a.$setValidity("serverError",!0),e.$apply()})),t.on("keydown",(function(){e.serverErrors&&delete e.serverErrors.form,a.$setValidity("serverError",!0),e.$apply()})),n&&"checkbox"===n.type&&(e.serverErrors&&delete e.serverErrors.form,t.on("click",(function(){a.$setValidity("serverError",!0),e.$apply()})))}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(11),s=n(4),l=n(1),c=n(12),d=n(20),u=n(16),p=n(9),f=n(25),v=n(3),g=n(17),h=n(33),m=n(22);i.a.module("tkfngViewer").service("UpcomingState",(function(){})).directive("upcomingView",["UpcomingState","EventFormatter","NavHistory","Styler","ICSSubscribe","CalendarSearch","WatchHeight","CrossDomainWrapper","tkfNotify","$location","$timeout","RouteHelpers","$state","$stateParams","FullScreen","Viewer",function(e,t,a,b,_,w,y,k,x,S,C,T,E,A,M,B){return{template:n(226),restrict:"EA",scope:{},link:function(n){function _(e,t){return l.Config.getHostProperty(e,t)}var S,T=!!_("args.demo"),E=!1,P=_("args.showminiimages","").toLowerCase(),D=_("args.showimages","").toLowerCase(),L=P||D;"true"===L&&(S=!0),"false"===L&&(S=!1);var I=_("args.noclickmonthgrid",!1);n.CalendarSearch=w,n.Viewer=B,n.stdLinkBehaviourOnly=n.CalendarSearch.onTockifySite,n.openLinksAsPopup=M.isEmbedded,B.showView(!0);var O=p.a.fixTZ,F=p.a.userTimezone;_("inIFrame",!1)&&(n.linkTarget="_blank"),n.pageState={};var z="YYYY MM DD",V=function(e,t){var n=e.format(z);return m.tz(n,z,t)};function R(e){var t=e.end,n=e.start,a=m.tz(n.millis,O(n.tzid)),i=t?m.tz(t.millis,O(n.tzid)):m.tz(n.millis,O(n.tzid)),r=w.calendar.tzid,o=F();e.allDay&&e.start.tzid!==r?(a=V(a,r),i=V(i,r)):!e.allDay&&E&&r!==o&&(a=V(m(a).tz(o),r),i=V(m(i).tz(o),r));var s=i.isSame(a,"day"),l=i.clone().hour(5).minute(1).second(0).millisecond(0),c=i.isSameOrBefore(l);return!s&&c&&(i.hour(0).minute(0).second(0).millisecond(0),i.subtract(1,"milliseconds")),{start:a,end:i}}var $=!1;n.updateAgendaData=function(){var e=w.calendar,a=B.settings;if(e&&a){var i=n.pageState.activeDay,r=O(e.tzid);if(i){var o=m.tz(r),s=+a.views.upcoming.agenda.maxEvents||3,c=l.Config.getHostProperty("args.maxEventsPerQuery",s);60<c&&(c=60);var d,u=0,p=i.dayMoment.isSame(o.format(),"day");if(e.channelMode&&p)d=function(e){if(c<=u)return!1;var t=!R(e.when).end.isBefore(o);return t&&u++,t};else switch(a.views.upcoming.agenda.listMode){case"singleDay":d=function(e){if(c<=u)return!1;var t=m.tz(i.dayMoment,r),n=m.tz(t,r).add(1,"day"),a=R(e.when),o=a.start.isBefore(n)&&a.end.isSameOrAfter(t);return o&&u++,o};break;case"startDay":d=function(e){if(c<=u)return!1;var t=m.tz(i.dayMoment,r),n=m.tz(t,r).add(1,"day"),a=R(e.when),o=a.start.isSameOrAfter(t)&&a.start.isBefore(n);return o&&u++,o};break;case"future":d=function(e){if(c<=u)return!1;var t=R(e.when),n=m.tz(i.dayMoment,r),a=t.start.isSameOrAfter(n);return a&&u++,a};break;case"all":case"upcoming":default:d=function(e){if(c<=u)return!1;var t=!R(e.when).end.isBefore(i.dayMoment);return t&&u++,t}}var f,v=n.eventData.events.filter(d),g=v.map((function(e){return e.sorter})).join(""),h=0<v.length&&g;h&&h===$||($=h,f="visitor"===a.showTimezone,n.formattedEvents=v.map((function(n){return t.format(n,e,!1,f)})),y.heightChanged())}}};var j=function(e,t){switch(e){case 3:return t%2==1;case 2:case 4:return 1<t;case 1:case 5:return 3<t;case 0:case 6:return 5<t}return!1};function N(e){if(w.calendar){n.asy=e.alwaysShowYear;var t=e.views.upcoming;n.showImages="boolean"==typeof S?S:t.agenda.showImages,n.openLinksAsPopup=M.isEmbedded&&!t.openInline,n.openInline=t.openInline;var a=o.a.getStyler("user"),i=a.queueRule;n.us=t;var s=[];s.push(t.textFont),f.a.loadFonts(s);var l=t.monthly.useInset,c=t.showBorder,d=!!t.monthly.showGrid,u=Object(g.isPrinting)()?800:+B.getAvailableWidth();n.availableWidth=u;var p=0;l&&300<u?p=450<u?20:10:l=!1,e.hideDate&&i(".upcomingListItem__when",{display:"none"});var _=t.showTopHighlightBar,k=u-2*p-2*(c?2:0);n.monthPattern=u<200?"MMM":"MMMM";var x=k%7,T=(k-x)/7,E=Math.ceil(.8*T),P=A.view,D=t.show;"month"===P?D="month":"agenda"===P?D="agenda":"both"===P&&(D=!1),n.showMonth="agenda"!==D,n.showAgenda="month"!==D;var L=t.backgroundColor,O=t.textColor,F=h(L).luminance(),z=.3<F?.05:.15,V=t.activeBackgroundColor||Object(v.h)(O,L,z).css(),R=Object(v.h)(O,V,.06).css(),$=t.highlightColor,N=.3<F?.15:.3,U=t.lineColor||Object(v.h)(O,L,N).css(),H=600<k?16:800<k?18:14,W=Object(v.h)(O,L,.7).css(),q=300<k?"ddd":"dd";n.days=w.calendar.weekDayOrder().map((function(e){var t=m().weekday(e).format(q);return k<250&&(t=t.substring(0,1)),{label:t,hasExcessPixel:!1}}));for(var Y=0;Y<7;Y++){var G=T+(j(Y,x)?1:0);i(".upcomingMonth__dayWrap.upcomingMonth__dayno-"+Y,{width:G+"px"}),i(".upcomingMonth__dayBar__day.upcomingMonth__dayno-"+Y,{width:G+"px"})}i(".upcomingView",{"font-size":H+"px"}),i(".upcomingMonth",{width:u+"px",background:V}),i(".upcomingBrand",{background:L,"border-color":U});var K=Object(v.h)(O,L,.5).css();i(Object(v.f)(".upcomingBrand ",v.c),{color:K}),i(Object(v.f)(".upcomingView__nav ",v.c),{color:O}),i(".upcomingMonth__dayWrap",{width:T+"px",background:L}),i(".upcomingMonth__week",{height:E+"px"}),i(".upcomingMonth__dayBar",{background:V,"line-height":H+"px"}),i(".upcomingMonth__dayBar__day",{width:T+"px","font-size":"0.9em","font-weight":"500","text-transform":"uppercase",color:$,"border-color":U}),i(".upcomingMonth__dayBar__day",l?{"padding-top":"0.25em","padding-bottom":"0.15em"}:{"padding-top":"0.25em","padding-bottom":"0.1em"}),
//!wrapped & borders -> no edges
//!wrapped & !orders -> edges
l||(i(".upcomingMonth__dayBar__day",{"border-left-width":"1px"}),c?i(".upcomingMonth__dayBar__day:first-child",{"border-left-width":"0px"}):i(".upcomingMonth__dayBar__day:last-child",{"border-right-width":"1px"})),t.showFullCalendarLink&&(i(".upcomingView__showFull",{display:"block"}),i(Object(v.f)(".upcomingView__showFull ",v.c),{color:O}));var Q,X=Object(v.g)(".upcomingView.l-text-font, .upcomingView .l-text-font",t.textFont),J=X.selector,Z=X.properties;i(J,Z),i(".active-day .upcomingMonth__dayHeader",{background:$,height:(375<k?3:150<k?2:0)+"px"}),d?i(".upcomingMonth__dayCell",{"border-color":U}):(i(".upcomingMonth__dayCell",{"border-style":"none"}),i(".upcomingMonth__dayBar__day",{"border-style":"none"}),l?i(".upcomingMonth__dayBar",{"padding-bottom":"10px"}):(i(".upcomingMonth__content",{"border-bottom":"1px solid "+U}),i(".upcomingMonth__dayBar",{"padding-bottom":(Q=k<275?2:5)+"px","padding-top":Q+"px"}))),c&&!l&&(i(".upcomingMonth__week .upcomingMonth__dayWrap:last-child .upcomingMonth__dayCell",{"border-right-width":"0"}),i(".upcomingMonth__week .upcomingMonth__dayWrap:first-child .upcomingMonth__dayCell",{"border-left-width":"0"})),i(Object(v.f)(".upcomingMonth__dayCell",v.d),{background:V}),i(".upcomingListItem",{background:L}),i(".upcomingListItemWrap",{"border-color":U}),"right"===t.agenda.imagePosition&&(i(".upcomingListItem__image",{float:"right"}),i(".upcomingListItem__image__wrap",{margin:"0.5em 0em 0.5em 0.8em"})),t.monthly.fadeOutOfMonth&&i(".upcomingMonth__dayWrap.is-otherMonth",{background:V,color:W}),t.monthly.fadeWeekend&&i(".upcomingMonth__dayWrap.is-weekend",{background:V,color:W}),"circle"===t.agenda.imageShape&&i(".upcomingListItem__image__wrap",{"border-radius":"1000px"}),i(Object(v.f)(".upcomingListItem.is-link",v.d),{background:V});var ee,te,ne,ae,ie,re,oe,se,le,ce,de=t.monthly.todayBackgroundColor||$,ue=t.monthly.todayTextColor||h(L).alpha(1).css(),pe=t.monthly.eventsIndicatorStyle,fe="color"===pe,ve="underline"===pe,ge="brTriangle"===pe,he="block"===pe,me="outline"===pe;he?(ee=t.monthly.todayTextColor||O,i(".upcomingMonth__dayWrap.is-today  .l-centered-inner",{"padding-bottom":(250<=k?3:1)+"px","min-width":"1.3em","border-bottom":(te=225<=k?2:1)+"px solid "+ee,color:ee}),i(".upcomingMonth__dayWrap.is-today.has-events  .l-centered-inner",{"border-bottom":te+"px solid "+ue,color:ue})):i(".upcomingMonth__dayWrap.is-today .upcomingMonth__dayCell",{background:de,color:ue}),he&&i(".upcomingMonth__dayWrap.has-events .upcomingMonth__dayCell",{background:$,color:L}),(me||ve)&&(250<k?(me?ae=T<40?(ne=1.6,1.4):T<43?(ne=1.6,1.5):T<50?(ne=1.7,1.6):T<60?(ne=1.9,1.7):T<100?.9*(ne=T/100*3):.9*(ne=T/100*2.6):ve&&(ne=1.35,ae=1.6),ie=Math.floor((T-ne*H)/2),re=Math.floor((E-ae*H)/2),oe="".concat(re,"px ").concat(ie,"px"),le=".upcomingMonth__dayCell"+" .l-centered",i((se=".upcomingMonth__dayWrap.has-events")+" .upcomingMonth__dayCell",{padding:oe}),ce={border:"1px solid "+$,"text-align":"center",height:"100%",position:"relative",transform:"none",top:0},ve?ce["border-width"]="0 0 2px 0":ce["border-radius"]="3px",i(se+" "+le,ce),i(".upcomingMonth__dayWrap.has-events.is-today "+le,{"border-color":ue}),i(se+" .upcomingMonth__dayCell .l-centered .l-centered-inner",{display:"block","text-align":"center",position:"relative",top:"50%",transform:"translateY(-50%)"})):fe=!0),ge&&250<=k?(i(".upcomingMonth__dayCell .l-corner",{display:"none",position:"absolute",bottom:"0",right:"0",width:"0",height:"0","border-style":"solid","border-width":"0 0 7px 7px"}),i(".has-events .upcomingMonth__dayCell .l-corner",{display:"block","border-color":"transparent transparent "+$+" transparent"}),i(".is-today.has-events .upcomingMonth__dayCell .l-corner",{display:"block","border-color":"transparent transparent "+ue+" transparent"})):fe=!0,fe&&i(".has-events.upcomingMonth__dayWrap",{color:$}),i(".has-events .upcomingMonth__eventIndicator",{background:$,"border-radius":"30px"}),i(".is-today.has-events .upcomingMonth__eventIndicator",{background:ue}),i(".upcomingView",{color:O,width:u+0+"px"}),i(".upcomingMonth__content",{padding:p+"px","background-color":V}),l&&"agenda"!==t.show&&i(".upcomingListItemWrap:first-child",{"border-top":"1px solid "+U});var be=t.monthly.headerBGColor||L,_e=t.monthly.headerDateColor||O,we=c&&!t.monthly.headerBGColor?1:0;i(".upcomingMonth__header",{width:"100%",background:be,color:_e,border:we+"px solid "+U,"border-bottom-width":0,"border-top-width":(_?0:we)+"px"});var ye=t.monthly.headerLinkColor||$;i(Object(v.f)(".upcomingMonth__header ",[".l-prev",".l-next"]),{color:ye});var ke=300<u?5:3,xe={background:L};_&&(xe["border-bottom-style"]="solid",xe["border-bottom-color"]=$,xe["border-bottom-width"]=ke+"px"),i(".upcomingView__nav",xe);var Se=l||n.showAgenda?1:0,Ce=n.showMonth&&t.monthly.headerBGColor?0:1;c&&(i(".upcomingListItemWrap:last-child",{"border-bottom":"0px solid "+U}),i(".upcomingView__Content",{"border-style":"solid","border-color":U,"border-width":0}),i(".upcomingView__Body",{"border-style":"solid","border-color":U,"border-width":Ce+"px 1px "+Se+"px 1px"})),i(".upcomingListItem",{padding:"0 10px"}),i(".upcoming__ripple .angular-ripple",{background:R}),I&&i(".upcomingMonth__dayWrap",{"pointer-events":"none"}),b.applyTagStyles({tagColor:$,scope:".upcomingListItem"});var Te=e.tagcolors||{};t.showTagBar&&(r.a.each(Te,(function(e,t){var n=b.toSafeTag(t);i(".upcomingViewListItem__tagColor--"+n,{background:e})})),i(".upcomingViewListItem__tagColor",{background:$}),i(".upcomingViewListItem__tagColor",{display:"block"}),i(".upcomingListItem__image",{"margin-left":"3px"})),i(".upcomingListItem__title a, .upcomingListItem__summary a.l-vloc",{color:$}),i(Object(v.f)(".upcomingListItem__title a",v.d),{color:$}),t.useTagColorsInTitles&&r.a.each(Te,(function(e,t){var n=b.toSafeTag(t),a=e;i(".upcomingListItem__title.upcomingListItem__title--"+n+" a",{color:a}),i(Object(v.f)(".upcomingListItem__title .upcomingListItem__title--"+n+" a",v.d),{color:a})})),t.monthly.useFirstTagColor&&r.a.each(Te,(function(e,t){var n=".upcomingMonth__dayWrap.upcomingMonth__dayWrap--"+b.toSafeTag(t),a=e;i(n+".has-events",{color:a}),i(n+".is-today .upcomingMonth__dayCell",{background:a}),(me||l)&&i(n+".has-events .upcomingMonth__dayCell .l-centered",{"border-color":a}),ge&&i(n+".has-events .upcomingMonth__dayCell .l-corner",{"border-color":"transparent transparent "+a}),he&&i(n+".has-events .upcomingMonth__dayCell",{background:a})})),a.applyRules(),n.dateFormat="D",C((function(){n.$apply(),y.heightChanged()}),0)}}function U(){n.bounds=W()}function H(){N(B.settings)}function W(){n.refMoment=m.tz(w.refTime.startms,n.calendar.tzid);for(var e=w.calendar.getWkStart(),t=m.tz({year:n.refMoment.year(),month:n.refMoment.month(),date:1,hour:3},n.calendar.tzid),a=(t.day()-e+7)%7,i=m(t).subtract(a,"days"),r=m(i);r.add(1,"week"),t.month()===r.month(););var o=t.year()+":"+t.month()+":"+e;return{id:o,monthStart:t,startMoment:i,endMoment:r,monthString:t.format("MMMM"),yearString:t.format("YYYY"),query:{passback:o,startms:m(i).startOf("day").add(-1,"days").valueOf(),"start-inclusive":!0,"end-inclusive":!0,endms:m(r).startOf("day").valueOf()}}}n.initialized=!1,n.$watch("CalendarSearch.loaded",(function(e,t){"boolean"!=typeof e||n.initialized&&e===t||e&&(n.settings=B.settings,n.calendar=w.calendar,c.a.trackPage(n.calendar.displayName),E="visitor"===B.settings.showTimezone,n.initialized=!0,n.style=N(B.settings),U(),n.loadMonth(!0),n.$watch("CalendarSearch.calendar",(function(e,t){var a=w.loaded&&!i.a.equals(e,t);n.calendar=e,a&&(U(),n.loadMonth(!0))})),n.$watch("CalendarSearch.searchFilter",(function(e,t){w.loaded&&!i.a.equals(e,t)&&n.loadMonth(!0)}),!0),n.$watch("CalendarSearch.refTime",(function(e,t){w.loaded&&!i.a.equals(e,t)&&(n.bounds=W(),n.loadMonth(!0))}),!0),n.$watch("Viewer.settings",(function(e,t){w.loaded&&!i.a.equals(e,t)&&(n.style=N(B.settings),n.settings=e,E="visitor"===e.showTimezone)}),!0))})),document.addEventListener("restyle",H),n.$on("$destroy",(function(){document.removeEventListener("restyle",H),n.isDestroyed=!0})),n.loadMonth=function(t){n.isEditor&&(t=!1);var i=w.calendar,r=w.refTime,o=w.searchFilter;if(i&&r&&r.startms&&o){var l={};if(Object.assign(l,{view:"upcoming",calname:i.name,max:-1,"max-events-after":12,showAll:T},o,n.bounds.query),l.calname=i.name,t){var c=e;if(c&&c.eventData)return B.showView(!1),y.updateHeight(B.embedHeight),p(c.eventData),function(){var e,t,i,r=a.previousStateParams();r.tid&&r.uid?(e=r.rid||0,t="eid_"+r.uid+"_"+r.tid+"_"+e,i=0,function e(){if(null!==document.querySelector("#"+t))return n.openLinksAsPopup?k.embedScrollTop(B.scrollPos):d.a.windowScrollY(B.scrollPos),B.scrollPos=0,void B.showView(!0);var a=d.a.windowScrollY();i<20&&!n.openInline&&(n.openLinksAsPopup||a!==B.scrollPos)?(i++,C(e,100)):(B.scrollPos=0,d.a.windowScrollY(B.scrollPos),C((function(){return B.showView(!0)}),0))}()):(B.scrollPos=0,B.showView(!0))}(),void delete c.eventData}x.spinner.open(),u.a.queryAndSave(l).then((function(e){x.spinner.close(),p(e)})).catch((function(){x.spinner.close()}))}function p(t){var a,r;return(t.passback===n.bounds.id||"boot"===t.passback)&&(n.eventData=t,n.grid=function(e){for(var t,a=n.bounds.startMoment,i=n.bounds.monthStart,r=m.tz(e),o=[],s=m(a),l=0,c=m.tz(n.settings.defaultStartDate,q,e),d=0;o.push(function(){for(var e=[],n=0;n<7;n++){var a=[];s.month()===i.month()?a.push("is-thisMonth"):a.push("is-otherMonth");var o=s.day();(0===o||6===o)&&a.push("is-weekend"),s.isSame(r.format(),"day")&&(a.push("is-today"),l=7*d+n);var u=a.join(" "),p=m(s).startOf("day"),f=7*d+n;c&&c.isSame(p,"day")&&(t=f),e.push({index:f,dayMoment:p,eventCount:0,cssClasses:u}),s.add(1,"days")}return e}()),d++,s.month()===i.month(););function u(e){var t=Math.floor(e/7),n=e%7;return o[t][n]}return t&&(l=t),{weeks:o,maxIndex:n.bounds.endMoment.diff(n.bounds.startMoment,"days"),initialActiveDay:u(l),id:n.bounds.id,getDay:function(e,t){return o[e][t]},getDayByIndex:u,clearStrips:function(){o.forEach((function(e){e.forEach((function(e){e.eventCount=0}))}))}}}(i.tzid),n.pageState.activeDay=e.activeDay||n.grid.initialActiveDay,delete e.activeDay,n.updateAgendaData(),a=t.events,r=n.grid,a.map((function(e){var t=R(e.when);function a(e){return m(e).tz(w.calendar.tzid).startOf("day")}var i=a(t.start).diff(a(n.bounds.startMoment),"days"),o=a(t.end).diff(a(n.bounds.startMoment),"days")+1;o>r.maxIndex&&(o=r.maxIndex),i<0&&(i=0);for(var l=Object(s.i)(e,"content.tagset.tags.default.0"),c=i;c<o;c++){var d=n.grid.getDayByIndex(c);!d.firstTag&&l&&(d.firstTag=l,d.cssClasses=d.cssClasses+" upcomingMonth__dayWrap--"+b.toSafeTag(l)),d.firstTag=d.firstTag||l,d.eventCount++}})),y.heightChanged(),1)}};var q="YYYYMMDD";n.$watch("settings.views.upcoming.agenda.maxEvents",(function(e,t){e&&e!==t&&n.eventData&&($=!1,n.updateAgendaData())})),n.$watch("settings.views.upcoming.agenda.listMode",(function(e,t){e&&e!==t&&n.eventData&&($=!1,n.updateAgendaData())})),n.$watch("settings",(function(e,t){e&&e!==t&&n.eventData&&($=!1,n.updateAgendaData())}))},controller:["$scope",function(t){function n(e){M.isEmbedded?M.openPath(e):window.location.assign(e)}function a(e){var a=B.getDefaultView(t.settings,!1),i=e.dayMoment.valueOf();n(E.href("^."+a,{startms:i,checkNarrow:!1}))}function r(e){setTimeout((function(){w.refTime.startms=+e,E.go(".",{startms:+e},{notify:!1})}),0)}t.detailSRef=T.detailSRef,t.getImageUrl=function(e){var n=t.settings.views.upcoming.agenda.imageShape;return"square"===n||"circle"===n?e.thumbURL:e.imageURL},t.$watch("pageState.activeDay",(function(e,n){e&&e!==n&&t.updateAgendaData()})),t.openFullScreen=function(){var e=B.getDefaultView(t.settings,!1);n(E.href("^."+e,{checkNarrow:!1}))},t.clickedDayInGrid=function(e){t.showAgenda?t.pageState.activeDay=e:a(e)},t.doubleClickedDayInGrid=function(e){a(e)},t.btz=p.a.timezone,t.saveState=function(){e.eventData=i.a.copy(t.eventData),e.activeDay=t.pageState.activeDay},t.clickedEvent=function(e,n){var a,i,r,o,s;n&&n.stopPropagation(),t.openLinksAsPopup&&n.preventDefault(),t.stdLinkBehaviourOnly||!e.noDetail?(t.saveState(),M.isEmbedded?(k.requestEmbedScrollTop(),B.embedHeight=y.getHeight()):B.scrollPos=d.a.windowScrollY(),e&&(i=(a=T.toDetailStateArgs(e.event.eid)).route,r=a.params,t.openLinksAsPopup?(o=E.href(i,r),M.openPath(o)):E.go(i,r))):(n.preventDefault(),s=t.settings.ctaButton.target||"_top",window.open(e.customButtonLink,s))},t.clickedOpenFull=function(e){e&&e.preventDefault();var t=E.href("^");M.openPath(t)},t.fwdMonth=Object(s.d)((function(e){r(m(w.refTime.startms).tz(w.calendar.tzid).add(e,"month").date(1).valueOf())}),150),t.bwdMonth=Object(s.d)((function(e){r(m(w.refTime.startms).tz(w.calendar.tzid).subtract(e,"month").date(1).valueOf())}),150),t.openSubscribeToCalendar=function(e){e&&e.preventDefault(),_.openSubscribeToCalendar()}}]}}])},function(e,t){e.exports='<div class="upcomingView l-text-font">\n  <div class="upcomingView__nav">\n\n    <div class="upcomingView__nav__right">\n      <div ng-if="settings.views.upcoming.showSubscribe">\n        <a class="l-mobile-hide" href=""\n           ng-click="openSubscribeToCalendar($event)" translate="subscribe"></a>\n      </div>\n    </div>\n    \x3c!-- showSubscribe--\x3e\n    \x3c!--<button class="btn btn-siteform">Press Me</button>--\x3e\n    \x3c!--<div ng-if="calendar.effectiveFeatureLevel > 0" class="upcomingView__headerBar"></div>--\x3e\n  </div>\n  <div class="upcomingView__Content" ng-class="{noselect:(settings.noCopy)}">\n    <div class="upcomingMonth" ng-if="initialized">\n      <div class="upcomingMonth__header" ng-if="calendar.effectiveFeatureLevel > 0 && showMonth">\n        <div class="l-prev" ng-click="bwdMonth()">\n          <div class="l-center" translate="prev"></div>\n        </div>\n        <div class="l-date">\n          <div class="l-center">\n            <div class="l-month">{{bounds.monthStart.format(monthPattern)}}</div>\n            <div class="l-year">{{bounds.yearString}}</div>\n          </div>\n        </div>\n        <div class="l-next" ng-click="fwdMonth()">\n          <div class="l-center" translate="next"></div>\n        </div>\n      </div>\n      <div class="upcomingView__Body">\n        <div class="upcomingMonth__content" ng-if="calendar.effectiveFeatureLevel > 0 && showMonth">\n          <div class="upcomingMonth__dayBar clearfix">\n            <div class="upcomingMonth__dayBar__day upcomingMonth__dayno-{{$index}}" ng-repeat="day in days">\n              {{day.label}}\n            </div>\n          </div>\n          <div class="upcomingMonth__week" ng-repeat="week in grid.weeks">\n\n            <div\n                class="upcomingMonth__dayWrap upcomingMonth__dayno-{{$index}}\n                {{pageState.activeDay.index}}\n        {{(day.index === pageState.activeDay.index)?\'active-day\':\'\'}}\n        {{day.eventCount > 0?\'has-events\':\'\'}}\n        {{day.cssClasses}}\n        "\n                ng-click="clickedDayInGrid(day)"\n                ng-dblclick="doubleClickedDayInGrid(day)"\n                ng-repeat="day in week" on-long-press="doubleClickedDayInGrid(day)"\n                press-time="400">\n              <div class="upcomingMonth__dayHeader"></div>\n\n              <div angular-ripple\n                   ng-class="{\'upcomingMonth__dayCell upcoming__ripple l-ripple--fast\':true, \'l-ripple--off\':showAgenda}">\n                <div class="l-centered">\n                  <div class="l-centered-inner">\n                    <div class="upcomingMonth__date">\n                      {{day.dayMoment.format(dateFormat)}}\n                    </div>\n                    \x3c!--<div class="upcomingMonth__eventCount">--\x3e\n                    \x3c!--{{day.eventCount}}--\x3e\n                    \x3c!--</div>--\x3e\n                    \x3c!--<div class="upcomingMonth__eventIndicator">--\x3e\n                    \x3c!--</div>--\x3e\n                  </div>\n                </div>\n                <div class="l-corner"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="upcomingList" ng-if="showAgenda">\n          <div class="upcomingListItemWrap"\n               ng-if="formattedEvents.length === 0 && settings.views.upcoming.agenda.showNoEvents">\n            <div class="upcomingListItem">\n              <div class="upcomingList__empty" translate="noEventsFound"></div>\n            </div>\n          </div>\n          <div class="upcomingListItemWrap"\n               id="{{::\'eid_\' + ev.event.eid.uid + \'_\' + ev.event.eid.tid + \'_\' + ev.event.eid.rid}}"\n               ng-if="calendar.effectiveFeatureLevel <= 0"\n               ng-repeat="ev in formattedEvents | orderBy:\'startMillis\'">\n            <div class="upcomingListItem__free">\n              <div class="upcomingListItem__summary">\n                <div class="upcomingListItem__title">\n                  <span ng-bind-html="ev.title"></span>\n                </div>\n\n                <div class=" upcomingListItem__when">\n                  <span class="viewers__different-year-label"\n                        ng-if="(asy || !ev.startsThisYear)">{{ev.startYear}}</span>\n                  <span>{{ev.longStartDate}}</span>\n                  <span> {{ev.startTime}}</span>\n\n                  <span ng-if="ev.hasEnd"> - {{ev.longEndDate}} {{ev.endTime}}</span>\n                  \x3c!--<span ng-if="showTimezone(ev.timezone)">({{ev.shortTimezone}})</span>--\x3e\n                  <span\n                      ng-if="settings.showTimezone === \'always\' || (settings.showTimezone === \'different\' && ev.timezone !== btz)">({{ev.shortTimezone}})</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="upcomingListItemWrap"\n               id="{{::ev.event.eid.uid + \'_\' + ev.event.eid.tid + \'_\' + ev.event.eid.rid}}"\n               ng-click="clickedEvent(ev,$event)"\n               ng-if="calendar.effectiveFeatureLevel > 0" ng-repeat="ev in formattedEvents | orderBy:\'startMillis\'">\n            <div class="upcomingViewListItem__tagColor upcomingViewListItem__tagColor--{{ev.colorTag}}"></div>\n            <div angular-ripple class="upcomingListItem is-link upcoming__ripple">\n              <div style="position:relative">\n                <div class="upcomingListItem__image " ng-if="showImages">\n                  <div class="upcomingListItem__image__wrap">\n                    <img alt="{{ev.imageAlt}}" class="upcomingListItem__image__img"\n                         ng-if="ev.hasImage"\n                         src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="\n                         tk-src="{{getImageUrl(ev)}}"\n                    >\n\n                    <div class="upcomingListItem__image__img upcomingListItem__image__img--placeholder"\n                         ng-if="!ev.hasImage"></div>\n                  </div>\n                </div>\n\n                <div class="upcomingListItem__summary">\n                  <div class="upcomingListItem__title upcomingListItem__title--{{ev.colorTag}}">\n                    <a ng-bind-html="ev.title" ng-click="$event.preventDefault();"\n                       ng-if="!ev.noDetail || stdLinkBehaviourOnly" ui-sref="{{::detailSRef(ev.event.eid)}}"></a>\n                    <a ng-bind-html="ev.title" ng-href="{{ev.customButtonLink}}"\n                       ng-if="ev.noDetail && !stdLinkBehaviourOnly"></a>\n                  </div>\n\n                  <div class=" upcomingListItem__when">\n                    <span class="viewers__different-year-label"\n                          ng-if="(asy || !ev.startsThisYear)">{{ev.startYear}}</span>\n                    <span>{{ev.longStartDate}}</span>\n                    <span> {{ev.startTime}}</span>\n\n                    <span ng-if="ev.hasEnd"> - {{ev.longEndDate}} {{ev.endTime}}</span>\n                    <span\n                        ng-if="settings.showTimezone === \'always\' || (settings.showTimezone === \'different\' && ev.timezone !== btz)">({{ev.shortTimezone}})</span>\n                    <span ng-if="settings.showTimezone === \'visitor\'">({{ev.visitorTimezone}})</span>\n                  </div>\n\n                  <div>\n                    <div class="status__agenda l-mini status__cancelled" ng-if="ev.cancelled"\n                         translate="cancelled"></div>\n                    <div class="status__agenda l-mini status__rescheduled" ng-if="ev.rescheduled"\n                    >{{ev.rescheduledLabel | translate}} {{ev.rescheduledWhen}}\n                    </div>\n                    <div class="status__agenda l-mini status__postponed" ng-if="ev.postponed"\n                         translate="postponedTBA"></div>\n                    <div class="status__agenda l-mini status__movedOnline" ng-if="ev.movedOnline"\n                         translate="movedOnline"></div>\n                  </div>\n\n                  <div class="upcomingListItem__what"\n                       ng-bind="ev.preview" ng-if="settings.views.upcoming.agenda.showPreview"></div>\n                  <div class="upcomingListItem__where" ng-if="us.agenda.showAddress">\n                    <span class="c-place" ng-bind-html="ev.where.place" ng-if="ev.where.place"></span><span\n                      ng-if="ev.where.place && ev.where.address">,&nbsp;</span><span\n                      class="c-address" ng-bind-html="ev.where.address" ng-if="ev.where.address"></span>\n                  </div>\n                  <div class="upcomingListItem__where" ng-if="us.agenda.showAddress && ev.virtualLocUrl">\n                    <label>{{\'onlineLocation\' | translate }}:</label>&nbsp;<a class="l-vloc"\n                                                                              ng-href="{{ev.virtualLocUrl}}"\n                                                                              target="_blank">{{ev.virtualLocName}}</a>\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n  <div angular-ripple class="upcomingView__showFull upcoming__ripple" ng-click="openFullScreen()">\n    <a class="upcomingView__openFullText" ng-click="$event.preventDefault();"\n       translate="openFullCalendar" ui-sref="^"></a></div>\n  <div class="upcomingBrand"\n       ng-if="false && calendar.effectiveFeatureLevel > 0 && calendar.effectiveFeatureLevel < 200 ">\n    <a href="https://tockify.com"\n       ng-class="{\'u-pullRight  branding-subtle\':true, \'is-fullscreen\':isFullScreen, \'is-embedded\':isEmbedded, \'is-standalone\':isStandalone}"\n       target="_blank"\n       translate="calendarByTockify"></a>\n  </div>\n\n</div>'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").directive("stopEvent",(function(){return{restrict:"A",link:function(e,t,n){t.on(n.stopEvent,(function(e){e.stopPropagation()}))}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").service("WatchHeight",["$timeout","CrossDomainWrapper",function(e,t){var n,a,i=this,r=0;this.getHeight=function(){if(n&&document.documentElement.contains(n)||(n=document.querySelector(".viewerArea")),n){var e=n.offsetHeight+n.offsetTop;return Math.ceil(e)}return 0},this.heightChanged=function(){},this.updateHeight=function(e){setTimeout((function(){var n,o=e||i.getHeight();r!==o&&(n=r=o,a&&(window.clearInterval(a),a=void 0),t.sendDimensions(n))}),0)},setInterval(this.updateHeight,50)}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").controller("MainCtrl",["$scope","Dialog","tkfNotify","$injector","tkfErrors","$location","FullScreen",function(e,t,n,a,i,r,o){e.embedded=o.isEmbedded,e.notifier=n,e.Dialog=t,e.errors=i,e.popup=n.popup,e.messaging=n.messaging,e.closeFullScreen=function(e){o.isFullScreen&&"tkf-body"===e.target.id&&o.close()}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1),o=n(4),s=n(9),l=n(22);i.a.module("tkfngViewer").service("CalendarSearch",["$stateParams","$state","Calendar","$timeout","LocaleCentral","StatusCodeHandler","Viewer","Translation","Auth","FullScreen",function(e,t,n,a,i,c,d,u,p,f){var v=this,g=r.Config.getHostProperty("parentDomain"),h="localhost"===g||"tockify.com"===g;this.onTockifySite=h,this.selectEvent=function(e){var t,n=e.uid,a=e.tid,i=e.rid,r=e.tags,o=e.search,s=e.startms,l=e.calname;i=+i||0,a=+a;this.eid={uid:n,seq:0,tid:a,rid:i},(r||o||s)&&(t={calname:l,max:1,"start-inclusive":!0},r&&(t.tags=r),o&&(t.search=o),t.startms=t.startms||(new Date).getTime(),this.query=t)},this.selectGroup=function(e){this.uid=e},this.clearEvent=function(){this.eid=null,this.uid=null},this.snapshot=function(){var e=v.calendar,t=v.searchFilter,n=v.refTime,a=d.settings,i=v.eid,r=v.query;return!!(e&&t&&n&&n.startms&&a)&&{calendar:e,searchFilter:t,refTime:n,settings:a,eid:i,query:r}},this.updateFilterFromQuery=function(t){v.searchFilter={search:e.search,tags:e.tags};var n=+e.startms;Object(o.f)(n)||(n=m(t)),v.refTime={startms:n}},this.loadSearchFromQuery=function(){var t;v.searchFilter={search:e.search,tags:e.tags},v.calKey=e.calname,v.uid=null,v.eid=null,e.uid&&e.tid?(t=+e.rid||0,v.eid={uid:e.uid,tid:+e.tid,rid:t}):e.uid&&(v.uid=e.uid);var n=+e.startms;Object(o.f)(n)?v.refTime={startms:n}:v.refTime={}};var m=function(e){return d.settings.defaultStartDate?(a=v.calendar.tzid,i=d.settings.defaultStartDate,l.tz(i,"YYYYMMDD",a).valueOf()):e?(n=v.calendar.tzid,l.tz(n).valueOf()):(t=v.calendar.tzid,l.tz(t).startOf("day").valueOf());var t,n,a,i};this.loadCalendar=function(e,a){var r=this,o=a.view,l="upcoming"===o,v=""===o;if(this.loaded=!1,e?(this.calKey=e.calKey,this.refTime=e.refTime||{startms:(new Date).getTime()},this.searchFilter=e.searchFilter,this.eid=e.eid):this.loadSearchFromQuery(),this.calendar=null,this.calKey){var g,b=0===t.current.name.indexOf("edit");return n.getPromise(this.calKey).then((function(e){g=e,h&&(e.effectiveFeatureLevel=200);var t=e.effectiveFeatureLevel<=0,n="online"===e.status.name,a=Promise.resolve(!0);b||n||(a=f.isEmbedded&&!h?Promise.resolve(!1):p.getCurrentUser(!1).then((function(t){return t.calendars.includes(e._id)})).catch((function(){return!1})));var i=l&&e.minithemeid||e.ngthemeid;return a.then((function(e){if(e)return d.loadTheme({themeId:i,isFree:t,isEditor:b,apply:l});c.pageNotFound()}))})).then((function(e){var t=g.effectiveFeatureLevel<=0;return v&&g.minithemeid&&"upcoming"===d.getDefaultView(d.settings)?d.loadTheme({themeId:g.minithemeid,isFree:t,isEditor:b,apply:!1,withView:"upcoming"}):e})).then((function(){return d.applyTheme(),g.tzid=s.a.fixTZ(g.tzid),i.updateLocale(g.locale,d.settings.useClientDateFormat)})).then((function(){r.direction=u.direction(),r.calendar=g,r.refTime.startms||(r.refTime.startms=m(g.channelMode)),r.loaded=!0})).catch((function(e){c.pageNotFound()}))}this.loaded=!0}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(10);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}i.a.module("tkfngViewer").service("CrossDomainWrapper",["$state","$stateParams","$location","$timeout",function(e,t,n,a){var i=this;this.sendDimensions=function(e){o.a.postMessage({type:"embed-dimensions",height:e,guid:window.name})},this.showFullScreen=function(){o.a.postMessage({type:"show-full-screen",guid:window.name})},o.a.addHandler("custom-html-resize",(function(e){var t=e.iframeId,n=e.newHeight,a=document.querySelector("#"+t);a&&(a.style.height=n+"px")})),this.requestHostInfo=function(e){o.a.addHandler("host-info",(function(t){return e(t)})),o.a.postMessage({type:"request-host-info"})},this.onNavigate=null,o.a.addHandler("navigate",(function(e){i.onNavigate&&i.onNavigate(e.eventPath)})),this.onUpdateState=null,o.a.addHandler("update-state",(function(e){i.onUpdateState&&i.onUpdateState(e.stateParams)})),this.cancelStateChange=!1,this.stateChange=function(e){this.cancelStateChange?this.cancelStateChange=!1:o.a.postMessage({type:"state-change",stateChange:e,guid:window.name})},this.openPopup=function(e,t){o.a.postMessage({type:"open-popup",popup:e,args:t,guid:window.name})},this.openFiller=function(e,t){o.a.postMessage({type:"open-popup",popup:e,args:t,guid:window.name})};var l=[],c={};this.addPopupHandler=function(e,t){var n,a,i,o,d;c[e]=t,n=e,a=t,o=(i=s(r.a.partition(l,(function(e){return e.popup===n})),2))[0],d=i[1],l=d,o.forEach((function(e){a(e.args,e.guid)}))},o.a.addHandler("open-popup",(function(e){var t=c[e.popup];t?t(e.args,e.guid):l.push(e)})),this.embedScrollTop=function(e){o.a.postMessage({type:"embed-scrolltop",scrollTop:e,guid:window.name})},this.requestEmbedScrollTop=function(){o.a.postMessage({type:"get-embed-scrolltop",guid:window.name})},this.onUpdateState=function(t){try{e.go(t.state||".",t.stateparams,{reload:!0})}catch(n){e.go("viewers.inter",t.stateparams,{reload:!0})}},this.onNavigate=function(e){var t=e;n.path()!==t&&a((function(){return function(){return n.url(t)}}),0)}}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").service("DefaultTheme",["$q",function(e){function t(){return{name:"light",settings:n,userid:"SHARED_THEME"}}var n={showContinuingEvents:!0,defaultView:"pinboard",showImages:!0,linkColor:"rgb(255, 96, 85)",margin:{top:0,bottom:0,sides:0},padding:{sides:10,top:10,bottom:30},tagStyle:"minimal",fontSize:14,theme:"",background:"#ffffff",transparentWhenEmbedded:!1,textColor:"#222","textColor--subdued":"#666",textFont:{family:"Roboto",style:"normal",weight:400},headerFont:{family:"Helvetica",weight:400,style:"normal"},dateFont:{family:"Merriweather",weight:700,style:"normal"},navbar:{style:"light",gradient:!1,background:"#f7f4ef",borderColor:!1,color:"#331e17",buttonBackground:"#ffffff",buttonColor:"#331e17",buttonBorderColor:"#cdc6c3",activeButtonBackground:"#eae3df",activeButtonColor:"#331e17"},views:{detail:{saveShareStyle:"subtle"},agenda:{separatorColor:"#e3d9d5",separatorWidth:"1",imagePosition:"left",imageShape:"circle",imageOuterBorderWidth:"0"},pinboard:{gutter:16,borderRadius:"8",showBorders:!0,borderColor:"#dddddd",cardLayout:"fill",cardBackground:!1,cardColor:!1,linkColor:!1},monthly:{gutter:5,gridStyle:"minimal",gridColor:!1,stripOutline:"full",stripEndRadius:"0",singleDayAsText:!1,dowPattern:"dddd",shortDowPattern:"dddd",domPattern:"D",visibleStrips:!1,stripTime:"before",show:!0,stripBackground:"rgb(255,242,241)",stripBorderColor:"rgb(250, 217, 215)",stripColor:"rgb(253, 102, 102)"},upcoming:{show:"both",backgroundColor:"#fff",textColor:"#333",highlightColor:"rgb(255, 75, 52)",showTopHighlightBar:!0,showBorder:!0,agenda:{maxEvents:3,showImages:!0,imagePosition:"left",imageShape:"circle",showPreview:!1,showWhere:!1},monthly:{useInset:!0,fadeOutOfMonth:!0}}}};this.getTheme=t,this.PROMISE=e.when(t())}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a);i.a.module("tkfngViewer").service("Dialog",["$timeout","$compile","$location",function(e,t,n){var a=void 0!==history.pushState,r=document.querySelector(".tkf__overlays"),o=i.a.element(r),s=0;function l(e){return'<div ng-if="viewState.show" class="tkf__overlay__layer {{presentationClass}}" ng-cloak>\n        <div class="tkf__popup" ng-click="externalCloser && closePopup()">\n        <div class="tkf__popup__content-wrapper">\n        <div ng-if="externalCloser || crossCloser" class="tkf__popup__closebar"><i \n        ng-click="$event.stopPropagation();closePopup()"\n        class="flaticon-cross"></i></div>\n        <div class="tkf__popup__content" ng-click="$event.stopPropagation()">\n        '.concat(e,"\n        </div></div></div>\n        </div>")}function c(e){return'<div ng-if="viewState.show" class="tkf__overlay__layer {{presentationClass}}" ng-cloak>\n        '.concat(e,"\n        </div>")}n.hash(""),this.open=function(e,t){var n=new d(e,t,s++);return n.open(),n};var d=function(n,r,s){var d,u=this,p=r["z-index"]||"auto",f=i.a.element('<div class="tkf__overlay" overlay-counter="c'.concat(s,'" style="z-index:').concat(p,'"></div>'));o.append(f),u.open=function(){(d=n.$new()).viewState={show:!1},d.closePopup=function(){return u.close(!1)},n.closePopup=d.closePopup,"boolean"!=typeof r.externalCloser&&(r.externalCloser=!0),d.externalCloser=r.externalCloser,d.crossCloser=!!r.crossCloser;var a=l,o=[];"fullscreen"===r.mode&&(a=c),r.animation&&o.push("tkf__dialog__animation__"+r.animation),r.includeInHistory&&(location.hash="#dialog-open",window.onhashchange=function(){location.hash||u.close(!0)});var s=i.a.element(a(r.template));t(s)(d,(function(t){f.append(t),e((function(){d.viewState.show=!0,d.presentationClass=o.join(" ")}),0)}))},u.close=function(t){r.includeInHistory&&(window.onhashchange=null,!t&&a&&history.back()),e((function(){d.viewState.show=!1}),0);var n=r.closeWait||1e3;e((function(){d.$destroy(),f.remove(),r.onClose&&r.onClose()}),n)}}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(4),s=n(16),l=n(9),c=n(22);i.a.module("tkfngViewer").provider("EventFormatter",(function(){var e,t,n,a,i,d,u="ltr";function p(e){a=e.longDateFormat.slice(0,3).map((function(e){return e.value})).join(" "),i=e.longDateFormat.find((function(e){return"dayOfMonth"===e.key})).value,n=e.hourMinuteSeparator||":",d=e.eventsFromDateFormat,u=e.direction||"ltr",t=e}this.setDefaultLocaleInfo=function(t){p(e=t)},this.$get=["RouteHelpers","ViewerEmbedTools","$sce",function(f,v,g){return new function(){this.expandDesc=function(e,t){var n=v.toEmbedCodeFilter(e.content.description.text,t,{imageSets:e.content.imageSets,description:function(e){var t=0<arguments.length&&void 0!==e?e:"";if(-1===t.indexOf("<")&&-1===t.indexOf(">"))return t;var n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}(e.content.summary.text)});return g.trustAsHtml(n)},this.formatEventsFromDate=function(e){return e.format(d)},this.updateLocaleInfo=function(t){p(t||e)};var h=l.a.fixTZ,m=l.a.userTimezone;function b(e,t,n,a){var i=function(e,t,n){return 0<n&&e?e=e.trim():function(e){var t=document.createElement("DIV");t.innerHTML=e;var n=t.querySelectorAll("p");return Array.prototype.slice.call(n,0).forEach((function(e){return e.insertAdjacentHTML("afterend"," ")})),(t.textContent||t.innerText||"").replace(/\n/g," ").replace(/\s+/g," ").trim()}(t)||""}(e,t,n);if(e)return i;var r=a||160,o=i.length>r?r:i.length,s=i.substring(0,o),l=i.length>r,c=s.lastIndexOf(" ");s=-1!==c&&l?s.substring(0,c):s;return o===r&&(s+=" ..."),s}function _(e){return e.hour()<12?e.startOf("day"):e.endOf("day").add(61,"minute").startOf("day")}function w(e,t,i){var r=e.use24Clock?"HH:mm":"h"+n+"mma",o=c.tz(t.start.millis,i?m():h(t.start.tzid));t.allDay&&(o=_(o));var s=" "+(t.allDay?"":o.format(r));return o.format(a)+s}function y(e,o,s,l){var d,u,p,f,v,g,b,w,y,k,x=c.tz(o.tzid),S=c(x).startOf("year"),C=c(x).endOf("year"),T=o.use24Clock?"HH:mm":"h"+n+"mma",E=c.tz(s.start.millis,l?m():h(s.start.tzid));s.allDay&&(E=_(E)),e.isoStart=E.format(),e.startsThisYear=E.isBetween(S,C),e.startWeekDay=E.format("ddd"),e.startMonthDay=E.format(i),e.startMonth=E.format("MMM"),e.startYear=E.format("YYYY"),e.startMillis=s.start.millis,e.timezone=s.start.tzid,e.shortTimezone=c.tz.zone(s.start.tzid).abbr(s.start.millis),l&&(e.visitorTimezone=c.tz.zone(m()).abbr(s.start.millis)),s.allDay?e.startTime="":e.startTime=E.format(T),e.longStartDate=E.format(a),s.end&&(u=c.tz(s.end.millis,l?m():h(s.end.tzid)),s.allDay&&(d=u.utcOffset()-E.utcOffset(),_(u=u.subtract(d,"minutes")),_(u=u.subtract(1,"days")))),s.end&&u.valueOf()!==E.valueOf()&&(e.hasEnd=!0,e.endsThisYear=u.isSame(x,"year"),e.endWeekDay=u.format("ddd"),e.endMonthDay=u.format(i),e.endMonth=u.format("MMM"),e.endYear=u.format("YYYY"),s.allDay?e.endTime="":e.endTime=u.format(T),p=c().format("YYYY"),e.inStartYear=e.startYear===p,e.inEndYear=e.endYear===p,e.sameYear=e.endYear===e.startYear,e.sameMonth=e.sameYear&&e.endMonth===e.startMonth,e.sameDay=e.sameMonth&&e.endMonthDay===e.startMonthDay,e.sameTime=e.sameDay&&e.endTime===e.startTime,f=c.duration(u.diff(E)).asHours(),e.lateNight=!s.allDay&&f<24&&16<E.hour()&&u.hour()<8,g=e.sameDay,b=e.sameMonth,w=e.sameYear,y=e.lateNight,k=[],r.a.each(t.longDateFormat,(function(e){var t=e.key,n=e.value;switch(t){case"dayOfWeek":case"dayOfMonth":g||y||k.push(n);break;case"month":b||k.push(n);break;case"year":w||k.push(n)}})),v=0!==k.length&&k.join(" "),e.longEndDate=v?u.format(v):"");var A=[e.longStartDate];s.allDay||A.push(e.startTime),e.hasEnd&&(A.push("-"),e.longEndDate&&A.push(e.longEndDate),s.allDay||(A.push(e.endTime),A.push("("+e.shortTimezone+")"))),e.startsThisYear||A.push(e.endYear),e.fullWhen=A.join(" ");var M,B=o.use24Clock?e.startTime:e.startTime.replace(":00","");e.minWhen="",!e.hasEnd||e.sameDay||e.lateNight||(e.minWhen+=e.startMonth+" "+e.startMonthDay),(!e.hasEnd||e.sameDay||e.lateNight)&&e.startTime&&(e.minWhen+=" "+B),e.hasEnd&&(M=o.use24Clock?e.endTime:e.endTime.replace(":00",""),e.minWhen+="-",e.lateNight||(e.sameMonth||(e.minWhen+=e.endMonth+" "),e.sameDay||(e.minWhen+=e.endMonthDay+" ")),(e.sameDay||e.lateNight)&&(e.minWhen+=M+" ")),e.minWhen=e.minWhen.trim(),e.partWhen=e.startTime,e.startTime&&e.hasEnd&&(e.partWhen+="-"+e.endTime),e.start=E,e.end=u}this.format=function(e,t,n,a){var i=t.effectiveFeatureLevel<=0,r=e.isExternal,l=i||r?"free.viewer":"subscription.viewer",c={};c.direction=u;var d=e.content;c.title=d.summary.text,c.description=d.summary.description;var p=e.status;c.status=p,c.statusName=p?p.name:"scheduled",c.sortVal=e.sorter,y(c,t,e.when,a);var v=p?p.previousStartDate:null;c.previousWhen=v?w(t,v,a):null;var g=p?p.newStartDate:null;c.newWhen=g?w(t,g,a):null;var h,m=p&&p.name||"";c.movedOnline=m.endsWith("Online"),c.rescheduled=m.startsWith("rescheduled"),c.cancelled="cancelled"===m,c.postponed="postponed"===m,c.hidden="hidden"===m,c.scheduled="scheduled"===m||""===m,c.gone=c.newWhen||c.cancelled||c.postponed,c.rescheduled&&(h=c.newWhen,c.rescheduledLabel=h?"rescheduledTo":"rescheduledFrom",c.rescheduledWhen=h?c.newWhen:c.previousWhen);var _,k,x,S,C,T,E=!!d.rsvpLink;E&&(_=(e.rsvpStatus||{count:0,attendeeCount:0}).attendeeCount,x=(k=d.rsvpLink).markedAsFull,S=k.maxAttendees,T=(C=x||-1!==S&&_<=S)?0:S-_,c.hasRSVPs=E,c.eventFull=C,c.placesLeft=T,c.attendeeCount=_,c.rsvpLink=d.rsvpLink,c.rsvpButtonLabel=d.rsvpLink.buttonLabel||"RSVP");var A,M=(d.previewText||"").trim(),B=t.effectiveFeatureLevel;c.shortPreview=b(M,d.description.text,B,140),c.preview=b(M,d.description.text,B,200),n&&(c.safeDesc=this.expandDesc(e,l)),c.hasCustomPreview=0<B&&0!==M.trim().length,c.where={address:e.content.address||"",place:e.content.place||"",directions:e.content.directions,location:e.content.location},c.fullAddress=c.where.place+(c.where.place&&c.where.address?", ":"")+c.where.address,c.tags=function(e,t,n){for(var a="tagset.tags.default".split("."),i=e;null!=i&&0!==a.length;)i=i[a.shift()];return i||[]}(d),c.colorTag=0<c.tags.length?0===(A=c.tags[0]).indexOf("$")?"__"+A:A:void 0;var P,D,L,I,O,F,z,V,R=s.a.getFeaturedImageSet(e)||t.defaultImageSet;c.hasImage=!!R,R&&(P=R.getPinInfo(),c.imageURL=P.url,c.getBestScaledUrl=function(e){return R.getBestScaledUrl(e)},c.pinImageURL=P.url,c.thumbURL=R.getThumbUrl(),D=Math.ceil(100*P.height/P.width),L=Math.ceil(256*P.height/P.width),c.pinImage={url:P.url,height:L,ratio:P.ratio,heightPercent:D},c.imageAlt=R.name),c.url=f.eventURL(t,e.eid),c.relativeUrl=f.relativeEventURL(t,e.eid),d.customButtonText&&d.customButtonLink&&(I=d.customButtonText.trim(),O=d.customButtonLink.trim()),I&&O&&(z=0===(F=O.trim().toLowerCase()).indexOf("http://")||0===F.indexOf("https://"),V=0===F.indexOf("mailto:"),z||V||(O=o.a.test(F)?"mailto:"+O:"http://"+O),c.customButtonText=I,c.customButtonLink=O);var $,j,N,U,H,W=e.content.vlocation;return W&&($=(W.name||"").trim(),0<(j=(W.url||"").trim()).length&&(0===j.indexOf("http//")&&j.replace("http//","http://"),0===j.indexOf("https//")&&j.replace("https//","http://"),0===j.indexOf("http://")||0===j.indexOf("https://")||(j="https://"+j)),c.virtualLocName=$||j,c.virtualLocUrl=j,c.virtualLocInfo=(W.info||"").trim(),c.virtualLocRsvpOnly=W.rsvpOnly),d.customButtonText&&d.customButtonLink&&(I=d.customButtonText.trim(),O=d.customButtonLink.trim()),I&&O&&(U=0===(N=O.trim().toLowerCase()).indexOf("http://")||0===N.indexOf("https://"),H=0===N.indexOf("mailto:"),U||H||(O=o.a.test(N)?"mailto:"+O:"http://"+O),c.customButtonText=I,c.customButtonLink=O),c.noDetail=c.customButtonLink&&e.content.noDetail,c.sd={name:c.name,url:c.url,location:c.fullAddress||"unknown location",startDate:c.isoStart},c.event=e,c},this.updateLocaleInfo()}}]}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1),o=n(10);i.a.module("tkfngViewer").service("FullScreen",["$location",function(e){var t=this,n=window!==window.top,a=r.Config.getHostProperty("inIFrame",!1),i=r.Config.getHostProperty("args.demo"),s=null;o.a.addHandler("fullscreen-ready",(function(){"function"==typeof s&&(s(),s=null)})),this.useStandaloneForMobilePopups=!1,this.openPath=function(e,t){var n;i&&(n=-1===e.indexOf("?")?"?":"&",e=e+n+"demo=theme"),a||this.useStandaloneForMobilePopups?window.open(e,"_blank"):(s=t,o.a.postMessage({type:"fullscreen",open:!0,eventPath:e,guid:window.name}))},this.open=function(t){t&&t.preventDefault();var n=e.url();this.openPath(n)},this.close=function(t){t&&t.preventDefault();var n=e.url();o.a.postMessage({type:"fullscreen",open:!1,eventPath:n,guid:window.name})},o.a.addHandler("fullscreen-close",(function(){return t.close()}));var l=new RegExp("^tkf-client-window-wrap-"),c=new RegExp("^tkf-client-window-embed-"),d=new RegExp("^tkf-client-window-fullscreen-"),u=new RegExp("^tkf-client-window-overlay-");this.isWrapName=function(e){return e&&l.test(e)},this.isEmbedName=function(e){return e&&c.test(e)},this.isFullScreenName=function(e){return e&&d.test(e)},this.isOverlayName=function(e){return e&&u.test(e)},this.inIFrame=n,this.isEmbedded=this.isEmbedName(window.name),this.isUpcoming=!1,this.isFullScreen=this.isFullScreenName(window.name),this.isOverlay=this.isOverlayName(window.name),this.isDirectlyEmbedded=window!==window.top&&!this.isEmbedded&&!this.isFullScreen&&!this.isOverlay,this.isStandalone=!(this.isEmbedded||this.isFullScreen||this.isOverlay)}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(12);i.a.module("tkfngViewer").service("ICSSubscribe",["$q","CalendarSearch","tkfNotify","FullScreen","CrossDomainWrapper",function(e,t,a,i,o){var s=i.isEmbedded,l=i.isOverlay,c=this;this.openWithURL=function(e){s?o.openPopup("subscribe",{icsFeedURL:e}):a.popup.open({view:n(237),tparams:{icsFeedURL:e},afterClose:function(){l&&setTimeout((function(){return i.close()}),300)}})},o.addPopupHandler("subscribe",(function(e){c.openWithURL(e.icsFeedURL)})),this.openSubscribeToCalendar=function(){r.a.trackButtonClick("subscribe.to.calendar",t.calendar.name);var e=(t.calendar.canonicalHost||"https://tockify.com").replace(/https?:/,"webcal:");0!==e.indexOf("webcal://")&&(e="webcal://"+e);var n=t.calendar.icsURLOverride()||e+"/api/feeds/ics/"+t.calendar.name;this.openWithURL(n)}}])},function(e,t){e.exports='<div class="subscribe-to-calendar-popup tkf-body tkf-popup big2-popup">\n  <div class="close-bar"><i class="flaticon-cross"></i></div>\n  <div class="popup-content" ng-click="$event.stopPropagation()">\n    <h3>{{\'subscribeToThisCalendar\' | translate}}</h3>\n\n    \x3c!--<h3 translate translate-values="{ics: \'XXXX\'}" translate-attr-title="subscribeDialog.google"></h3>--\x3e\n\n    <div class="popup-body">\n      <div class="default-calendar-subscribe">\n        <a class="btn btn-default" ng-href="{{popup.tparams.icsFeedURL}}">{{\'subscribeCalendarChoice1\' |\n          translate}}</a>\n        <span class="subscribe-panel-alt-text">{{\'subscribeCalendarChoice2\' | translate}}</span>\n      </div>\n      <div class="subscribe-panel-divider"></div>\n\n      <div bs-tabs>\n        <div bs-pane title=\'<div class="icon-subscribe icon-google"></div><div>Google</div>\'>\n          <div translate="subscribeDialog.google" translate-values="{webcalUrl: popup.tparams.icsFeedURL}"></div>\n        </div>\n        <div bs-pane title=\'<div class="icon-subscribe icon-live"></div><div>Live</div>\'>\n          <div translate="subscribeDialog.outlook" translate-values="{webcalUrl: popup.tparams.icsFeedURL}"></div>\n        </div>\n        <div bs-pane title=\'<div class="icon-subscribe icon-yahoo"></div><div>Yahoo</div>\'>\n          <div translate="subscribeDialog.yahoo" translate-values="{webcalUrl: popup.tparams.icsFeedURL}"></div>\n        </div>\n        <div bs-pane title=\'<div class="icon-subscribe icon-othercal"></div><div>Other</div>\'>\n          <div translate="subscribeDialog.other" translate-values="{webcalUrl: popup.tparams.icsFeedURL}"></div>\n        </div>\n\n      </div>\n\n\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1),o=n(4),s=n(9),l=n(22);i.a.module("tkfngViewer").service("LocaleCentral",["$locale","LocaleUtils","$timeout","Translation","$q","tmhDynamicLocaleCache","tmhDynamicLocale",function(e,t,n,a,i,c,d){var u,p,f,v,g=r.Config.get("ngDefaultLocale","");g&&c.put(g,e),this.updateLocale=function(c,g){var h=t.toCanonicalLocale(c);if(!h||h===v)return i.when(0);v=h||v;var m=function(e,n){return n?s.a.locale:t.toCanonicalLocale(e)}(h,g),b=t.toAngularSafeLocale(m),_=t.toMomentSafeLocale(m);return u&&e.id===b||(u=n((function(){return d.set(b)}),10)),p&&l.locale()===_||(p=function(e){if(-1!==l.locales().indexOf(e))return i.resolve(!0);var t=r.Config.get("cdnroot","")+"assets/moment-locale-2.22.2/".concat(e,".js");return window.moment=l,Object(o.g)(t,1e4)}(_).then((function(){return l.locale(_),i.resolve()}))),f=a.use(m),i.all([p,u,f])},this.getDateTimeFormats=function(e){var t=(e=e||{}).editor,n=e.locale,a=e.fourDigitYear,i=e.picker,r=(n=n||l.locale(),l.localeData(n)._longDateFormat.L);t&&0===n.indexOf("zh")&&(r="YY/MM/DD"),a||(r=r.replace("YYYY","YY"));var o=l.localeData(n)._longDateFormat.LT;return i&&(r=(r=(r=(r=r.replace("DD","dd")).replace("D","d")).replace("YYYY","yyyy")).replace("YY","yy")),{dateFormat:r,timeFormat:o}}}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").provider("LocaleUtils",(function(){this.toCanonicalLocale=function(e){return(e=e||"en-us").toLowerCase().replace(/_/g,"-")},this.toAngularSafeLocale=function(e){switch(e){case"iw":case"iw-il":return"he";case"sr-rs":return"sr-cyrl";case"ja-jp-jp":return"ja-jp";case"in-id":return"id";case"no-no-ny":return"no-no";default:return e}};var e={ar:["dz","kw","ly","ma","sa","tn"],de:["at","ch"],en:["au","ca","gb","ie","nz"],es:["do","us"],fr:["ca","ch"],gom:["latn"],hy:["am"],ms:["my"],nl:["be"],pa:["in"],pt:["br"],sr:["cyrl"],tl:["ph"],tzm:["latn"],uz:["latn"],x:["pseudo"],zh:["cn","hk","tw"]},t=["af","az","be","bg","bm","bn","bo","br","bs","ca","cs","cv","cy","da","dv","el","eo","et","eu","fa","fi","fo","fy","gd","gl","gu","he","hi","hr","hu","id","is","it","ja","jv","ka","kk","km","kn","ko","ky","lb","lo","lt","lv","me","mi","mk","ml","mr","mt","my","nb","ne","nn","pl","ro","ru","sd","se","si","sk","sl","sq","ss","sv","sw","ta","te","tet","th","tlh","tr","tzl","uk","ur","vi","yo"];Array.prototype.push.apply(t,Object.keys(e));var n={iw:"he","iw-il":"he","sr-rs":"sr-cyrl","no-no":"nb","en-us":"en","in-id":"id"};this.toMomentSafeLocale=function(a){var i=n[a]||a;if(-1!==t.indexOf(i))return i;var r=i.split("-"),o=r[0],s=r[1];return-1!==(e[o]||[]).indexOf(s)?i:-1!==t.indexOf(o)?o:"en"},this.$get=function(){return{toCanonicalLocale:this.toCanonicalLocale,toMomentSafeLocale:this.toMomentSafeLocale,toAngularSafeLocale:this.toAngularSafeLocale}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").service("NavHistory",["$location","$state",function(e,t){var n=[],a=["edit.inter.agenda","edit.inter.monthly","edit.inter.pinboard","viewers.inter.agenda","viewers.inter.monthly","viewers.inter.pinboard"],i=["edit.inter.detail","edit.inter.repeatdetail","viewers.inter.detail","viewers.inter.repeatdetail"],r={"edit.inter.agenda":"Back To Agenda","edit.inter.monthly":"Back To Monthly","edit.inter.pinboard":"Back To Pinboard","edit.inter.detail":"Back To Event","edit.inter.repeatdetail":"Back To Event","edit.inter.modeditor":"Back To Editor","edit.inter.groupeditor":"Back To Group"},o={name:"edit.inter.agenda",params:{},buttonText:"Back To Agenda",label:"C"};this.parentButtonText=function(){return n.length<2?"Back":n[n.length-2].buttonText},this.popPath=function(e){if(n.pop(),0===n.length)return!1;var a=n[n.length-1];return e&&"D"===a.label&&(n.pop(),a=n[n.length-1]),t.go(a.name,a.params),!0},this.updateStart=function(e){var i,r=t.current.name;-1!==a.indexOf(r)&&0<n.length&&"C"===(i=n[0]).label&&i.params&&(i.params.startms=e)},this.updatePath=function(){var e,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},l=s.name,c=s.params,d={name:l=l||t.current.name,params:c=c||t.params,buttonText:r[l]};if(-1!==a.indexOf(l)){for(d.label="C";0<n.length;)n.pop();n.push(d)}else if(-1!==i.indexOf(l)){for(;2<n.length;)n.pop();0===n.length&&n.push(o),"D"!==n[n.length-1].label&&(d.label="D",n.push(d))}else"edit.inter.modeditor"===l?(0===n.length&&n.push(o),"M"!==n[n.length-1].label&&(d.label="M",n.push(d))):"edit.inter.groupeditor"===l&&(0===n.length&&n.push(o),"M"===(e=n[n.length-1]).label&&n.pop(),"G"===(e=n[n.length-1]).label&&n.pop(),("M"===e.label||n.length<2||"G"!==e.label)&&(d.label="G",n.push(d)))},this.setInitialState=function(){window.history&&window.history.pushState&&(e.replace(),e.state({initial:!0}))},this.hasBack=function(){return!(!window.history||!window.history.pushState||e.state()&&e.state().initial)};var s=null;this.previousState=function(e,t){return e&&(s=e,l=t),s};var l={};this.previousStateParams=function(){return l}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1);i.a.module("tkfngViewer").service("RouteHelpers",["$state","$stateParams",function(e,t){var n=this;this.eventPath=function(e){var t=e.uid+"/"+e.tid;return e.rid&&(t=t+"/"+e.rid),t},this.unprefixedEventURL=function(e,t){return e.name+"/detail/"+n.eventPath(t)},this.relativeEventURL=function(e,t){return"/"+n.unprefixedEventURL(e,t)},this.eventURL=function(e,t){return a=e,i=r.Config.get("rootPath"),((o=(a.canonicalHost||"").trim())&&"tockify.com"!==o?"http://"+o+"/":i)+n.unprefixedEventURL(e,t);var a,i,o},this.toDetailStateArgs=function(e){var n=e.uid,a=e.tid,i=e.rid;return{route:i?"^.repeatdetail":"^.detail",params:{uid:n,tid:a,rid:i,startms:t.startms,search:t.search,tags:t.tags,kind:null}}},this.detailHRef=function(t){var a=n.toDetailStateArgs(t),i=a.route,r=a.params;return e.href(i,r)},this.detailSRef=function(e){var t=n.toDetailStateArgs(e),a=t.route,i=t.params;return a+"("+JSON.stringify(i)+")"}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(22);i.a.module("tkfngViewer").service("SaveToCalendar",["RouteHelpers",function(e){function t(e,t){return"&"+e+"="+encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function n(e,t,n){return t?r.tz(e,n).format("YYYYMMDD"):r.tz(e,"UTC").format("YYYYMMDD[T]HHmmss[Z]")}function a(e){return e?e.length<=600?e:e.substring(0,600)+"...":""}function i(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText}function o(e){var t=null;return e.address&&""!==e.address&&(t=e.place&&""!==e.place?e.place+", "+e.address:e.address),t}function s(t,n){return e.eventURL(n,t.eid)}function l(e){return(e||"").trim()}this.google=function(e,r){var c,d,u,p=e.content,f=e.when,v=o(p),g="http://www.google.com/calendar/event?action=TEMPLATE"+t("text",i(p.summary.text))+t("dates",(u=(c=f).start.millis,c.end?d=c.end.millis:(d=u,c.allDay&&(d+=864e5)),n(u,c.allDay,c.start.tzid)+"/"+n(d,c.allDay,c.start.tzid)))+t("details",a(i(l(p.description.text)))+" \nFull details here: "+s(e,r));return v&&(g+=t("location",a(v))),g},this.yahoo=function(e,c){var d=e.content,u=e.when,p=u.start.millis,f=u.end?u.end.millis:p,v=f-p,g=" \nFull details here: "+s(e,c),h=o(d),m="http://calendar.yahoo.com/?v=60&view=d&type=20"+t("title",i(d.summary.text))+t("desc",a(i(l(d.description.text)))+g)+t("st",n(p,u.allDay,u.start.tzid));return h&&(m+=t("in_loc",a(h))),u.allDay?m+=t("et",n(f,u.allDay,u.start.tzid)):0<v&&v<864e5&&(m+=t("dur",r.utc(v).format("HHmm"))),m+t("url",g)},this.live=function(e,r){var c,d=e.content,u=o(d),p=e.when,f=p.start.millis;p.end?(c=p.end.millis,p.allDay&&(c-=864e5)):c=f;var v="https://outlook.live.com/owa/?path=/calendar/action/compose"+t("startdt",n(f,p.allDay,p.start.tzid))+t("enddt",n(c,p.allDay,p.start.tzid))+t("subject",i(d.summary.text))+t("body",a(i(l(d.description.text)))+" \nFull details here: "+s(e,r)+" ")+t("allday",p.allDay);return u&&(v+=t("location",a(u))),v},this.other=function(t,n){return"/api/getICS/"+n.name+"/"+e.eventPath(t.eid)}}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").service("SharePopup",["tkfNotify","FullScreen","CrossDomainWrapper",function(e,t,a){var i=t.isEmbedded,r=t.isOverlay,o=this;this.openCopyLink=function(o){var s=o.url;i?a.openPopup("copyLink",{url:s}):e.popup.open({view:n(244),tparams:{url:s},afterClose:function(){r&&setTimeout((function(){return t.close()}),300)}})},this.openSaveToCalendar=function(o){var s=o.google,l=o.yahoo,c=o.live,d=o.ics;i?a.openPopup("saveToCalendar",{google:s,yahoo:l,live:c,ics:d}):e.popup.open({view:n(245),tparams:{google:s,yahoo:l,live:c,ics:d},afterClose:function(){r&&setTimeout((function(){return t.close()}),300)}})},a.addPopupHandler("copyLink",(function(e){o.openCopyLink(e)})),a.addPopupHandler("saveToCalendar",(function(e){o.openSaveToCalendar(e)}))}])},function(e,t){e.exports='<div class="saveShareBar__copyPopup tkf-body tkf-popup big-popup">\n  <div class="close-bar"><i class="flaticon-cross"></i></div>\n  <div class="popup-content" ng-click="$event.stopPropagation()">\n    <h3 translate="copyToShare"></h3>\n\n    <div class="popup-body">\n      <input autofocus class="form-control" name="fname" type="text" value="{{popup.tparams.url}}">\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div class="saveShareBar__savePopup tkf-body tkf-popup big-popup">\n  <div class="close-bar"><i class="flaticon-cross"></i></div>\n  <div class="popup-content" ng-click="$event.stopPropagation()">\n    <h3 translate="saveThisEventInYourCalendar"></h3>\n\n    <div class="popup-body">\n      <table>\n        <tbody>\n        <tr>\n          <td><a class="addTo" ng-href="{{popup.tparams.google}}" rel="nofollow" target="_blank">\n            <div class="icon-google"></div>\n            Google</a></td>\n          <td><a class="addTo" ng-href="{{popup.tparams.ics}}" rel="nofollow">\n            <div class="icon-ical"></div>\n            iCal</a></td>\n          <td><a class="addTo" ng-href="{{popup.tparams.ics}}" rel="nofollow">\n            <div class="icon-outlook"></div>\n            Outlook</a></td>\n        </tr>\n        <tr>\n          <td><a class="addTo" ng-href="{{popup.tparams.live}}" rel="nofollow" target="_blank">\n            <div class="icon-live"></div>\n            Live</a></td>\n          <td><a class="addTo" ng-href="{{popup.tparams.yahoo}}" rel="nofollow" target="_blank">\n            <div class="icon-yahoo"></div>\n            Yahoo</a></td>\n          <td><a class="addTo" ng-href="{{popup.tparams.ics}}" rel="nofollow">\n            <div class="icon-othercal"></div>\n            Other</a></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").service("StatusCodeHandler",["$state","$location",function(e,t){var n=window!==window.top?"siteform.embedded404":"siteform.standalone404";this.pageNotFound=function(){return e.transitionTo(n,{url:t.absUrl()},{location:!1})}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1);i.a.module("tkfngViewer").factory("Theme",["$resource","$q",function(e,t){var n,a,i=e("/api/ngthemes/:id",{id:"@id"}),o=r.Config.getBootProperty("theme"),s=r.Config.getBootProperty("minitheme"),l=!0,c=!0,d={showContinuingEvents:!0,defaultView:"pinboard",showImages:!0,linkColor:"rgb(255, 96, 85)",margin:{top:0,bottom:0,sides:0},padding:{sides:10,top:10,bottom:30},tagStyle:"minimal",fontSize:14,theme:"",background:"#ffffff",transparentWhenEmbedded:!(i.getPromise=function(e){return l&&o&&(o.id===e||o.themeId===e)?(a=t.when(new i(o)),l=!1):c&&s&&(s.id===e||s.themeId===e)?(a=t.when(new i(s)),c=!1):n===e&&a||(a=i.get({id:e}).$promise),a.then((function(t){return n=e,t})).catch((function(){return n=e,a=t.when(new i("fallback",d,"SHARED_THEME"))}))}),textColor:"#222","textColor--subdued":"#666",textFont:{family:"Roboto",style:"normal",weight:400},headerFont:{family:"Helvetica",weight:400,style:"normal"},dateFont:{family:"Merriweather",weight:700,style:"normal"},navbar:{style:"light",gradient:!1,background:"#f7f4ef",borderColor:!1,color:"#331e17",buttonBackground:"#ffffff",buttonColor:"#331e17",buttonBorderColor:"#cdc6c3",activeButtonBackground:"#eae3df",activeButtonColor:"#331e17"},views:{detail:{saveShareStyle:"subtle"},agenda:{separatorColor:"#e3d9d5",separatorWidth:"1",imagePosition:"left",imageShape:"circle",imageOuterBorderWidth:"0"},pinboard:{gutter:16,borderRadius:8,showBorders:!0,borderColor:"#dddddd",cardLayout:"fill",cardBackground:!1,cardColor:!1,linkColor:!1},monthly:{gutter:5,gridStyle:"minimal",gridColor:!1,stripOutline:"none",stripEndRadius:3,singleDayAsText:!1,dowPattern:"dddd",shortDowPattern:"dddd",domPattern:"D",visibleStrips:!1,stripTime:"after"},upcoming:{show:"both",backgroundColor:"#fff",textColor:"#333",highlightColor:"rgb(255, 75, 52)",showTopHighlightBar:!0,showBorder:!0,agenda:{maxEvents:3,showImages:!0,imagePosition:"left",imageShape:"circle",showPreview:!1,showWhere:!1},monthly:{useInset:!0,fadeOutOfMonth:!0}}}};return i}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(1);i.a.module("tkfngViewer").factory("Translation",["$translate","$translateStaticFilesLoader","EventFormatter","$rootScope",function(e,t,n,a){var s={},l=o.Config.get("transMap"),c=o.Config.get("transLocale");function d(e){var t,n,a=(e=e||"en-us").split("-")[0],i=s[e];return(i=i||s[a])||((n=(t=Object.keys(s)).find((function(e){return 0===e.indexOf(a)})))?i=s[n]:0<t.length&&(i=s[t[0]])),i}c&&(s[c]=l.localeInfo);var u,p=o.Config.get("translationPaths",{}),f={iw:"he"},v="ltr";function g(e){var n,a=e.key,r=(n=p[a]||p["en-us"],/(.*)\.json/.exec(n)[1]),o=i.a.copy(e);o.key=r;var l=t(o);return l.then((function(e){s[a]=e.localeInfo})).catch((function(){})),l}return r.a.each(p,(function(e,t){f[t]=t})),g.use=function(t){var i,r,o=(r=(i=t).toLowerCase().split(/-|_/)[0],f[i]||f[r]||"en-us"),s=e.use(o);return s.then((function(e){u=d(e),v=u&&u.direction?u.direction:"ltr";var t=a.$on("$translateChangeEnd",(function(){t(),u=d(e),v=u.direction||"ltr",n.updateLocaleInfo(u)}))})),s},g.direction=function(){return v},g}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10);i.a.module("tkfngViewer").service("WeeblySettings",(function(){var e,t=this;function n(t){parent.postMessage(t,e)}this.current=null,r.a.addHandler("settings:load",(function(n,a){e=a.origin,t.current=n})),r.a.addHandler("settings:invalid",(function(e){})),r.a.addHandler("settings:updated",(function(e){})),this.closeDialog=function(){n({action:"dialog:close"})},this.updateSettings=function(e){n({action:"settings:update",data:e})},window.tkfwapi=this}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(31),o=n(5);i.a.module("tkfngViewer").factory("Auth",(function(){var e,t;function n(){t&&window.clearInterval(t),window.setTimeout((function(){Object(o.e)("/api/version",_tkf.version)}),1e4),t=window.setInterval((function(){Object(o.e)("/api/version",_tkf.version)}),216e5)}function a(t){var a=e;return t&&(e=null),e=e||r.User.getUser("me").then((function(e){if(e.errors)throw e;return a?a.then((function(t){t._id!==e._id&&n()})):n(),e}))}return{getCurrentUser:a,refreshCurrentUser:function(){return a(!0)},isLoggedInAsync:function(e){a().then((function(){return e(!0)})).catch((function(){return e(!1)}))}}}))},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1),o=n(19),s=n(22),l=0;i.a.module("tkfngViewer").factory("Calendar",["$resource","$state","Editor","$q",function(e,t,n,a){var i=e(r.Config.get("prefix","")+"/api2/calendars/:id",{id:"@_id"},{query:{method:"GET",isArray:!0},update:{method:"PUT"}});i.updated=function(){l=Date.now()};var c,d,u=r.Config.getBootProperty("calendar"),p=0;return i.bootCalendar=u,i.getPromise=function(e,t){var n=t||p<l;return c||!u||u.name!==e&&u._id!==e?!n&&e===d||(d=e,c=i.get({id:e}).$promise):c=a.when(new i(u)),c.then((function(e){p=Date.now();var t=(e.canonicalHost||"").trim();return e.submitURL=t&&"tockify.com"!==t?"http://"+t+"/tkf2/submitEvent/"+e.submitKey:"https://tockify.com/tkf2/submitEvent/"+e.submitKey,e.getDefaultImageSetP().then((function(t){return e.defaultImageSet=t,e}))}))},i.prototype.setDefaultImage=function(e){var t=this;this.defaultImageId=e,delete this.defaultImageSetPromise,this.getDefaultImageSetP().then((function(e){return t.defaultImageSet=e}))},i.prototype.getWkStart=function(){var e=s.tz(this.tzid).weekday(0).day();return-1<this.wkstart?this.wkstart:e},i.prototype.weekDayOrder=function(){var e=this.getWkStart(),t=s.tz(this.tzid).weekday(0).day();return[0,1,2,3,4,5,6].map((function(n){return(n+7+e-t)%7}))},i.prototype.clearDefaultImage=function(){delete this.defaultImageId,delete this.defaultImageSetPromise},i.prototype.getImageSets=function(){return(this.imageSets||[]).map((function(e){return new o.a(e)}))},i.prototype.getDefaultImageSet=function(){var e=this;return this.getImageSets().find((function(t){return t.id===e.defaultImageId}))},i.prototype.getDefaultImageSetP=function(){var e=this.defaultImageId;if(this.defaultImageSetPromise)return this.defaultImageSetPromise;if(e){var t=this.getImageSets().find((function(t){return t.id===e}));return this.defaultImageSetPromise=t?a.resolve(t):o.a.getImageSet(e),this.defaultImageSetPromise.then((function(e){})),this.defaultImageSetPromise}return a.when(null)},i.prototype.hasExternalSource=function(){return!!this.externalSource},i.prototype.hasEnabledGoogleSync=function(){return"google-calendars"===this.externalSource&&0<this.effectiveFeatureLevel&&"online"===this.status.name},i.prototype.icsURLOverride=function(){return!1},i.prototype.hasDisabledGoogleSync=function(){return"google-calendars"===this.externalSource&&!(0<this.effectiveFeatureLevel&&"online"===this.status.name)},n.isReal&&(i.prototype.editorURL=function(){return this.hasExternalSource()?t.href("edit.inter.agenda",{calname:this.name}):"/e/"+this.name}),i}])},function(e,t,n){"use strict";n.r(t);var a=n(0);n.n(a).a.module("tkfngViewer").factory("tkfErrors",["tkfNotify",function(e){function t(t,a){e.popup.open({view:n(70),kind:"error",animation:"message",tparams:{title:t,main:a}})}return{handleResponseError:function(e){switch(e&&e.status||t("Unexpected Problem","<p>An unknown problem occurred.</p><p> The code is -1</p>"),e.status){case 0:t("Network Problem","<p>You don't seem to be online. Please check your connection.</p>");break;case 401:t("Not Logged In","<p>You don't seem to be logged in. Please log in then try again.</p>");break;default:t("Something's gone wrong","<p>A problem occurred at our end. Please retry and let us know if it persists</p>")}},notifyError:t}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a);i.a.module("tkfngViewer").factory("tkfNotify",["$rootScope","$timeout","$state","$templateCache","$compile",function(e,t,n,a,r){var o={show:!1,open:function(){o.show=!0},close:function(){o.show=!1}};function s(){l.show=!1,l.closeState&&t((function(){return n.go(l.closeState)}),0),"function"==typeof l.afterClose&&l.afterClose()}var l={show:!1,closeState:null,view:"",kind:"",open:function(n){l.view=null,document.querySelector(".tkf-popup-wrapper").innerHTML="",t((function(){l.show=!1,l.closeState=null,l.animation=null,l.view=null,l.kind="",l.closeBlocked=!1,l.tparams={},n.tparams&&(l.tparams=n.tparams),n.closeBlocked&&(l.closeBlocked=n.closeBlocked),n.afterClose&&(l.afterClose=n.afterClose),n.view&&(l.view=n.view),l.kind=n.kind||"",l.animation=n.animation||"",n.closeState&&(l.closeState=n.closeState);var t=l.view,a=e.$new();a.popup=l;var o=document.querySelector(".tkf-popup-wrapper");r(i.a.element(o).html(t).contents())(a),l.show=!0}),0)},animation:null,afterClose:null,close:s,closeIfCloseable:function(){var e=window.getSelection(),t=e&&e.extentNode;"popup-body"===(t&&t.className)||l.closeBlocked||s()},fade:"fade",tparams:{}},c=null;function d(){c&&t.cancel(c),e.$evalAsync((function(){u.show=!1,u.text=""}))}var u={show:!1,text:"",open:function(e,n,a,i){t((function(){u.stayOpenOnNavigate=!!i,u.kind=n,u.text=e,u.show=!0,c&&t.cancel(c),"number"==typeof a&&(c=t((function(){u.show=!1}),a))}),0)},close:d,onNavigate:function(){u.stayOpenOnNavigate||d()}};return{popup:l,status:u,spinner:o}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n(11),s=n(3),l=n(25),c=n(33),d=s.e.cross,u=function(e,t,n,a){var i=o.a.getStyler("user"),r=".btn-"+e;[".viewer__navbar .navbar-default .navbar-nav a"+r,"a"+r,".viewer__navbar .navbar-default .navbar-nav button"+r,"button"+r].forEach((function(e){i.queueRule(d(e,["",":focus"]),{color:t,"background-color":n,"border-color":a}),i.queueRule(d(e,[":active",".active",":active:focus"]),{color:t,"background-color":c(n).darken(.6).hex(),"border-color":c(a).darken(.8).hex()}),i.queueRule(d(e,[":hover"]),{color:t,"background-color":c(n).darken(.4).hex(),"border-color":c(a).darken(.6).hex()})}))},p=n(17);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=n(33);i.a.module("tkfngViewer").service("Styler",["CrossDomainWrapper","$state","FullScreen",function(e,t,n){var a,i,c,d=window.CSS.escape||window.CSSPOLY.escape,h=this,m=n.isEmbedded||n.isDirectlyEmbedded?"embed":n.isFullScreen?"fullscreen":"standalone",b=!0,_=!0,w=!0;function y(e){return e&&"object"===v(e)&&!Array.isArray(e)}function k(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;var i=n.shift();if(y(e)&&y(i))for(var r in i)void 0===e[r]&&Object.assign(e,f({},r,i[r]));return k.apply(void 0,[e].concat(n))}function x(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;var i=n.shift();if(y(e)&&y(i))for(var r in i)y(i[r])?(void 0===e[r]&&Object.assign(e,f({},r,{})),x(e[r],i[r])):void 0===e[r]&&Object.assign(e,f({},r,i[r]));return x.apply(void 0,[e].concat(n))}function S(e){var t;Object(p.isPrinting)()?b=!(t=800):(w=e.padEmbedded,b="embed"!==m||w&&_,t=document.body.clientWidth);var n=1024<=t,a=t<=768;e.useBackgroundImage=!1;var i=e.useBackgroundImage,r={};return b?"embed"===m?(r.left=10,r.right=10,r.top=10,r.bottom=30):i?a?(r.top=10,r.bottom=30,r.left=10,r.right=10):n?(r.top=100,r.left=140,r.right=140,r.bottom=30):(r.left=30,r.right=30):(r.top=10,r.bottom=30,a?(r.left=10,r.right=10):"fullscreen"===m?(r.left=80,r.right=80):n?(r.left=60,r.right=60):(r.left=30,r.right=30)):(r.left=0,r.right=0,r.top=0,r.bottom=0),{padding:r,margin:{top:0,bottom:0,sides:"fullscreen"===m?40:0},width:t}}function C(e){return 0===e.indexOf("$")?"__"+e:e}this.setUsePadding=function(e){b="embed"!==m||!!e&&w,_=!!e},this.tagToKey=C,this.toSafeTag=function(e){var t=C(e||"").replace(/\s+/g,"-");return d(t)},this.calculateBox=S,this.applyTagStyles=function(e){var t=e.tagColor,n=e.scope,i=e.tag;function r(e){return n||i?e.trim().split(/\s*,\s*/).map((function(e){return n+" "+e+i})).join(","):e}i=i||"",n=n||"",a(r(".eventTags--hollow a"),{"border-color":t,color:t,"margin-right":"3px"}),a(r(".eventTags--hollow a:hover,.eventTags--hollow a:active"),{"border-color":t,color:"white",background:t}),a(r(".eventTags--full a, .eventTags--full .l-tag-span"),{"border-color":t,color:"white",background:t,"margin-right":"3px"}),a(r(".eventTags--full a:hover,.eventTags--full a:active"),{"border-color":t,color:t,background:"transparent"}),a(r(".eventTags--minimal a, .eventTags--minimal .eventTags__tag"),{color:t}),a(r(".eventTags--hashtag a, .eventTags--hashtag .eventTags__tag"),{color:t});var o=g(t).hsl()[2]||0,s={background:t,color:.7<o?"black":"white"};.7<o&&(s.border="1px solid black"),a(r(".viewers__different-year-label"),s)},this.update=function(p){var f=S(p),v="viewers.inter.upcoming"===t.$current.name,b=[p.textFont,p.headerFont,p.dateFont,p.navbar.font],_=p.views.monthly,w=_.eventFont,y=_.gridFont;w&&b.push(w),y&&b.push(y),l.a.loadFonts(b);var k=p.linkColor;o.a.getStyler("user",!0);var x,C,T,E,A=o.a.getStyler("user");a=A.queueRule,i=A.queueMediaRule,c=function(e,t){var n=Object(s.g)(e,t);A.queueRule(n.selector,n.properties)},function(e,t){var n=t<=768;void 0===e.navbar.show&&(e.navbar.show=!0);var i=e.navbar,r=i.buttonColor,o=i.borderRadius,l=i.buttonBackground,c=i.color,d=i.themeTextInput,u=i.activeButtonBackground,p=i.activeButtonColor,f=i.font,v=i.gradient,h=i.background,m=e.navbar,b=m.buttonBorderColor,_=m.borderColor,w=f.family,y=f.weight,k=f.style,x=h,S=g(x).brighten(.5).hex(),C=g(x).darken(.5).hex(),T=(b=b||g(l).darken(.8).hex(),_=_||g(x).darken(.5).hex(),Object(s.f)(".viewer__navbar__button",[":hover",":active:hover",":active",":active:focus",".active"]));a(T+", .open > .viewer__navbar__button.dropdown-toggle",{"background-color":u,color:p,"border-color":b}),a(".viewer__navbar__button:active:hover,.viewer__navbar__button:focus",{"text-decoration":"underline"});var E=Object(s.f)(".btn-default.viewer__navbar__button",[":hover",":active:hover",":active",":active:focus",".active"]),A=Object(s.f)(".navbar-default .navbar-toggle.viewer__navbar__button",[":hover",":active",".active"]);a(E+", "+A,{"background-color":u,color:p,"border-color":b}),a(".dropdown-menu.datepicker .btn-primary",{"background-color":u,color:p,"border-width":"1px","border-style":"solid","border-color":b,"padding-top":"3px"}),a(".dropdown-menu.datepicker .btn-today",{"border-color":b,"border-width":"1px","border-style":"solid","background-color":"transparent",color:"black"}),a(".dropdown-menu.datepicker .btn",{"padding-top":"3px"}),a(".btn.btn-loadMore",{"border-color":b,"background-color":l,color:r,"border-radius":o+"px"}),a(Object(s.f)(".btn.btn-loadMore",[":active",":hover"]),{"background-color":u,color:p,"border-color":b});var M,B=d;B&&(M="#ffffff"===l?l:u,a('.viewer__navbar input[type="text"]:focus',{"border-color":g(l).darken(.9).hex(),background:M,color:p})),a(".btn-default.viewer__navbar__button,.navbar-default .navbar-toggle.viewer__navbar__button"+(B?', .viewer__navbar input[type="text"]':""),{"border-color":b,"background-color":l,color:r,"font-family":w,"font-weight":y,"font-style":k,"border-radius":o+"px"}),a('.viewer__navbar input, .viewer__navbar input:hover, .viewer__navbar input[type="text"]:active',{"border-color":b,"font-family":w,"font-weight":y,"font-style":k,"border-radius":o+"px"}),a(".viewer__navbar .navbar-default .navbar-nav > li > a, .viewer__navbar .navbar-default .navbar-nav a.viewer__navbar__link, .viewer__navbar .navbar-default .navbar-nav button, button.btn-cta",{"font-family":w,"font-weight":y,"font-style":k,"border-radius":o+"px"}),a(".viewer__navbar .navbar-default",{"border-radius":o+"px"}),a(".viewer__navbar .navbar-default .navbar-nav > .open > a, .viewer__navbar .navbar-default .navbar-nav > .open > a:hover, .viewer__navbar .navbar-default .navbar-nav > .open > a:focus",{"background-color":u,color:p});var P={"border-color":_,"background-color":x,color:c};v&&(P["background-image"]="linear-gradient("+S+", "+x+" 60%, "+C+")"),a(".viewer__navbar .navbar-default",P),a(".close-popup a",{color:e.textColor});var D=Object(s.h)(e.textColor,e.background,.3);a(".close-popup a:hover,.close-popup a:active",{color:D.css()}),n&&a(".close-popup a",{display:"none"})}(p,f.width),x=p.tagcolors||{},r.a.each(x,(function(e,t){var n=(t||"").replace(/\s+/g,"-");h.applyTagStyles({tagColor:e,tag:".eventTagColor--"+d(n)})})),T=(C=p).statusBackground,E=C.views.upcoming.statusBackground,Object.keys(T).forEach((function(e){a(".status__"+e,{background:T[e]}),a(".l-mini.status__"+e,{background:E[e]})}));var M,B=p.tagColor||p.linkColor;this.applyTagStyles({tagColor:B}),M="embed"===p.kind?"embed"===p.kind&&p.embeddedBackground||p.background||"white":p.background||"white",p.bodyBackground=M;var P={"margin-top":f.margin.top+"px","margin-bottom":f.margin.bottom+"px","margin-left":f.margin.sides+"px","margin-right":f.margin.sides+"px",width:f.width-2*f.margin.sides+"px"};i("@media only screen and (min-width: 1024px)",".viewerArea .close-popup",{right:"54px"}),i("@media only screen and (min-width: 768px)",".viewerArea .close-popup",{right:"14px"});var D,L={"padding-top":f.padding.top+"px","padding-bottom":f.padding.bottom+"px","padding-left":f.padding.left+"px","padding-right":f.padding.right+"px"};"fullscreen"===m?(L["min-height"]="100vh",e.showFullScreen()):"embed"===m?(D=v?"20px":"400px;",L["min-height"]=n.inIframe?"620px":D):"standalone"===m&&(L["min-height"]="100vh"),i("@media only screen and (min-width: 1024px)",".viewerArea",P),i("@media only screen ",".viewerArea",L),a(".viewerArea",{display:"block"}),i("@media print ",".viewerArea",{width:"800px"}),a(".viewerArea.l-background",{background:p.bodyBackground}),p.useBackgroundImage&&a(".viewers--hidden",{background:p.bodyBackground,padding:"40px"}),p.kind;var I={background:p.bodyBackground};"fullscreen"===p.kind&&(I["border-style"]="solid",I["border-color"]=Object(s.h)(p.textColor,p.bodyBackground,.5).css()),"fullscreen"!==p.kind&&"standalone"!==p.kind||a(".branding-subtle",I),a(".d-fontSize",{"font-size":p.fontSize+"px"});var O=Math.floor(2.3*p.fontSize);a(".d-headerText",{"font-size":O+"px"}),c(".d-text",p.textFont),c(".sd-text",p.textFont),c(".d-tag",p.textFont),c(".d-headerText",p.headerFont),c(".viewerArea__displayName",p.headerFont),c(".d-listStatusText",p.headerFont),c(".d-titleText",p.headerFont),c(".d-when",p.dateFont),p.hideDate&&a(".d-when",{display:"none"}),a(Object(s.f)(".d-textColor",s.a),{color:p.textColor});var F,z=Object(s.h)(p.textColor,p.background,.6).css();a(".d-textColor--subdued",{color:p.textColor}),a(".listStatus",{color:z}),a(Object(s.f)(".branding-subtle",s.b),{color:z}),p.showNoMoreEvents||a(".branding-subtle.is-embedded",{bottom:"10px"}),F=v?p.views.upcoming.highlightColor:k;var V=g(F).alpha(.25).css();return a(".spinner.spinner__double-circles .circle",{"border-color":V,"border-bottom-color":F}),a("a.l-vloc",{color:k}),a(".d-link",{color:k}),a(".d-title a",{color:k}),a(Object(s.f)(s.c,".d-title"),{color:k}),u("cta",p.ctaButton.color,p.ctaButton.background,p.ctaButton.border),A.applyRules(),p},this.applyDefaults=function(e){var t={cancelled:"red",movedOnline:"#05d27d",postponed:"#00b7e8",rescheduled:"#00b7e8"};return x(e,{defaultView:"pinboard",alwaysShowYear:!1,showNoMoreEvents:!0,showLoadMoreEvents:!0,showSubscribeToCalendar:!0,padEmbedded:!0,showImages:!0,useClientDateFormat:!1,showContinuingEvents:!0,openDetails:"inline",showTimezone:"never",startYearAtEnd:!1,statusBackground:t,ctaButton:{color:"#fff",border:"#5cb85c",background:"#5cb85c",target:"_blank"}}),e.kind=m,x(e.views,{upcoming:{show:"both",statusBackground:t,backgroundColor:"#fff",textColor:"#333",highlightColor:"rgb(255, 75, 52)",showTopHighlightBar:!0,showBorder:!0,textFont:{family:"Roboto",style:"normal",weight:400},agenda:{maxEvents:3,showImages:!0,imagePosition:"left",imageShape:"circle",showPreview:!1,showWhere:!1,showNoEvents:!0,listMode:"all"},monthly:{useInset:!0,showGrid:!0,fadeOutOfMonth:!0,eventsIndicatorStyle:"underline"}}}),k(e.navbar,{fourDigitYear:!1,showSearch:!0,showDateNav:!0,showFullScreen:!0,font:{family:"Helvetica",weight:"400",style:"normal"},borderRadius:"4"}),k(e.views.agenda,{eventsFromText:!0,imagePosition:"left",imageShape:"circle",imageOuterBorderWidth:0,show:!0,showTags:!0,showPreview:!0,maxEventsPerQuery:12,showPlace:!!e.views.agenda.showAddress}),k(e.views.pinboard,{show:!0,eventsFromText:!0,maxEventsPerQuery:12,targetWidth:200,showTags:!0,scaleCards:!0,showPreview:!0,showPlace:!!e.views.pinboard.showAddress}),e.views.pinboard.borderRadius=""+e.views.pinboard.borderRadius,k(e.views.monthly,{show:!0,singleDayPrefix:"●"}),x(e.views.detail,{saveShare:{twitter:!0,facebook:!0,linkedIn:!0,saveToCalendar:!0,copyLink:!0,emailLink:!0},showMapButton:!0,showTags:!0,imagePosition:"left"}),e.views.agenda.separatorWidth=+e.views.agenda.separatorWidth,"upcoming"===e.views.upcoming.agenda.listMode&&(e.views.upcoming.agenda.listMode="all"),e}}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(11),o=n(1),s=n(4),l=!1,c=n(13),d=n(10),u=n(17);i.a.module("tkfngViewer").service("Viewer",["$stateParams","$state","$location","Styler","WatchHeight","DefaultTheme","LocaleUtils","Calendar","Translation","$q","Theme","CrossDomainWrapper","$timeout","FullScreen",function(e,t,n,a,p,f,v,g,h,m,b,_,w,y){var k=this,x=["","agenda","pinboard","monthly"],S=this,C=+o.Config.getHostProperty("args.narrowwidth"),T=!(isNaN(C)||C<0)&&C;this.viewDisplayClass="",this.showView=function(e){var t=r.a.getStyler("viewer",e);e||t.addRule(".viewers--hidden",{visibility:"hidden"})},this.fillsMostOfPage=function(){return.8<document.body.clientWidth/c.a.host.size().width},this.settings=null,this.scrollPos=0,d.a.addHandler("embed-scrolltop-changed",(function(e){k.scrollPos=e.scrollTop}));var E,A=null;function M(){E&&(a.applyDefaults(E),a.update(E),Object(s.e)("restyle"))}this.goBack=function(){return d.a.postMessage({type:"go-back"})},this.getAvailableWidth=function(){return Object(u.isPrinting)()?799:c.a.isMobile.phone&&y.isFullScreen?window.screen.width-20:(A&&document.documentElement.contains(A)||(A=document.querySelector(".tkfSizeDetector")),A?Math.floor(A.clientWidth):0)},this.updateSettings=function(e,t){var n,l=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],c=E||o.Config.getHostProperty("settings");c&&t?"views.upcoming"===t.exclude?(n=e).views.upcoming=i.a.copy(c.views.upcoming):"views.upcoming"===t.include&&((n=i.a.copy(c)).views.upcoming=e.views.upcoming,n.showTimezone=e.showTimezone):n=e,l&&o.Config.setHostProperty("settings",n),E&&(n.useClientDateFormat,E.useClientDateFormat),E=i.a.copy(n),S.settings=n,l&&(a.applyDefaults(n),a.update(n),r.a.getStyler("user").applyRules(),w((function(){return Object(s.e)("restyle")}),0)),d.a.addHandler("read-settings",(function(e){d.a.postMessage({type:"read-settings-response",passback:e.passback,settings:S.settings,guid:window.name})}))},d.a.addHandler("update-settings",(function(e){return k.updateSettings(e.settings,e.filter)})),u.Printer.beforePrint=M,u.Printer.afterPrint=M,document.body.clientWidth,window.addEventListener("resize",Object(s.c)((function(){0!==document.body.clientWidth&&S.settings&&(a.applyDefaults(S.settings),a.update(S.settings),Object(s.e)("restyle"),p.heightChanged())}),100)),this.getDefaultView=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.defaultViewNarrow,a=e.defaultView;return t&&k.isNarrow()&&n?n:a},this.isNarrow=function(){return(document.body.clientWidth||1024)<(!1===T?667:T)},this.applyTheme=function(){var e=this.settings;a.applyDefaults(e),a.update(e),r.a.getStyler("user").applyRules(),w((function(){return Object(s.e)("restyle")}),0)},this.loadTheme=function(i){var r=i.themeId,d=i.isFree,u=i.isEditor,p=i.apply,v=i.withView;return(u||!r||d?f.PROMISE:b.getPromise(r)).then((function(i){Object(s.i)(i,"settings.views.detail.saveShare.pinterest")&&function(e){var t=0<arguments.length&&void 0!==e?e:2e3;l||(l=!0,Object(s.g)("//assets.pinterest.com/js/pinit.js",t))}(3e3),y.useStandaloneForMobilePopups=c.a.isMobile.any&&!!i.settings.useStandaloneForMobilePopups,i.settings=o.Config.getHostProperty("settings")||i.settings,d&&(i.settings.defaultView="agenda"),"viewers.inter.upcoming"===t.current.name&&a.setUsePadding(!1),!y.isStandalone&&d&&(i.settings.views.pinboard.show=!1,i.settings.views.monthly.show=!1);var r,u,f,g,h,b,w=(t.current.name||"").replace(/viewers\.inter\.?/g,"");return y.isStandalone&&!y.inIFrame||!d||"agenda"===w||"upcoming"===w?-1!==x.indexOf(w)&&(n.replace(),r=!("false"===e.checkNarrow),u=k.getDefaultView(i.settings,r),f=!k.isNarrow()&&w||u,g=v||f||"pinboard",h="viewers.inter."+(y.isFullScreen&&k.isNarrow()&&"upcoming"===g?"agenda":g),t.go(h,e)):(n.replace(),_.cancelStateChange=!0,t.go("viewers.inter.agenda",e)),"edit.inter"===t.current.name&&(n.replace(),b="edit.inter."+(k.getDefaultView(i.settings)||"pinboard"),t.go(b,e)),k.updateSettings(i.settings,null,p),m.when(i)}))}}])},,,,,,,,,,,,,,,,,,,,function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,(e.exports=n).id=275},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n(89),n(258),n(121),n(91),n(111),n(105),n(118),n(685),n(123),n(125),n(127),n(129),n(131),n(133),n(135),n(137),n(139),n(141),n(143),n(145),n(147),n(149),n(151),n(153),n(155),n(157),n(159),n(161),n(163),n(165),n(167),n(0),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(260),n(262),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(169),n(22),n(696),n(697),n(174),n(184),n(185),n(190),n(192),n(193),n(194),n(195),n(197),n(198),n(199),n(200),n(201),n(203),n(204),n(206),n(207),n(208),n(209),n(77),n(223),n(210),n(212),n(214),n(216),n(218),n(77),n(221),n(56),n(224),n(225),n(227),n(228),n(229),n(230),n(1),n(231),n(232),n(233),n(234),n(235),n(236),n(238),n(240),n(17),n(241),n(242),n(243),n(246),n(239),n(254),n(247),n(248),n(255),n(55),n(249),n(250),n(251),n(252),n(253),n(31),n(186),n(698)},function(e,t,n){var a=n(6),i=n(686);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(7)(!1)).push([e.i,'.u-pullRight{float:right}.u-pullLeft{float:left}html{height:100%;overflow:hidden;box-sizing:border-box;-ms-overflow-style:-ms-autohiding-scrollbar}body,html{padding:0;margin:0}body{background-color:transparent;overflow:visible;-webkit-overflow-scrolling:touch}*,:after,:before{box-sizing:inherit}h1,h2,h3,h4,h5,h6{font-feature-settings:"kern";-webkit-font-kerning:normal;font-kerning:normal}.ng-cloak,.x-ng-cloak,[data-ng-cloak],[ng-cloak],[ng\\:cloak],[x-ng-cloak]{display:none!important}a,a::selection,a:active,a:focus,a:hover,a:visited{outline:none}:focus{outline:none}button::-moz-focus-inner{border:0}button{outline:0;box-shadow:none}.tkf-main{position:relative;height:100%}body{height:100vh}',""]),e.exports=t},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(4),o=n(1),s=n(12),l=n(16),c=n(5),d=n(71);i.a.module("tkfngViewer",["mgcrea.ngStrap.tab","mgcrea.ngStrap.datepicker","ngResource","ngSanitize","ui.router","ngAnimate","tmh.dynamicLocale","pascalprecht.translate"]).config(["$locationProvider",function(e){return e.html5Mode(!0)}]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|tel|webcal):/)}]).config(["tmhDynamicLocaleProvider","tmhDynamicLocaleCacheProvider","$translateProvider","EventFormatterProvider","LocaleUtilsProvider",function(e,t,n,a,i){var r=o.Config.get("cdnroot","");e.localeLocationPattern(r+"assets/angular167-1-i18n/angular-locale_{{locale}}.js"),n.useLoader("Translation",{prefix:"assets/languages/",suffix:".json"});var s=o.Config.get("transMap"),l=o.Config.get("transLocale");l=i.toCanonicalLocale(l);n.useSanitizeValueStrategy(null),n.translations(l,s),n.preferredLanguage(l),a.setDefaultLocaleInfo(s.localeInfo)}]).config(["$urlRouterProvider",function(e){e.deferIntercept()}]).config(["$urlRouterProvider",function(e){var t,n,a,i=o.Config.getBootProperty("calendar");i&&(t=i.canonicalHost,n=!!o.Config.getHostProperty("args.demo"),"tockify.com"===t||n||(a="/"+i.name,e.rule((function(e,t){var n=t.path();if(0!==n.indexOf(a))return a+n})))),e.rule((function(e,t){var n=t.path();if("/"===n[n.length-1])return n.substr(0,n.length-1)})),e.otherwise((function(e,t){var n=window!==window.top,a=e.get("$state");n?a.transitionTo("siteform.embedded404",{url:t.absUrl()},{location:!1}):a.transitionTo("siteform.standalone404",{url:t.absUrl()},{location:!1})}))}]).service("Editor",(function(){this.editEventImage=function(){}})).filter("formatBytes",(function(){return function(e,t,n,a,i){return i=(n=(t=Math).log)(e)/n(1e3)|0,(e/t.pow(1e3,i)).toFixed(0)+" "+(i?"kMGTPEZY"[--i]+"B":"Bytes")}})).filter("encodeURIComponent",(function(){return window.encodeURIComponent})).filter("decodeURIComponent",(function(){return window.decodeURIComponent})).run(["$rootScope","$location","Auth","StatusCodeHandler","CalendarSearch","CrossDomainWrapper","$urlRouter","NavHistory","$state","tkfNotify","ICSSubscribe","RSVPPopup","SharePopup","$templateCache","$q",function(e,t,a,i,u,p,f,v,g,h,m,b,_,w,y){Object(c.c)(y),s.a.loadAnalytics(25),o.Config.getHostProperty("args.demo",!1)&&l.a.invalidateBootQuery(),w.put("app/common/tkfDatePicker.html",n(170)),w.put("app/viewers/base/listStatus.html",n(171)),w.put("app/viewers/directives/eventDetail/bs-detail-navbar.html",n(172)),w.put("app/viewers/directives/eventDetail/saveShareBar.html",n(173)),v.setInitialState(),e.$on("$stateChangeStart",(function(e,t,n){return t.authenticate&&a.isLoggedInAsync((function(a){var i;a||(e.preventDefault(),i=g.href(t.name,n),g.transitionTo("siteform.login",{next:i}))})),404===Object(r.i)(window,"tkf.status")&&-1===t.name.indexOf("404")?(window.tkf.status=200,e.preventDefault(),void i.pageNotFound()):"settings"===t.name?(e.preventDefault(),void g.transitionTo("settings.account")):void("viewers.inter"!==t.name||n.calname||(e.preventDefault(),g.transitionTo("site")))})),e.$on("$stateChangeSuccess",(function(e,t,n,a,i){var r,o;g.is(a,i)||(v.previousState(a,i),v.updatePath(),r={name:a.name,url:a.url},o={name:t.name,url:t.url},h.popup.close(),h.status.close(),"viewers.inter"!==t.name&&p.stateChange({toState:o,toParams:n,fromState:r,fromParams:i}),t.data&&t.data.recorder||s.a.trackPage(),t.data&&t.data.scrollToTop&&window.scrollTo(0,0))})),window.addEventListener("orientationchange",(function(){return setTimeout((function(){return window.location.reload(!0)}),10)})),f.listen(),d.a.init()}])},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),o=n(22),s=!(window===window.top)&&0===window.name.indexOf("tkf-"),l=!1;window._tkf.bootTockify=function(e,t){var n,a;l||(l=!0,e(i.a),t(o),n=document.querySelector("html"),-1!==window.name.indexOf("fullscreen")?n.style["overflow-y"]="scroll":-1===window.name.indexOf("embed")&&(n.style["overflow-y"]="auto"),a=function(){return i.a.bootstrap(document.body,["tkfngViewer"])},s?(r.a.addHandler("host-info",(function(e){var t=!!_tkf.hostInfo;_tkf.hostInfo=e,t||a()})),r.a.postMessage({type:"client-listening",guid:window.name})):a())}}]);